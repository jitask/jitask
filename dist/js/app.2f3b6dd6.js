(function(t){function e(e){for(var i,n,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&p.push(s[n][0]),s[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},s={app:0},r=[];function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://cdn.jsdelivr.net/gh/jitask/jitask/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0116":function(t,e,a){"use strict";a("8146")},"06cb":function(t,e,a){"use strict";a("cfd8")},"08f2":function(t,e,a){"use strict";a("e629")},"0c6d":function(t,e,a){},"142f":function(t,e,a){"use strict";a("518b")},"21cd":function(t,e,a){"use strict";a("5aa5")},"24c3":function(t,e,a){},"2d12":function(t,e,a){},"313d":function(t,e,a){"use strict";a("a18c")},"31a4":function(t,e,a){"use strict";a("8ea1")},"352f":function(t,e,a){"use strict";a("6a53")},"36a4":function(t,e,a){"use strict";a("46bf")},"39cf":function(t,e,a){},"3aae":function(t,e,a){"use strict";a("9d1c")},"42de":function(t,e,a){},"44b2":function(t,e,a){"use strict";a("8f7f")},4678:function(t,e,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=r,t.exports=s,s.id="4678"},"46bf":function(t,e,a){},"48a9":function(t,e,a){},"4ba0":function(t,e,a){"use strict";a("a7de")},"4bf5":function(t,e,a){},"4ec0":function(t,e,a){},"4f5b":function(t,e,a){"use strict";a("c05a")},"518b":function(t,e,a){},"53ab":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var i={};a.r(i),a.d(i,"taskFieldType",(function(){return d})),a.d(i,"projectFieldType",(function(){return u})),a.d(i,"formatDay",(function(){return p})),a.d(i,"formatDate",(function(){return m})),a.d(i,"formatTime",(function(){return f})),a.d(i,"formatComponentTemplate",(function(){return v})),a.d(i,"getUser",(function(){return g})),a.d(i,"setUser",(function(){return _})),a.d(i,"ServerError",(function(){return S})),a.d(i,"NotFound",(function(){return w})),a.d(i,"InvalidParameter",(function(){return k})),a.d(i,"VerificationFailure",(function(){return C})),a.d(i,"AlreadyExists",(function(){return j})),a.d(i,"PermissionDenied",(function(){return $}));a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("159b"),a("b64b"),a("4de4");var s=a("2b0e"),r=a("2f62"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view"),a("Alert",{ref:"alert"})],1)},o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.messages,(function(e,i){return a("div",{key:e.key,staticClass:"alert-box flex-column align-items-center",class:{shake:e.dismiss>0},style:{bottom:60*i+30+"px",right:"30px"}},[a("div",{staticClass:"flex-column",staticStyle:{"align-items":"center",flex:"1"}},[a("b-alert",{attrs:{show:e.dismiss,variant:e.variant},on:{dismissed:function(t){e.dismiss=0},"dismiss-count-down":t.countDownChanged}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{color:"inherit"}},[a("div",{staticClass:"mb-0",staticStyle:{display:"flex"}},["success"===e.variant?a("b-iconstack",{attrs:{"font-scale":"1.5"}},[a("b-icon",{attrs:{stacked:"",icon:"check-circle",variant:e.variant}})],1):a("b-iconstack",{attrs:{"font-scale":"1.5"}},[a("b-icon",{attrs:{stacked:"",icon:"x-circle",variant:e.variant}})],1)],1),a("div",{staticStyle:{"margin-left":"10px",color:"inherit",display:"flex",flex:"1","letter-spacing":"1px","font-size":"15px"}},[t._v(t._s(e.msg))])])])],1)])})),0)},c=[];a("ac1f"),a("1276");function d(t){var e="";switch(t){case 1:e="单选菜单";break;case 2:e="单行文本";break;case 3:e="";break;case 4:e="浮点数";break;case 5:e="日期";break;case 6:e="时间";break;case 7:e="单选迭代";break;case 8:e="单选成员";break;case 9:e="项目";break;case 10:e="";break;case 11:e="工作项类型";break;case 12:e="工作项状态";break;case 13:e="多选成员";break;case 14:e="工作项编号";break;case 15:e="";break;case 16:e="多选菜单";break;case 17:e="";break;case 18:e="";break;case 19:e="";break;case 20:e="";break;case 21:e="";break;case 22:e="状态";break}return e}function u(t){var e="";switch(t){case"integer":e="整数";break;case"time":e="时间";break;case"percentage":e="百分数";break;case"date":e="日期";break;case"user":e="单选成员";break;case"text":e="单行文本";break;case"rich_text":e="多文本";break;case"status":e="状态";break}return e}a("9129"),a("a9e3");function p(t){if(!t)return"-";if(Number.isNaN(t))return"0000-00-00";if(null==t)return"-";if(0===t)return"-";var e=new Date(t),a=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),r=a+"-"+(i<10?"0"+i:i)+"-"+(s<10?"0"+s:s);return r}function m(t){if(!t)return"-";if(Number.isNaN(t))return"0000-00-00 00:00:00";if(null==t)return"-";if(0===t)return"-";var e=new Date(t),a=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),r=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),l=a+"-"+(i<10?"0"+i:i)+"-"+(s<10?"0"+s:s)+" "+(r<10?"0"+r:r)+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o);return l}function f(t){if(!t)return"-";if(Number.isNaN(t))return"0000-00-00 00:00:00";if(null==t)return"-";if(0===t)return"-";var e=new Date(t),a=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),r=e.getHours(),n=e.getMinutes(),o=a+"年"+(i<10?"0"+i:i)+"月"+(s<10?"0"+s:s)+"日 "+(r<12?"上午":"下午")+(r<10?"0"+r:r)+"点"+(n<10?"0"+n:n)+"分";return o}function v(t){var e="";switch(t){case"com00001":e="需求";break;case"com00002":e="缺陷";break;case"com00003":e="任务";break;case"com00004":e="成员";break;case"com00005":e="报表";break;case"com00009":e="项目概览";break}return e}var h=a("852e"),x=a.n(h);function g(){var t=x.a.get("jitask");return t}function _(t){x.a.set("jitask",t)}var y={ServerError:"服务错误",NotFound:"不存在",User:"用户",Phone:"手机号码",AuthFailure:"授权失败",InvalidParameter:"参数无效",InvalidToken:"凭证无效",MissingToken:"缺失凭证",AlreadyExists:"已经存在",PhoneExists:"手机号码存在",InvalidFormat:"格式无效",VerificationFailure:"验证失败",InvalidCode:"验证码无效",EmailExists:"邮箱地址存在",Team:"团队",Name:"名称",Password:"密码",TooLong:"太长",CodeExpired:"验证码过期",PermissionDenied:"权限禁止",CreateSpace:"新建页面组"},b=y;function S(t){var e="";return t.length>=1&&(e=b[t[0]]),e}function w(t){return E(t)}function k(t){var e="";if(2===t.length)for(var a=t.length-1;a>=0;a--)e+=b[t[a]];else if(t.length>=3)for(var i=1;i<t.length;i++)e+=b[t[i]];return e}function C(t){var e="";return 2===t.length&&(e=b[t[1]]),e}function j(t){return E(t)}function $(t){return z(t)}function z(t){var e="";if(2===t.length)for(var a=t.length-1;a>=0;a--)e+=b[t[a]];return e}function E(t){var e="";if(2===t.length)for(var a=t.length-1;a>=0;a--)e+=b[t[a]];else if(3===t.length)for(var i=1;i<t.length;i++)e+=b[t[i]];return e}var M={data:function(){return{dismissCountDown:3,messages:[],index:0}},methods:{success:function(t){var e=this;e.index+=1,e.msg=t||"操作成功";var a={key:e.index,dismiss:e.dismissCountDown,variant:"success",msg:e.msg};e.messages.push(a)},danger:function(t){var e=this;e.index+=1;var a="",i=t.split("."),s="";if(i.length>=1)switch(a=i[0],a){case"ServerError":s=S(i);break;case"NotFound":s=w(i);break;case"InvalidParameter":s=k(i);break;case"VerificationFailure":s=C(i);break;case"AlreadyExists":s=j(i);break;case"PermissionDenied":s=$(i);break;default:s=a;break}e.msg=s;var r={key:e.index,dismiss:e.dismissCountDown,variant:"danger",msg:e.msg};e.messages.push(r)},countDownChanged:function(t){if(0===t){var e=this;e.messages.shift()}}}},P=M,T=(a("3aae"),a("2877")),D=Object(T["a"])(P,l,c,!1,null,"7f730eef",null),I=D.exports,O={name:"App",data:function(){return{}},mounted:function(){var t=this;t.bus.$on("alertSuccess",(function(e){t.$refs.alert.success(e)})),t.bus.$on("alertDanger",(function(e){t.$refs.alert.danger(e)}))},components:{Alert:I}},B=O,H=Object(T["a"])(B,n,o,!1,null,null,null),A=H.exports,U=(a("d3b7"),a("ddb0"),a("5319"),{sidebar:function(t){return t.app.sidebar}}),L=U;s["default"].use(r["a"]);var N,q,V,F,G=a("d307"),R=G.keys().reduce((function(t,e){var a=e.replace(/^\.\/(.*)\.\w+$/,"$1"),i=G(e);return t[a]=i.default,t}),{}),W=new r["a"].Store({modules:R,getters:L}),Y=W,J=a("8c4f"),Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-row"},[a("Sidebar",{ref:"Sidebar"}),a("div",{staticClass:"rightMain"},[t.isProject?a("ProjectHeader"):a("Header",{ref:"Header",attrs:{isWorkbench:t.isWorkbench}}),a("Main")],1)],1)},K=[],Q=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-column ibox"},[a("div",{staticClass:"app-header flex-row align-items-center"},[a("Toggle"),a("div",{staticClass:"task-flex-auto"},[t.isWorkbench?a("WorkbenchHeader"):t._e()],1),a("UserCenterAvatar")],1)])}),X=[],tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1"}},[a("div",{staticClass:"com-outline"},t._l(t.items,(function(e){return a("div",{key:e.com},[a("router-link",{staticClass:"com align-items-center justify-content-center",class:{active:e.uuid===t.selectedCom},attrs:{to:{name:"Workbench",params:{team:t.team,type:e.uuid}}}},[a("div",{staticStyle:{"font-size":"16px","font-weight":"500",flex:"0 0 auto"}},[t._v(" "+t._s(e.name)+" ")])])],1)})),0)])},et=[],at={data:function(){return{team:"-",selectedCom:"overview",items:[{uuid:"overview",name:"概览"},{uuid:"dashboard",name:"仪表盘"}]}},watch:{$route:function(){this.shift()}},mounted:function(){var t=this;t.team=t.$route.params.team,t.shift()},methods:{shift:function(){var t=this;t.selectedCom=t.$route.params.type||t.selectedCom}}},it=at,st=(a("d5a4"),Object(T["a"])(it,tt,et,!1,null,"1402b7bc",null)),rt=st.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row avatar-container"},[a("div",{staticClass:"flex-row align-items-center avatar-header-person-plus"},[a("b-icon",{attrs:{icon:"person-plus",scale:"1.5"}})],1),a("div",{staticClass:"avatar-center",attrs:{id:"popover-user-center",hidefocus:"true",tabindex:"0"}},[a("div",{staticClass:"align-items-center flex-row avatar-center-icon"},[a("img",{attrs:{src:t.user.avatar}})])]),a("b-popover",{attrs:{target:"popover-user-center",placement:"bottom",triggers:"focus","boundary-padding":10,show:t.show},on:{"update:show":function(e){t.show=e}}},[a("div",{staticClass:"flex-column avatar-dropdown"},[a("div",{staticClass:"avatar-dropdown-header"},[a("div",[t._v(t._s(t.user.name))]),a("div",{staticClass:"dropdown-email"},[t._v(t._s(t.user.email))])]),a("div",{staticClass:"avatar-dropdown-line"}),a("div",{staticClass:"avatar-dropdown-item"},[a("div",{on:{click:function(e){return t.goto("account")}}},[t._v("账号设置")])]),a("div",{staticClass:"avatar-dropdown-item"},[a("div",{on:{click:function(e){return t.goto("safe")}}},[t._v("安全设置")])]),a("div",{staticClass:"avatar-dropdown-item"},[a("div",{on:{click:function(e){return t.goto("certificate")}}},[t._v("登录凭证")])]),a("div",{staticClass:"avatar-dropdown-line"}),a("div",{staticClass:"avatar-dropdown-item"},[a("div",{on:{click:function(e){return t.logout("Logout")}}},[t._v("注销")])])])])],1)},ot=[],lt=a("bc3a"),ct=a.n(lt),dt={base_url:"/proxy",upload_url:"/proxy/api/team/{0}/upload"},ut=dt,pt={get:function(t,e){return new Promise((function(a,i){ct.a.get(ut.base_url+t,{params:e}).then((function(t){t&&a(t)})).catch((function(t){i(t)}))}))},post:function(t,e){return new Promise((function(a,i){ct.a.post(ut.base_url+t,e).then((function(t){t&&a(t)})).catch((function(t){i(t)}))}))}},mt=pt,ft={data:function(){return{show:!1,user:{}}},created:function(){var t=this;t.team=t.$route.params.team,t.get_user()},methods:{goto:function(t){var e=this;e.show=!1,e.$route.params.type!==t&&Qm.push({name:"Center",params:{type:t}})},get_user:function(){var t=this,e=t.urls.user_get.format(t.team,g());mt.get(e).then((function(e){t.user=e.data}))},logout:function(t){Qm.push({name:t})}}},vt=ft,ht=(a("d461"),Object(T["a"])(vt,nt,ot,!1,null,"a2d02c20",null)),xt=ht.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toggle-container flex-row align-items-center"},[t.sidebar.opened?t._e():a("div",{staticClass:"toggle-icon",on:{click:t.open}},[a("svg",{staticClass:"icon",attrs:{t:"1603696402499",viewBox:"0 0 1028 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"31622",width:"20",height:"20"}},[a("path",{attrs:{d:"M41.59999967 784.99999967l483.00000033 0c16.80000033 0 33.59999967 20.99999967 33.59999967 42.00000033 0 25.20000001-12.6 42.00000033-33.59999967 42.00000033l-483.00000033 0c-16.80000033 0-33.59999967-16.80000033-33.59999967-42.00000033 0-20.99999967 12.6-42.00000033 33.59999967-42.00000033z m466.2-125.99999999l-457.79999934 0c-25.20000001 0-46.19999967-20.99999967-46.20000066-41.99999935 0-25.20000001 20.99999967-42.00000033 46.20000066-42.00000033L507.79999967 575c25.20000001 0 46.19999967 16.80000033 46.20000066 42.00000033s-20.99999967 42.00000033-46.20000066 41.99999935z m0-293.99999936c25.20000001 0 46.19999967 20.99999967 46.20000066 41.99999935 0 25.20000001-20.99999967 42.00000033-46.20000066 42.00000033l-457.79999934 0c-25.20000001 0-46.19999967-16.80000033-46.20000066-42.00000033s20.99999967-42.00000033 46.20000066-41.99999935L507.79999967 365.00000032z m-4.19999934-125.99999999l-445.20000034 0c-29.40000033 0-50.4-16.80000033-50.39999999-42.00000033s20.99999967-42.00000033 50.4-42.00000033l445.20000033 0c29.40000033 0 50.4 16.80000033 50.4 42.00000033s-20.99999967 42.00000033-50.4 42.00000033z m189-25.2c16.80000033-16.80000033 46.19999967-16.80000033 63 0l247.79999967 268.79999933c16.80000033 16.80000033 16.80000033 50.4 0 67.20000033l-247.79999966 268.80000034c-16.80000033 16.80000033-46.19999967 16.80000033-63.00000001 0s-16.80000033-50.4 0-67.20000033l218.39999934-235.19999968-218.39999934-235.20000065c-16.80000033-20.99999967-16.80000033-50.4 0-67.19999934z","p-id":"31623",fill:"#515151"}})])]),a("div",{staticClass:"toggle-title"},[t._v(" "+t._s(t.title)+" ")])])},_t=[],yt=a("5530"),bt={data:function(){return{hidden:!1,title:""}},watch:{$route:function(){var t=this;t.title=t.$route.meta.title}},created:function(){var t=this;t.title=t.$route.meta.title},methods:{open:function(){this.$store.dispatch("app/toggleSideBar")}},components:{},computed:Object(yt["a"])({},Object(r["b"])(["sidebar"]))},St=bt,wt=(a("c887"),Object(T["a"])(St,gt,_t,!1,null,"43877013",null)),kt=wt.exports,Ct={data:function(){return{hidden:!1,attrs:[{uuid:"com",name:"项目组建"},{uuid:"issue_type",name:"工作项类型",items:[{uuid:"field"},{uuid:"issue_type_permission"},{uuid:"issue_type_flow"}]},{uuid:"project_permission",name:"项目权限"},{uuid:"project_field",name:"项目属性"},{uuid:"project_status",name:"项目状态"},{uuid:"project_info",name:"项目信息"},{uuid:"more",name:"更多"}],team:"",project:"",currentTabComponent:rt,title:""}},props:{isWorkbench:{default:!1}},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.title=t.$route.meta.title},methods:{shift:function(){var t=this;t.isWorkbench&&(t.currentTabComponent=rt)}},computed:{attr:function(){var t=this;return t.$route.params.attr||"com"}},components:{WorkbenchHeader:rt,UserCenterAvatar:xt,Toggle:kt}},jt=Ct,$t=Object(T["a"])(jt,Q,X,!1,null,null,null),zt=$t.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-column ibox"},[a("div",{staticClass:"app-header flex-row align-items-center"},[a("Toggle"),a("div",{staticClass:"task-flex-auto"},[t.items&&t.items.length>0?a("div",{staticClass:"com-outline",attrs:{id:"com"}},[a("div",{staticClass:"project-header-dropdown"},[a("DropDown",{attrs:{team:t.team,name:t.projectName}})],1),t._l(t.items,(function(e){return a("div",{key:e.com},[a("router-link",{staticClass:"com align-items-center justify-content-center",class:{active:e.uuid===t.selectedCom},attrs:{to:{name:"Component",params:{team:t.team,project:t.project,com:e.uuid}}}},[a("div",{staticClass:"project-header-com"},["designer"===e.uuid?a("b-icon",{attrs:{scale:"0.9",icon:"gear"}}):t._e(),t._v(" "+t._s(e.name)+" ")],1)])],1)})),a("div",[a("router-link",{staticClass:"com align-items-center justify-content-center",class:{active:"designer"===t.selectedCom},attrs:{to:{name:"ComponentDesigner",params:{team:t.team,project:t.project,com:"designer",attr:"com"}}}},[a("div",{staticClass:"project-header-designer"},[a("b-icon",{attrs:{scale:"0.9",icon:"gear"}}),t._v(" 项目设置 ")],1)])],1)],2):a("div",{staticClass:"com-outline"})]),a("UserCenterAvatar")],1),t.designer?a("div",{staticClass:"flex-row justify-content-center project-header-designer-attr"},t._l(t.attrs,(function(e){return a("div",{key:e.uuid,staticClass:"attr"},[a("router-link",{class:{active:t.isActive(e,t.attr)},attrs:{to:{name:"ComponentDesigner",params:{team:t.team,project:t.project,com:"designer",attr:e.uuid}}}},[t._v(t._s(e.name))])],1)})),0):t._e()])},Mt=[],Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row align-items-center"},[a("div",{staticStyle:{"margin-right":"15px",width:"1px",height:"22px","border-left":"1px solid #aaaaaa"}}),a("div",{staticClass:"flex-row align-items-center project-dropdown",class:{open:t.isShow},attrs:{id:"popover-project",hidefocus:"true",tabindex:"0"}},[a("div",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.name))]),a("b-popover",{ref:"popover",attrs:{target:"popover-project",triggers:"focus",placement:"bottom"},on:{show:t.project_list,hidden:t.fnHidden}},[a("div",{staticStyle:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden",margin:"3px 0"}},t._l(t.projects,(function(e){return a("div",{key:e.uuid,staticClass:"status-item",staticStyle:{padding:"5px 10px"}},[a("router-link",{attrs:{to:{name:"Project",params:{team:t.team,project:e.uuid}}}},[t._v(t._s(e.name))])],1)})),0)])],1)])},Tt=[],Dt={data:function(){return{projects:[],isShow:!1}},props:{team:String,name:String},methods:{project_list:function(){var t=this;t.isShow=!0;var e=t.urls.team_project_list.format(t.team),a={category:2,name:""};mt.post(e,a).then((function(e){t.projects=e.data}))},fnHidden:function(){var t=this;t.isShow=!1}}},It=Dt,Ot=(a("aa5b"),Object(T["a"])(It,Pt,Tt,!1,null,"42a466e6",null)),Bt=Ot.exports,Ht={data:function(){return{attrs:[{uuid:"com",name:"项目组建"},{uuid:"issue_type",name:"工作项类型",items:[{uuid:"field"},{uuid:"issue_type_permission"},{uuid:"issue_type_flow"}]},{uuid:"project_permission",name:"项目权限"},{uuid:"project_field",name:"项目属性"},{uuid:"project_status",name:"项目状态"},{uuid:"project_info",name:"项目信息"},{uuid:"more",name:"更多"}],team:"",project:"",designer:!1,dropdownActive:!1,dropParams:["个人中心","退出登录"],selectedCom:"",projects:[],currentTabComponent:"",items:[],projectName:"",title:""}},mounted:function(){var t=this;t.bus.$on("updateProjectInfo",(function(){t.project_get()})),t.bus.$on("updateComponents",(function(){t.components_get()}))},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.com=t.$route.params.com,t.selectedCom=t.$route.params.com,t.title=t.$route.meta.title,t.project_get(),t.components_get(),t.shift()},methods:{components_get:function(){var t=this;mt.get(t.urls.components.format(t.team,t.project)).then((function(e){t.items=e.data}))},project_get:function(){var t=this;mt.get(t.urls.project_get.format(t.team,t.project)).then((function(e){t.projectName=e.data.name}))},shift:function(){var t=this;if(t.team=t.$route.params.team,t.project=t.$route.params.project,t.com=t.$route.params.com,t.designer=!1,"designer"===t.com)return t.currentTabComponent="designer",void(t.designer=!0);mt.get(t.urls.component_get.format(t.team,t.project,t.com)).then((function(e){t.currentTabComponent=e.data.template_uuid,t.comName=e.data.name,e.data.objects.length>0&&(t.issue_type=e.data.objects[0].uuid)}))},isActive:function(t,e){if(t.uuid===e)return!0;if(t.items&&t.items.length>0)for(var a=0;a<t.items.length;a++)if(t.items[a].uuid===e)return!0;return!1}},computed:{attr:function(){var t=this;return t.$route.params.attr||"com"}},watch:{$route:function(){var t=this;t.selectedCom=t.$route.params.com,t.com!==t.$route.params.com&&t.shift()}},components:{DropDown:Bt,UserCenterAvatar:xt,Toggle:kt}},At=Ht,Ut=(a("6407"),Object(T["a"])(At,Et,Mt,!1,null,"a57612c8",null)),Lt=Ut.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-container"},[a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[a("router-view")],1)],1)},qt=[],Vt={},Ft=Object(T["a"])(Vt,Nt,qt,!1,null,null,null),Gt=Ft.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.sidebar.opened?a("div",{staticClass:"leftBar"},[a("div",{staticClass:"left-header flex-row"},[a("div",{staticClass:"sidebar-logo task-flex-auto"},[a("router-link",{attrs:{to:{name:"Main"}}},[a("div",{staticClass:"flex-row align-items-center"},[a("div",[a("svg",{staticClass:"icon",attrs:{t:"1604535926297",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5606",width:"25",height:"25"}},[a("path",{attrs:{d:"M1150.244571 327.0656L925.2864 26.975086c-3.920457-5.880686-14.862629-9.0112-25.951086-9.0112-10.620343 0-21.211429 2.8672-25.980343 9.0112l-207.608685 282.799543c-24.488229 37.917257-12.522057 51.931429 34.552685 51.931428h103.892115c-0.468114 50.5856-3.364571 102.341486-7.753143 137.216-20.948114 167.087543-127.268571 211.646171-131.744914 213.577143-15.594057 6.436571-12.6976 29.9008 6.407314 29.9008 268.463543 0 331.103086-310.915657 340.757943-380.693943h103.8336c1.462857 0.117029 3.861943 0.292571 6.816914 0.292572 15.623314 0 46.021486-3.978971 27.735771-34.933029z",fill:"#ffffff","p-id":"5607"}}),a("path",{attrs:{d:"M600.736914 567.968914h-134.026971c0.585143-65.301943 4.271543-132.213029 9.947428-177.210514 27.092114-215.683657 164.308114-273.261714 170.130286-275.6608 20.187429-8.367543 16.384-38.619429-8.279771-38.619429-346.5216 0-427.446857 401.408-439.9104 491.461486H64.570514a88.4736 88.4736 0 0 0-8.894171-0.4096c-20.099657 0-59.392 5.090743-35.810743 45.143772l290.464914 387.452342c5.061486 7.606857 19.2512 11.644343 33.528686 11.644343 13.692343 0 27.4432-3.715657 33.440914-11.644343l268.0832-365.187657c31.685486-48.9472 16.1792-66.9696-44.6464-66.9696z",fill:"#ffffff","p-id":"5608"}})])]),a("div",{staticClass:"sidebar-logo-title"},[a("span",[t._v("Jitask")])])])])],1),a("div",{staticClass:"task-flex-none sidebar-toggle-icon",on:{click:t.close}},[a("svg",{staticClass:"icon",attrs:{t:"1603695788065",viewBox:"0 0 1028 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25977",width:"20",height:"20"}},[a("path",{attrs:{d:"M989.866667 234.666667h-490.666667c-17.066667 0-34.133333-21.333333-34.133333-42.666667 0-25.6 12.8-42.666667 34.133333-42.666667h490.666667c17.066667 0 34.133333 17.066667 34.133333 42.666667 0 21.333333-12.8 42.666667-34.133333 42.666667z m-473.6 128h465.066666c25.6 0 46.933333 21.333333 46.933334 42.666666 0 25.6-21.333333 42.666667-46.933334 42.666667H516.266667c-25.6 0-46.933333-17.066667-46.933334-42.666667s21.333333-42.666667 46.933334-42.666666z m0 298.666666c-25.6 0-46.933333-21.333333-46.933334-42.666666 0-25.6 21.333333-42.666667 46.933334-42.666667h465.066666c25.6 0 46.933333 17.066667 46.933334 42.666667s-21.333333 42.666667-46.933334 42.666666H516.266667z m4.266666 128h452.266667c29.866667 0 51.2 17.066667 51.2 42.666667s-21.333333 42.666667-51.2 42.666667h-452.266667c-29.866667 0-51.2-17.066667-51.2-42.666667s21.333333-42.666667 51.2-42.666667z m-192 25.6c-17.066667 17.066667-46.933333 17.066667-64 0l-251.733333-273.066666c-17.066667-17.066667-17.066667-51.2 0-68.266667l251.733333-273.066667c17.066667-17.066667 46.933333-17.066667 64 0s17.066667 51.2 0 68.266667l-221.866666 238.933333 221.866666 238.933334c17.066667 21.333333 17.066667 51.2 0 68.266666z","p-id":"25978",fill:"#bfbfbf"}})])])]),a("div",{staticClass:"task-flex-auto"},[a("ul",[a("li",{class:{active:1===t.currentIndex}},[a("Link",{attrs:{icon:"Main",to:{name:"Workbench",params:{team:t.team,type:"overview",title:"我的工作台"}}}})],1),a("li",[a("span")]),a("li",{class:{active:21===t.currentIndex}},[a("Link",{attrs:{icon:"Projects",to:{name:"Projects",params:{team:t.team,title:"项目管理"}}}})],1),a("li",{class:{active:23===t.currentIndex}},[a("Link",{attrs:{icon:"Wiki",to:{name:"Spaces",params:{team:t.team,title:"文档中心"}}}})],1),a("li",{class:{active:26===t.currentIndex}},[a("Link",{attrs:{icon:"TeamSetting",to:{name:"TeamSetting",params:{team:t.team,type:"info",title:"组织架构"}}}})],1),a("li",[a("span")]),a("li",{class:{active:82===t.currentIndex}},[a("Link",{attrs:{icon:"ProjectSetting",to:{name:"ProjectSettingManager",params:{team:t.team,title:"项目配置中心"}}}})],1),a("li",{class:{active:83===t.currentIndex}},[a("Link",{attrs:{icon:"WikiSetting",to:{name:"WikiSetting",params:{team:t.team,type:"list",title:"文档配置中心"}}}})],1)])]),a("div",{staticClass:"sidebar-help"},[a("ul",[a("li",[a("Link",{attrs:{icon:"Help",to:{name:"Help",params:{title:"帮助中心"}}}})],1)])])]):t._e()])},Wt=[],Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row align-items-center"},[a("div",{staticStyle:{flex:"0 0 auto"}},["Main"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1601469996753",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"22148",width:"16",height:"16"}},[a("path",{attrs:{d:"M925.8 98.5H98.1c-16.3 0-29.6 13.3-29.6 29.6v591.2c0 16.3 13.3 29.6 29.6 29.6h266v118.2h-88.7c-16.4 0-29.6 13.2-29.6 29.6 0 16.4 13.2 29.6 29.6 29.6h473c16.4 0 29.6-13.2 29.6-29.6 0-16.4-13.2-29.6-29.6-29.6h-88.7V748.8h266c16.3 0 29.6-13.3 29.6-29.6V128.1c0-16.3-13.3-29.6-29.5-29.6z m-810.9 47.6h796.3v405.1H114.9V146.1z m485.7 721H423.2V748.8h177.4v118.3z m311.8-165.8H114.9V601h797.4v100.3z",fill:"#ffffff","p-id":"22149"}}),a("path",{attrs:{d:"M443.8 264.4H217.5c-6.4 0-11.5 5.2-11.5 11.5v167.4c0 6.4 5.2 11.5 11.5 11.5h226.3c6.4 0 11.5-5.2 11.5-11.5V276c0-6.4-5.1-11.6-11.5-11.6z m-20.8 153c0 4.7-4 8.5-9 8.5H242.6c-5 0-9-3.8-9-8.5V302c0-4.7 4-8.5 9-8.5H414c5 0 9 3.8 9 8.5v115.4zM809.8 264.4H583.5c-6.4 0-11.5 5.2-11.5 11.5v167.4c0 6.4 5.2 11.5 11.5 11.5h226.3c6.4 0 11.5-5.2 11.5-11.5V276c0.1-6.4-5.1-11.6-11.5-11.6z m-20.8 153c0 4.7-4 8.5-9 8.5H608.6c-5 0-9-3.8-9-8.5V302c0-4.7 4-8.5 9-8.5H780c5 0 9 3.8 9 8.5v115.4z",fill:"#ffffff","p-id":"22150"}})])]):t._e(),"Projects"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1601470039687",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"23021",width:"16",height:"16"}},[a("path",{attrs:{d:"M921.6 659.911111h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2h-204.8c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2H563.2v102.4h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2H409.6c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2H204.8v102.4h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 22.755556-22.755556 45.511111-51.2 45.511111H51.2c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2c0-56.888889 45.511111-102.4 102.4-102.4h256V364.088889h-51.2c-28.444444 0-51.2-22.755556-51.2-51.2V164.977778c0-28.444444 22.755556-51.2 51.2-51.2h204.8c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2h-51.2v102.4h256c56.888889 0 102.4 45.511111 102.4 102.4v91.022222z",fill:"#ffffff","p-id":"23022"}})])]):t._e(),"Commit"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1601470089681",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"23884",width:"16",height:"16"}},[a("path",{attrs:{d:"M0 934.4c0 12.8 12.8 25.6 25.6 25.6h972.8c12.8 0 25.6-12.8 25.6-25.6V320H0v614.4z m646.4-236.8l128-57.6-128-57.6V505.6l230.4 108.8v51.2L646.4 768v-70.4zM537.6 480h64l-128 320h-64l128-320z m-384 134.4L384 505.6V576l-128 64 128 57.6V768l-230.4-102.4v-51.2zM998.4 64H25.6c-12.8 0-25.6 12.8-25.6 25.6V256h1024V89.6c0-12.8-12.8-25.6-25.6-25.6zM224 185.6c0 6.4-6.4 12.8-12.8 12.8H140.8c-6.4 0-12.8-6.4-12.8-12.8v-44.8c0-6.4 6.4-12.8 12.8-12.8h70.4c6.4 0 12.8 6.4 12.8 12.8v44.8z m160 0c0 6.4-6.4 12.8-12.8 12.8H300.8c-6.4 0-12.8-6.4-12.8-12.8v-44.8c0-6.4 6.4-12.8 12.8-12.8h70.4c6.4 0 12.8 6.4 12.8 12.8v44.8z","p-id":"23885",fill:"#ffffff"}})])]):t._e(),"Wiki"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1601470300864",viewBox:"0 0 1137 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25227",width:"16",height:"16"}},[a("path",{attrs:{d:"M1136.696889 511.089778s0-1.934222 0 0v-409.031111c0-55.637333-46.535111-101.319111-101.262222-101.319111h-370.517334a18.545778 18.545778 0 0 0-16.156444 7.964444l-76.970667 93.297778H102.058667c-56.718222 0-101.262222 45.681778-101.262223 101.262222v718.961778c0 55.580444 46.592 101.262222 101.262223 101.262222h933.432889c56.661333 0 101.262222-45.681778 101.262222-101.262222V511.089778zM102.058667 141.710222h479.857777a18.545778 18.545778 0 0 0 16.213334-7.964444L677.091556 38.513778h360.391111c34.417778 0 60.757333 27.818667 60.757333 61.553778V489.244444h-54.613333V380.017778c0-33.735111-28.444444-59.562667-60.814223-59.562667H152.632889A60.302222 60.302222 0 0 0 91.932444 380.017778V489.244444H39.253333V203.320889c0-33.792 28.330667-61.610667 62.805334-61.610667z m30.321777 345.6v-105.244444c0-11.946667 10.126222-19.911111 20.252445-19.911111h830.179555c12.174222 0 20.252444 9.955556 20.252445 19.911111v105.244444H132.380444z m901.12 496.469334H102.001778A60.757333 60.757333 0 0 1 41.301333 922.168889V531.000889H1096.248889v391.224889c0 33.735111-28.387556 61.553778-62.805333 61.553778z","p-id":"25228",fill:"#ffffff"}})])]):t._e(),"TeamSetting"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1601470343097",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"26129",width:"16",height:"16"}},[a("path",{attrs:{d:"M216.3 515.7c9-6.7 18.5-12.7 28.3-18.3 12.8-0.1 23.1-10.5 23.1-23.3 0-5.9-2.2-11.2-5.8-15.2v-0.3c-1.9-1.8-3.9-3.5-5.7-5.3-56.7-13.2-99-63.9-99-124.6 0-60.7 42.3-111.4 98.9-124.6 2-1.9 4-3.8 6.1-5.6 1.5-18.2 11-34.2 25-44.3-0.7 0-1.3-0.1-2-0.1-96.4 0-174.5 78.1-174.5 174.5 0 62.7 33.1 117.7 82.7 148.4C80.3 520.9 0.1 630.6 0.1 759.2v41.1c0 22.3 18.1 40.4 40.4 40.4h46.9v-46.5H46.7v-43.6c0-109.6 71.1-202.4 169.6-234.9z m406.2-24.6c66.1-38.2 110.7-109.6 110.7-191.5 0-122.1-99-221.1-221.1-221.1S291 177.5 291 299.6c0 81.9 44.5 153.3 110.7 191.5C253.2 538 145.6 676.7 145.6 840.7v58.2c0 25.7 20.8 46.5 46.5 46.5h640c25.7 0 46.5-20.8 46.5-46.5v-58.2c0.1-164-107.6-302.8-256.1-349.6zM337.6 299.6c0-96.4 78.2-174.5 174.5-174.5 96.4 0 174.5 78.1 174.5 174.5s-78.1 174.6-174.5 174.6c-96.4-0.1-174.5-78.2-174.5-174.6z m494.5 599.2h-640v-58.2c0-176.7 143.3-320 320-320s320 143.3 320 320v58.2z m0.1-421.7c49.3-30.8 82.1-85.7 82.1-148.4 0-96.4-77.6-174.5-173.3-174.5-0.7 0-1.3 0.1-1.9 0.1 13.9 10.2 23.3 26.1 24.8 44.3 2 1.8 4.1 3.7 6 5.6 56.3 13.2 98.2 63.9 98.2 124.6 0 60.7-42 111.4-98.3 124.6-1.9 1.8-3.8 3.6-5.7 5.3v0.3c-3.6 4.1-5.8 9.4-5.8 15.2 0 12.8 10.3 23.2 23 23.3 9.7 5.6 19.1 11.7 28.1 18.3 97.8 32.6 168.5 125.3 168.5 234.8v43.6h-40.4v46.5H984c22.1 0 40.1-18.1 40.1-40.4v-41.1c0-128.6-79.6-238.3-191.9-282.1z m0 0","p-id":"26130",fill:"#ffffff"}})])]):t._e(),"ProjectSetting"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1601470399733",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27002",width:"16",height:"16"}},[a("path",{attrs:{d:"M0 789.333c0-129.621 105.067-234.666 234.667-234.666h170.645a64 64 0 0 1 64.021 64.021v170.645c0 129.622-105.066 234.667-234.666 234.667C105.045 1024 0 918.933 0 789.333z m85.333 0c0 82.475 67.03 149.334 149.334 149.334 82.474 0 149.333-67.03 149.333-149.334V640H234.667c-82.475 0-149.334 67.03-149.334 149.333zM1024 234.667c0 129.621-105.067 234.666-234.667 234.666H618.688a64 64 0 0 1-64.021-64.021V234.667C554.667 105.045 659.733 0 789.333 0 918.955 0 1024 105.067 1024 234.667z m-85.333 0c0-82.475-67.03-149.334-149.334-149.334C706.86 85.333 640 152.363 640 234.667V384h149.333c82.475 0 149.334-67.03 149.334-149.333zM0 234.667C0 105.067 105.045 0 234.667 0c129.6 0 234.666 105.045 234.666 234.667v170.645a64 64 0 0 1-64.021 64.021H234.667C105.067 469.333 0 364.288 0 234.667z m85.333 0C85.333 316.97 152.192 384 234.667 384H384V234.667c0-82.304-66.859-149.334-149.333-149.334-82.304 0-149.334 66.859-149.334 149.334z m920.704 518.613c9.899 0 18.027 8.107 17.963 18.048v36.096c0 9.963-8.128 18.07-18.027 18.07H984.32c-9.899 0-20.437 7.743-23.424 17.215l-12.416 30.23c-4.672 8.768-2.773 21.717 4.224 28.693l15.403 15.36c7.04 7.04 7.04 18.517 0 25.557l-25.6 25.536a18.09 18.09 0 0 1-25.515 0l-15.296-15.36c-6.997-7.04-19.947-8.917-28.693-4.202l-30.251 12.437c-9.45 2.944-17.237 13.461-17.237 23.403v21.589a18.133 18.133 0 0 1-18.07 18.048h-36.074a18.133 18.133 0 0 1-18.091-18.048v-21.59c0-9.94-7.723-20.458-17.237-23.402l-30.294-12.437c-8.746-4.694-21.632-2.816-28.586 4.181l-15.424 15.381a18.07 18.07 0 0 1-25.494 0l-25.557-25.536a18.133 18.133 0 0 1 0-25.557l15.36-15.36c7.04-6.976 8.917-19.925 4.267-28.693l-12.502-30.23c-2.944-9.472-13.461-17.216-23.381-17.28h-21.675a18.09 18.09 0 0 1-18.069-18.026v-36.075c0-9.963 8.107-18.07 18.09-18.07h21.654c9.92 0 20.48-7.743 23.403-17.237l12.458-30.25c4.694-8.768 2.774-21.654-4.266-28.715l-15.318-15.36a18.048 18.048 0 0 1 0-25.536l25.536-25.493a18.027 18.027 0 0 1 25.494 0l15.402 15.36c7.04 6.997 19.904 8.917 28.672 4.224l30.23-12.395c9.514-2.965 17.237-13.483 17.237-23.467v-21.653a18.133 18.133 0 0 1 18.09-18.07h36.075a18.133 18.133 0 0 1 18.07 18.07v21.675c0 9.941 7.786 20.48 17.237 23.402l30.187 12.438c8.768 4.693 21.696 2.773 28.693-4.224l15.403-15.36a18.048 18.048 0 0 1 25.536 0l25.557 25.536c7.04 6.997 7.04 18.474 0 25.536l-15.36 15.36c-7.04 7.04-8.917 19.946-4.245 28.672l12.416 30.25c2.986 9.494 13.482 17.238 23.402 17.238h21.718z m-136.064 34.645a82.048 82.048 0 1 0-164.117 0 82.048 82.048 0 0 0 82.07 82.027 82.027 82.027 0 0 0 82.047-82.027z","p-id":"27003",fill:"#ffffff"}})])]):t._e(),"WikiSetting"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1601470443587",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"28569",width:"16",height:"16"}},[a("path",{attrs:{d:"M115.2 368h124.8c25.6 0 48-22.4 48-48V163.2h396.8v204.8H736v-224c0-19.2-12.8-32-32-32H259.2L64 323.2v553.6c0 19.2 12.8 32 32 32h480v-51.2H115.2V368z m121.6-153.6v102.4H144l92.8-102.4zM905.6 531.2V480c0-9.6-6.4-16-16-16h-19.2c-9.6 0-16 6.4-16 16v51.2c-32 12.8-54.4 41.6-54.4 76.8s22.4 64 54.4 76.8V896c0 9.6 6.4 16 16 16h19.2c9.6 0 16-6.4 16-16v-211.2c32-9.6 54.4-41.6 54.4-76.8s-22.4-64-54.4-76.8z m-25.6 118.4c-22.4 0-41.6-19.2-41.6-41.6s19.2-41.6 41.6-41.6 41.6 19.2 41.6 41.6-19.2 41.6-41.6 41.6z","p-id":"28570",fill:"#ffffff"}}),a("path",{attrs:{d:"M745.6 691.2V480c0-9.6-6.4-16-16-16h-19.2c-9.6 0-16 6.4-16 16v211.2c-32 12.8-54.4 41.6-54.4 76.8s22.4 64 54.4 76.8V896c0 9.6 6.4 16 16 16h19.2c9.6 0 16-6.4 16-16v-51.2c32-9.6 54.4-41.6 54.4-76.8s-22.4-64-54.4-76.8z m-25.6 118.4c-22.4 0-41.6-19.2-41.6-41.6s19.2-41.6 41.6-41.6 41.6 19.2 41.6 41.6-19.2 41.6-41.6 41.6zM224 464h352v32H224zM224 560h352v32H224zM224 656h352v32H224zM384 368h192v32h-192z","p-id":"28571",fill:"#ffffff"}})])]):t._e(),"Help"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1601470494636",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29424",width:"16",height:"16"}},[a("path",{attrs:{d:"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m-1.592889 791.153778a39.196444 39.196444 0 0 1-39.196444-39.196445 39.139556 39.139556 0 0 1 39.196444-39.196444 39.196444 39.196444 0 0 1 39.196445 39.196444 39.253333 39.253333 0 0 1-39.196445 39.196445z m173.397333-399.075556v0.682667a171.918222 171.918222 0 0 1-142.620444 170.666667v70.200888a31.516444 31.516444 0 0 1-31.459556 31.459556 31.459556 31.459556 0 0 1-31.459555-31.459556V500.167111h34.133333a108.714667 108.714667 0 0 0 108.088889-109.681778 108.714667 108.714667 0 0 0-109.624889-108.088889 108.771556 108.771556 0 0 0-108.088889 109.454223 32.028444 32.028444 0 0 1-30.663111 33.336889 32.028444 32.028444 0 0 1-33.336889-30.663112 21.105778 21.105778 0 0 1 0-2.673777 172.657778 172.657778 0 0 1 169.642667-175.616 172.714667 172.714667 0 0 1 175.616 169.358222z",fill:"#ffffff","p-id":"29425"}})])]):t._e()]),a("div",{staticStyle:{flex:"1","margin-left":"10px"}},[a("div",{staticClass:"flex-column"},[a("div",{staticStyle:{flex:"1",display:"flex",width:"100%"}},[a("div",{staticStyle:{flex:"1",width:"100%"}},[a("router-link",{attrs:{to:t.to}},[t._v(t._s(t.to.params.title))])],1)])])])])},Jt=[],Zt={data:function(){return{}},props:["to","icon"]},Kt=Zt,Qt=Object(T["a"])(Kt,Yt,Jt,!1,null,null,null),Xt=Qt.exports,te={data:function(){return{currentIndex:1,team:"",isOpen:!0}},created:function(){var t=this;t.team=t.$route.params.team,t.currentIndex=t.$route.meta.tagIndex},watch:{$route:function(){var t=this;t.currentIndex=t.$route.meta.tagIndex}},methods:{close:function(){this.$store.dispatch("app/toggleSideBar")}},components:{Link:Xt},computed:Object(yt["a"])({},Object(r["b"])(["sidebar"]))},ee=te,ae=(a("cd9d"),Object(T["a"])(ee,Rt,Wt,!1,null,"0ff9128a",null)),ie=ae.exports,se={data:function(){return{isWorkbench:!1,isProject:!1}},created:function(){var t=this;t.isWorkbench="Workbench"===t.$route.name,t.isProject="project"===t.$route.meta.tab},watch:{$route:function(){var t=this;t.isWorkbench="Workbench"===t.$route.name,t.isProject="project"===t.$route.meta.tab}},components:{Sidebar:ie,Header:zt,ProjectHeader:Lt,Main:Gt}},re=se,ne=Object(T["a"])(re,Z,K,!1,null,null,null),oe=ne.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-column"},[a("Header",{ref:"Header",attrs:{page:t.page}}),a("Main")],1)},ce=[],de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row align-items-center wiki-header",attrs:{id:"header"}},[a("div",{staticClass:"wiki-header-logo"},[a("router-link",{attrs:{to:{name:"Main"}}},[a("div",{staticClass:"flex-row align-items-center"},[a("div",[a("svg",{staticClass:"icon",attrs:{t:"1604535926297",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5606",width:"25",height:"25"}},[a("path",{attrs:{d:"M1150.244571 327.0656L925.2864 26.975086c-3.920457-5.880686-14.862629-9.0112-25.951086-9.0112-10.620343 0-21.211429 2.8672-25.980343 9.0112l-207.608685 282.799543c-24.488229 37.917257-12.522057 51.931429 34.552685 51.931428h103.892115c-0.468114 50.5856-3.364571 102.341486-7.753143 137.216-20.948114 167.087543-127.268571 211.646171-131.744914 213.577143-15.594057 6.436571-12.6976 29.9008 6.407314 29.9008 268.463543 0 331.103086-310.915657 340.757943-380.693943h103.8336c1.462857 0.117029 3.861943 0.292571 6.816914 0.292572 15.623314 0 46.021486-3.978971 27.735771-34.933029z",fill:"#ffffff","p-id":"5607"}}),a("path",{attrs:{d:"M600.736914 567.968914h-134.026971c0.585143-65.301943 4.271543-132.213029 9.947428-177.210514 27.092114-215.683657 164.308114-273.261714 170.130286-275.6608 20.187429-8.367543 16.384-38.619429-8.279771-38.619429-346.5216 0-427.446857 401.408-439.9104 491.461486H64.570514a88.4736 88.4736 0 0 0-8.894171-0.4096c-20.099657 0-59.392 5.090743-35.810743 45.143772l290.464914 387.452342c5.061486 7.606857 19.2512 11.644343 33.528686 11.644343 13.692343 0 27.4432-3.715657 33.440914-11.644343l268.0832-365.187657c31.685486-48.9472 16.1792-66.9696-44.6464-66.9696z",fill:"#ffffff","p-id":"5608"}})])]),a("div",{staticClass:"wiki-header-link"},[t._v(" Jitask ")])])])],1),a("div",{staticClass:"wiki-header-title"},[a("router-link",{attrs:{icon:"Wiki",to:{name:"Spaces",params:{team:t.team}}}},[t._v("文档中心")])],1),a("div",{staticClass:"flex-column wiki-header-new"},[a("AddButton",{attrs:{title:"新建页面",plus:!0},on:{submit:t.add}})],1),a("div",{staticClass:"task-flex-auto"}),a("UserCenterAvatar")],1)},ue=[],pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-button",{attrs:{variant:"submit",disabled:t.disabled},on:{click:t.onsubmit}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{color:"inherit"}},[t.plus?a("div",{staticClass:"flex",staticStyle:{flex:"0 0 auto","margin-right":"5px"}},[a("svg",{staticClass:"icon",attrs:{t:"1601478700106",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"34798",width:"12",height:"12"}},[a("path",{attrs:{d:"M956.1240653818753 579.0559211537523h-377.4918801217032v377.55208924331106c0 36.792317387069836-29.839867873102275 66.60264870994936-66.63332128133455 66.60264870994936-36.792317387069836 0-66.63218526017215-29.81033132287954-66.63218526017215-66.60264870994936v-377.55208924331106h-377.49415216402804c-36.822989958455004 0-66.63218526017215-29.81033132287954-66.63218526017215-66.60264870994936 0-36.77868513312089 29.812603365204367-66.60264870994936 66.63218526017215-66.60264870994936h377.4918801217032v-377.55208924331106c0-36.77868513312089 29.839867873102275-66.60264870994936 66.63218526017215-66.60264870994936 36.793453408232246 0 66.63332128133455 29.825099597990917 66.63332128133455 66.60264870994936v377.55322526447344h377.4918801217032c36.822989958455004 0 66.63332128133455 29.822827555666088 66.63332128133455 66.60037666762456-0.0011360211624130007 36.792317387069836-29.81033132287954 66.60037666762456-66.63332128133455 66.60037666762456z",fill:"#ffffff","p-id":"34799"}})])]):t._e(),a("div",{staticStyle:{flex:"1",color:"inherit"}},[t._v(" "+t._s(t.title)+" ")])])])},me=[],fe={data:function(){return{}},props:{title:{type:String},disabled:{type:Boolean,default:!1},plus:{type:Boolean,default:!1}},methods:{onsubmit:function(){var t=this;t.disabled||t.$emit("submit")}}},ve=fe,he=Object(T["a"])(ve,pe,me,!1,null,null,null),xe=he.exports,ge={data:function(){return{team:"",space:"",page:""}},created:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space},watch:{$route:function(){var t=this;t.page=t.$route.params.page,t.page||t.get_default_main_page()}},methods:{add:function(){var t=this;t.page&&"AddPage"!==t.$route.name&&Qm.push({name:"AddPage",params:{team:t.team,space:t.space,page:t.page}})},get_default_main_page:function(){var t=this;mt.get(t.urls.default_main_page.format(t.team,t.space)).then((function(e){t.page=e.data.uuid}))}},components:{AddButton:xe,UserCenterAvatar:xt}},_e=ge,ye=(a("7a7a"),Object(T["a"])(_e,de,ue,!1,null,"2545d82e",null)),be=ye.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rightMain flex-row",staticStyle:{height:"0"}},[a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[a("router-view")],1)],1)},we=[],ke={},Ce=Object(T["a"])(ke,Se,we,!1,null,null,null),je=Ce.exports,$e={data:function(){return{team:"",space:"",page:"",item:{},loaded:!1}},components:{Header:be,Main:je}},ze=$e,Ee=Object(T["a"])(ze,le,ce,!1,null,null,null),Me=Ee.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"master"}},[a("Login",{attrs:{msg:"欢迎使用 Jitask 管理系统"}})],1)},Te=[],De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{position:"relative",width:"800px",height:"600px","background-color":"#f0f0f0",overflow:"hidden"}},[a("div",{staticStyle:{position:"absolute",width:"800px",height:"600px"}},[a("div",{staticStyle:{position:"absolute",color:"rgba(255, 206, 86, 0.3)",top:"80px",left:"280px"}},[a("b-icon",{attrs:{icon:"circle-fill",scale:"12"}})],1),a("div",{staticStyle:{position:"absolute",color:"rgba(75, 192, 192, 0.3)",top:"155px",left:"140px"}},[a("b-icon",{attrs:{icon:"circle-fill",scale:"20"}})],1),a("div",{staticStyle:{position:"absolute",color:"rgba(255, 99, 132, 0.3)",top:"480px",left:"650px"}},[a("b-icon",{attrs:{icon:"circle-fill",scale:"32"}})],1),a("div",{staticStyle:{position:"absolute",color:"rgba(153, 102, 255, 0.3)",top:"450px",left:"430px"}},[a("b-icon",{attrs:{icon:"circle-fill",scale:"18"}})],1)]),a("div",{staticClass:"enter flex-column justify-content-center",staticStyle:{position:"absolute",width:"600px",height:"400px","background-color":"#ffffff","border-radius":"5px"}},[a("div",{staticClass:"flex-column",staticStyle:{flex:"1",padding:"60px 60px"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{"font-size":"18px"}},[t._v("登录 Jitask 项目管理系统")]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{padding:"30px 0"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.s_email,expression:"s_email"}],staticClass:"login-name",attrs:{type:"text",placeholder:"Email",autocomplete:"off"},domProps:{value:t.s_email},on:{input:function(e){e.target.composing||(t.s_email=e.target.value)}}})]),a("div",{staticClass:"flex-row align-items-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.s_password,expression:"s_password"}],staticClass:"login-name",attrs:{type:"password",placeholder:"Password",autocomplete:"off"},domProps:{value:t.s_password},on:{input:function(e){e.target.composing||(t.s_password=e.target.value)}}})]),a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{"margin-top":"30px",color:"#909090"}},[t._v(" 演示版本，点击登录进入系统，或者自己注册一个试试 ")])]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 48px","background-color":"#f0f0f0"}},[a("div",{staticClass:"flex-row align-items-center reg",staticStyle:{flex:"1","background-color":"#e0e0e0",height:"100%","padding-left":"20px","border-radius":"0 0 0 5px"}},[a("router-link",{attrs:{to:{name:"Reg"}}},[t._v("注册")])],1),a("div",{staticClass:"login justify-content-flex-end flex-row align-items-center",on:{click:t.login}},[t._v(" 登录 ")])])]),t._m(0)])])},Ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"absolute",bottom:"10px"}},[a("div",{staticClass:"flex-row align-items-center justify-content-center copyright",staticStyle:{flex:"0 0 60px"}},[a("div",[t._v(" Copyright ©2020 "),a("a",{attrs:{href:"/"}},[t._v("爱斯园")])]),a("div",{staticStyle:{"margin-left":"5px"}},[a("a",{attrs:{href:"https://beian.miit.gov.cn",target:"_blank"}},[t._v("粤ICP备2020117325号")])])])])}],Oe={data:function(){return{s_email:"soul@iissy.com",s_password:"S0se4r5t2"}},methods:{login:function(){var t=this,e={email:t.s_email,password:t.s_password};mt.post(t.urls.login_url,e).then((function(t){t.data.result.user&&t.data.result.user.uuid&&t.data.result.user.email&&(_(t.data.result.user.uuid),t.data.result&&t.data.result.teams&&t.data.result.teams.length>0&&Qm.push({name:"Workbench",params:{team:t.data.result.teams[0].uuid,type:"overview"}}))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))}}},Be=Oe,He=(a("b51b"),Object(T["a"])(Be,De,Ie,!1,null,"1ac3d68c",null)),Ae=He.exports,Ue={name:"App",components:{Login:Ae}},Le=Ue,Ne=(a("7d4f"),Object(T["a"])(Le,Pe,Te,!1,null,"46eff047",null)),qe=Ne.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"master"}},[a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{position:"relative",width:"1000px",height:"600px","background-color":"#f0f0f0",overflow:"hidden"}},[a("div",{staticStyle:{position:"absolute",width:"800px",height:"600px"}},[a("div",{staticStyle:{position:"absolute",color:"rgba(255, 206, 86, 0.3)",top:"60px",left:"180px"}},[a("b-icon",{attrs:{icon:"circle-fill",scale:"12"}})],1),a("div",{staticStyle:{position:"absolute",color:"rgba(75, 192, 192, 0.3)",top:"50px",left:"20px"}},[a("b-icon",{attrs:{icon:"circle-fill",scale:"20"}})],1),a("div",{staticStyle:{position:"absolute",color:"rgba(0, 128, 0, 0.1)",top:"280px",left:"790px"}},[a("b-icon",{attrs:{icon:"circle-fill",scale:"14"}})],1),a("div",{staticStyle:{position:"absolute",color:"rgba(0, 191, 255, 0.1)",top:"480px",left:"100px"}},[a("b-icon",{attrs:{icon:"circle-fill",scale:"18"}})],1),a("div",{staticStyle:{position:"absolute",color:"rgba(255, 99, 132, 0.3)",top:"480px",left:"650px"}},[a("b-icon",{attrs:{icon:"circle-fill",scale:"32"}})],1),a("div",{staticStyle:{position:"absolute",color:"rgba(153, 102, 255, 0.3)",top:"450px",left:"430px"}},[a("b-icon",{attrs:{icon:"circle-fill",scale:"18"}})],1)]),a("div",{staticClass:"flex-column",staticStyle:{position:"absolute",width:"900px",height:"500px","background-color":"#ffffff","border-radius":"5px",padding:"30px"}},[a("div",{staticClass:"flex-row",staticStyle:{height:"100%"}},[a("div",{staticClass:"flex-column",staticStyle:{flex:"1 1 50%",padding:"0 30px 0 0"}},[a("div",{staticClass:"flex-row",staticStyle:{"font-size":"18px","font-weight":"600",flex:"0 0 auto"}},[t._v("请完善你的信息，免费创建试用团队")]),t.first_part?a("div",{staticStyle:{flex:"1"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{padding:"30px 0"}},[a("div",{staticStyle:{flex:"1 1 70%"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.s_phone,expression:"s_phone",modifiers:{trim:!0}}],staticClass:"reg-input",attrs:{type:"text",placeholder:"请输入手机号码",autocomplete:"off"},domProps:{value:t.s_phone},on:{input:function(e){e.target.composing||(t.s_phone=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticStyle:{flex:"1 1 30%","text-align":"right"}},[a("b-button",{staticStyle:{height:"40px",outline:"none","box-shadow":"none"},attrs:{variant:"outline-primary",disabled:t.sendBtnDisabled},on:{click:t.sendPhoneCode}},[t._v("发送验证码")])],1)]),a("div",{staticClass:"flex-row align-items-center"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.s_code,expression:"s_code",modifiers:{trim:!0}}],staticClass:"reg-input",attrs:{type:"text",placeholder:"请输入 6 位数字验证码",autocomplete:"off"},domProps:{value:t.s_code},on:{input:function(e){e.target.composing||(t.s_code=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{"margin-top":"60px",color:"#909090"}},[a("b-button",{staticStyle:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},attrs:{variant:"primary"},on:{click:t.reg_next}},[t._v("提交验证")])],1)]):t._e(),t.second_part?a("div",{staticStyle:{flex:"1"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{padding:"15px 0"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.s_email,expression:"s_email",modifiers:{trim:!0}}],staticClass:"reg-input",attrs:{type:"text",placeholder:"请输入您的邮箱",autocomplete:"off"},domProps:{value:t.s_email},on:{input:function(e){e.target.composing||(t.s_email=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{padding:"15px 0"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.s_password,expression:"s_password",modifiers:{trim:!0}}],staticClass:"reg-input",attrs:{type:"password",placeholder:"密码应为8-32位，必须同时包含数字字母",autocomplete:"off"},domProps:{value:t.s_password},on:{input:function(e){e.target.composing||(t.s_password=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{padding:"15px 0"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.s_team_name,expression:"s_team_name",modifiers:{trim:!0}}],staticClass:"reg-input",attrs:{type:"text",placeholder:"请输入团队名称",autocomplete:"off"},domProps:{value:t.s_team_name},on:{input:function(e){e.target.composing||(t.s_team_name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{"margin-top":"60px",color:"#909090"}},[a("div",{staticStyle:{flex:"0 0 100px"}},[a("b-button",{staticStyle:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},attrs:{variant:"outline-primary"},on:{click:t.back}},[t._v("返回")])],1),a("div",{staticStyle:{flex:"0 0 20px"}}),a("div",{staticStyle:{flex:"1"}},[a("b-button",{staticStyle:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},attrs:{variant:"primary"},on:{click:t.create_team}},[t._v("创建团队")])],1)])]):t._e(),a("div",{staticStyle:{color:"#909090",flex:"0 0 80px"}},[t._v(" 演示版，请输入合法的手机号码，邮箱等即可通过注册 ")])]),a("div",{staticClass:"flex-column justify-content-center",staticStyle:{flex:"1 1 50%","border-left":"1px solid #e8e8e8"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticClass:"flex-row align-items-center"},[a("div",{staticStyle:{flex:"0 0 auto","margin-left":"20px"}},[a("svg",{staticClass:"icon",attrs:{t:"1604535926297",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5606",width:"25",height:"25"}},[a("path",{attrs:{d:"M1150.244571 327.0656L925.2864 26.975086c-3.920457-5.880686-14.862629-9.0112-25.951086-9.0112-10.620343 0-21.211429 2.8672-25.980343 9.0112l-207.608685 282.799543c-24.488229 37.917257-12.522057 51.931429 34.552685 51.931428h103.892115c-0.468114 50.5856-3.364571 102.341486-7.753143 137.216-20.948114 167.087543-127.268571 211.646171-131.744914 213.577143-15.594057 6.436571-12.6976 29.9008 6.407314 29.9008 268.463543 0 331.103086-310.915657 340.757943-380.693943h103.8336c1.462857 0.117029 3.861943 0.292571 6.816914 0.292572 15.623314 0 46.021486-3.978971 27.735771-34.933029z",fill:"#333333","p-id":"5607"}}),a("path",{attrs:{d:"M600.736914 567.968914h-134.026971c0.585143-65.301943 4.271543-132.213029 9.947428-177.210514 27.092114-215.683657 164.308114-273.261714 170.130286-275.6608 20.187429-8.367543 16.384-38.619429-8.279771-38.619429-346.5216 0-427.446857 401.408-439.9104 491.461486H64.570514a88.4736 88.4736 0 0 0-8.894171-0.4096c-20.099657 0-59.392 5.090743-35.810743 45.143772l290.464914 387.452342c5.061486 7.606857 19.2512 11.644343 33.528686 11.644343 13.692343 0 27.4432-3.715657 33.440914-11.644343l268.0832-365.187657c31.685486-48.9472 16.1792-66.9696-44.6464-66.9696z",fill:"#333333","p-id":"5608"}})])]),t._m(0),a("div",{staticStyle:{flex:"0 0 auto"}},[a("svg",{staticClass:"icon",attrs:{t:"1608034654856",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5182",width:"32",height:"32"}},[a("path",{attrs:{d:"M479.40136719 120.88671875h65.20605468v782.2265625h-65.20605468z","p-id":"5183",fill:"#2c2c2c"}})])]),a("div",{staticStyle:{"font-size":"26px","font-weight":"bold",color:"#333333"}},[t._v(" 创建团队 ")])])]),t._m(1),a("div",{staticClass:"flex-column",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"0 0 auto","font-size":"16px","font-weight":"600","text-align":"left","padding-left":"20px","padding-top":"10px",color:"#333333",margin:"10px 0"}},[t._v(" 您可以尝试 Jitask 全线产品的功能 ")]),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"flex-row b-line align-items-center",staticStyle:{padding:"5px 0 5px 0","margin-left":"20px"}},[a("div",{staticStyle:{flex:"1","text-align":"left"}},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticStyle:{flex:"0 0 auto",color:"#1e7e34"}},[a("b-icon",{attrs:{icon:"check",scale:"1.5"}})],1)])}))],2)])])]),t._m(2)])])])},Fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px"}},[a("span",[a("a",{staticStyle:{"font-size":"26px","font-weight":"700",color:"#333333","letter-spacing":"3px",margin:"0 0 0 0","text-align":"center"},attrs:{href:"/"}},[t._v("Jitask")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"padding-left":"30px","margin-top":"10px",opacity:"0.8"}},[a("img",{attrs:{src:"/images/team.jpg",width:"400",height:"200"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"absolute",bottom:"10px"}},[a("div",{staticClass:"flex-row align-items-center justify-content-center copyright",staticStyle:{flex:"0 0 60px"}},[a("div",[t._v(" Copyright ©2020 "),a("a",{attrs:{href:"/"}},[t._v("爱斯园")])]),a("div",{staticStyle:{"margin-left":"5px"}},[a("a",{attrs:{href:"https://beian.miit.gov.cn",target:"_blank"}},[t._v("粤ICP备2020117325号")])])])])}],Ge=(a("25f0"),{data:function(){return{s_phone:"",s_code:"",s_email:"",s_password:"",s_team_name:"",first_part:!0,second_part:!1,sendBtnDisabled:!1,items:[{uuid:"a",name:"管理团队，部门，角色成员，任务管理，权限配置"},{uuid:"c",name:"文档资料管理"},{uuid:"d",name:"个人工作台查看个人任务情况"},{uuid:"e",name:"成员工时报表，项目进展图标展示"}]}},methods:{reg_next:function(){var t=this;t.s_phone?t.s_code?6===t.s_code.toString().length?t.s_phone&&t.s_code&&mt.post(t.urls.verify_phone.format("+"+t.s_phone)).then((function(e){200===e.data.code&&(t.first_part=!1,t.second_part=!0)})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)})):t.bus.$emit("alertDanger","验证码是六位数字"):t.bus.$emit("alertDanger","请输入验证码"):t.bus.$emit("alertDanger","请输入手机号码")},back:function(){var t=this;t.first_part=!0,t.second_part=!1},create_team:function(){var t=this,e="-",a=t.s_email.split("@");a&&2===a.length&&(e=a[0]);var i={name:e,team_name:t.s_team_name,email:t.s_email,password:t.s_password,phone:"+"+t.s_phone,phone_code:t.s_code,team_role:"admin"};mt.post(t.urls.team_create,i).then((function(t){200===t.data.code&&(window.location.href="/")})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))},sendPhoneCode:function(){var t=this;t.sendBtnDisabled=!0,t.s_phone?mt.post(t.urls.send_phone_code.format("+"+t.s_phone)).then((function(e){e.data.code&&(t.s_code=e.data.code)})).catch((function(e){t.sendBtnDisabled=!1,t.bus.$emit("alertDanger",e.response.data.errcode)})):t.bus.$emit("alertDanger","请输入手机号码")}}}),Re=Ge,We=(a("d5f8"),Object(T["a"])(Re,Ve,Fe,!1,null,"01cea2c3",null)),Ye=We.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-no-border"},[a("div",{staticStyle:{display:"flex","flex-direction":"row",height:"100%"}},[a("personal"),a(t.currentTabComponent,{tag:"component"})],1)])},Ze=[],Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"personal"}},[a("div",{staticStyle:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},[t._v("账号管理")]),a("div",{staticStyle:{flex:"0",padding:"5px 0 5px 30px",width:"100%",color:"#aaaaaa"}},[t._v("个人信息")]),a("div",{class:{active:1===t.currentIndex}},[a("router-link",{attrs:{to:{name:"Center",params:{type:"account"}}}},[t._v("账号信息")])],1),a("div",{class:{active:2===t.currentIndex}},[a("router-link",{attrs:{to:{name:"Center",params:{type:"safe"}}}},[t._v("安全设置")])],1),a("div",{staticStyle:{flex:"0",padding:"20px 0 5px 30px",width:"100%",color:"#aaaaaa"}},[t._v("钉钉账号")]),a("div",{class:{active:11===t.currentIndex}},[a("router-link",{attrs:{to:{name:"Center",params:{type:"certificate"}}}},[t._v("登陆凭证")])],1)])},Qe=[],Xe={data:function(){return{currentIndex:1}},watch:{$route:function(){var t=this;switch(t.$route.params.type){case"account":t.currentIndex=1;break;case"safe":t.currentIndex=2;break;case"certificate":t.currentIndex=11;break}}}},ta=Xe,ea=(a("4ba0"),Object(T["a"])(ta,Ke,Qe,!1,null,"1f9273b3",null)),aa=ea.exports,ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-horizontal mg0 ibox",staticStyle:{"max-width":"1200px","background-color":"#ffffff",flex:"1 1 auto",padding:"20px",height:"100%"}},[a("div",{staticClass:"form-body",staticStyle:{padding:"20px"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-1 control-label"},[t._v("头像")]),a("div",{staticClass:"col-md-2"},[a("div",[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.avatar,expression:"avatar"}],staticClass:"form-control",attrs:{type:"hidden",name:"avatar",placeholder:"头像"},domProps:{value:t.avatar},on:{input:function(e){e.target.composing||(t.avatar=e.target.value)}}})])])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-1 control-label"},[t._v("名字")]),a("div",{staticClass:"col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"名字"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-1 control-label"},[t._v("邮箱")]),a("div",{staticClass:"col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",name:"email",placeholder:"邮箱"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-1 control-label"},[t._v("电话")]),a("div",{staticClass:"col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",name:"phone",placeholder:"电话"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-1 control-label"}),a("div",{staticClass:"col-md-3"},[a("UpdateButton",{attrs:{title:"更新信息",disabled:t.disabled},on:{submit:t.update}})],1)])])])},sa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"avatar-upload"},[a("img",{staticStyle:{"max-height":"100px"},attrs:{src:"/favicon.ico"}}),a("input",{attrs:{type:"file"}})])}],ra={data:function(){return{avatar:"",name:"",email:"",phone:"",disabled:!1}},components:{UpdateButton:xe},created:function(){},methods:{update:function(){}}},na=ra,oa=(a("d3ac"),Object(T["a"])(na,ia,sa,!1,null,"0fd7f43e",null)),la=oa.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox padding20",staticStyle:{"max-width":"1200px","background-color":"#ffffff",flex:"1 1 auto",height:"100%"}},[t._v(" 待开发，敬请关注！ ")])},da=[],ua={data:function(){return{}},created:function(){},methods:{add:function(){}}},pa=ua,ma=Object(T["a"])(pa,ca,da,!1,null,null,null),fa=ma.exports,va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox padding20",staticStyle:{"max-width":"1200px","background-color":"#ffffff",flex:"1 1 auto",height:"100%"}},[a("div",{staticStyle:{"font-size":"18px"}},[t._v("安全设置")]),a("div",{staticStyle:{border:"1px solid #dedede","margin-top":"20px"}},[a("div",{staticStyle:{display:"flex","flex-direction":"row",padding:"20px"}},[a("div",{staticStyle:{flex:"0 0 auto",width:"100px"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[a("svg",{staticClass:"icon",attrs:{t:"1600093044171",viewBox:"0 0 1536 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2745",width:"48",height:"48"}},[a("path",{attrs:{d:"M1450.666667 0H85.333333a85.333333 85.333333 0 0 0-85.333333 85.333333v51.2l724.48 434.346667a85.333333 85.333333 0 0 0 85.333333 0L1536 136.533333V85.333333a85.333333 85.333333 0 0 0-85.333333-85.333333zM682.666667 715.093333L0 307.2V938.666667a85.333333 85.333333 0 0 0 85.333333 85.333333h1365.333334a85.333333 85.333333 0 0 0 85.333333-85.333333V307.2l-682.666667 407.893333a170.666667 170.666667 0 0 1-170.666666 0z",fill:"#FAB200","p-id":"2746"}})])])]),t._m(0),a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle",height:"100%"}},[a("svg",{staticClass:"icon",attrs:{t:"1600095238628",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4907",width:"32",height:"32"}},[a("path",{attrs:{d:"M682.666667 533.333333a21.333333 21.333333 0 0 1-15.146667-6.186666l-298.666667-298.666667a21.333333 21.333333 0 0 1 30.293334-30.293333l298.666666 298.666666a21.333333 21.333333 0 0 1 0 30.293334A21.333333 21.333333 0 0 1 682.666667 533.333333z",fill:"#333333","p-id":"4908"}}),a("path",{attrs:{d:"M384 832a21.333333 21.333333 0 0 1-15.146667-6.186667 21.333333 21.333333 0 0 1 0-30.293333l298.666667-298.666667a21.333333 21.333333 0 0 1 30.293333 30.293334l-298.666666 298.666666A21.333333 21.333333 0 0 1 384 832z",fill:"#333333","p-id":"4909"}})])])])]),a("div",{staticStyle:{display:"flex","flex-direction":"row",padding:"20px","border-top":"1px solid #dedede"}},[a("div",{staticStyle:{flex:"0 0 auto",width:"100px"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[a("svg",{staticClass:"icon",attrs:{t:"1600123151164",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5723",width:"48",height:"48"}},[a("path",{attrs:{d:"M654.990991 196.036036H371.315315c-25.945946 0-47.279279 21.333333-47.279279 47.279279s21.333333 47.279279 47.279279 47.27928h283.675676c25.945946 0 47.279279-21.333333 47.279279-47.27928s-21.333333-47.279279-47.279279-47.279279z m173.54955-189.693694H197.765766c-69.765766 0-126.27027 56.504505-126.270271 126.270271v757.045045c0 69.765766 56.504505 126.27027 126.270271 126.27027h630.774775c69.765766 0 126.27027-56.504505 126.27027-126.27027V132.612613c-0.576577-69.765766-56.504505-126.27027-126.27027-126.270271z m31.135135 851.603604c0 34.594595-28.252252 62.846847-62.846847 62.846847H229.477477c-34.594595 0-62.846847-28.252252-62.846846-62.846847V164.324324c0-34.594595 28.252252-62.846847 62.846846-62.846847h567.351352c34.594595 0 62.846847 28.252252 62.846847 62.846847v693.621622zM513.153153 731.675676c-34.594595 0-62.846847 28.252252-62.846847 62.846847S478.558559 857.369369 513.153153 857.369369s62.846847-28.252252 62.846847-62.846846S547.747748 731.675676 513.153153 731.675676z",fill:"#2185F5","p-id":"5724"}})])])]),t._m(1),a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle",height:"100%"}},[a("svg",{staticClass:"icon",attrs:{t:"1600095238628",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4907",width:"32",height:"32"}},[a("path",{attrs:{d:"M682.666667 533.333333a21.333333 21.333333 0 0 1-15.146667-6.186666l-298.666667-298.666667a21.333333 21.333333 0 0 1 30.293334-30.293333l298.666666 298.666666a21.333333 21.333333 0 0 1 0 30.293334A21.333333 21.333333 0 0 1 682.666667 533.333333z",fill:"#333333","p-id":"4908"}}),a("path",{attrs:{d:"M384 832a21.333333 21.333333 0 0 1-15.146667-6.186667 21.333333 21.333333 0 0 1 0-30.293333l298.666667-298.666667a21.333333 21.333333 0 0 1 30.293333 30.293334l-298.666666 298.666666A21.333333 21.333333 0 0 1 384 832z",fill:"#333333","p-id":"4909"}})])])])]),a("div",{staticStyle:{display:"flex","flex-direction":"row",padding:"20px","border-top":"1px solid #dedede"}},[a("div",{staticStyle:{flex:"0 0 auto",width:"100px"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[a("svg",{staticClass:"icon",attrs:{t:"1600123506120",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6528",width:"48",height:"48"}},[a("path",{attrs:{d:"M893.632 382.976h-127.616V255.36a255.36 255.36 0 1 0-510.72 0v127.68H127.68A127.552 127.552 0 0 0 0 510.656v382.976c0 70.528 57.152 127.68 127.68 127.68h765.952a127.744 127.744 0 0 0 127.744-127.68V510.656a127.744 127.744 0 0 0-127.744-127.68zM319.168 255.36a191.424 191.424 0 1 1 382.976 0v127.68H319.168V255.36z m638.336 638.336a63.872 63.872 0 0 1-63.872 63.872H127.68a63.872 63.872 0 0 1-63.872-63.872V510.656c0-35.264 28.544-63.872 63.872-63.872h765.952c35.328 0 63.872 28.608 63.872 63.872v383.04zM510.656 542.592a95.488 95.488 0 1 0-31.872 185.664v133.568h63.808v-133.568a95.36 95.36 0 0 0 63.808-89.856c0-52.992-42.88-95.808-95.744-95.808z m0 143.68a47.936 47.936 0 1 1 0.128-95.872 47.936 47.936 0 0 1-0.128 95.872z",fill:"#27D400","p-id":"6529"}})])])]),t._m(2),a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle",height:"100%"}},[a("svg",{staticClass:"icon",attrs:{t:"1600095238628",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4907",width:"32",height:"32"}},[a("path",{attrs:{d:"M682.666667 533.333333a21.333333 21.333333 0 0 1-15.146667-6.186666l-298.666667-298.666667a21.333333 21.333333 0 0 1 30.293334-30.293333l298.666666 298.666666a21.333333 21.333333 0 0 1 0 30.293334A21.333333 21.333333 0 0 1 682.666667 533.333333z",fill:"#333333","p-id":"4908"}}),a("path",{attrs:{d:"M384 832a21.333333 21.333333 0 0 1-15.146667-6.186667 21.333333 21.333333 0 0 1 0-30.293333l298.666667-298.666667a21.333333 21.333333 0 0 1 30.293333 30.293334l-298.666666 298.666666A21.333333 21.333333 0 0 1 384 832z",fill:"#333333","p-id":"4909"}})])])])])])])},ha=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","margin-left":"20px"}},[a("div",{staticStyle:{"font-size":"15px"}},[t._v("邮箱确认(pinbor@iissy.com)")]),a("div",{staticStyle:{color:"#aaaaaa"}},[t._v("请收到邮件后，点击邮箱里面确认连接")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","margin-left":"20px"}},[a("div",{staticStyle:{"font-size":"15px"}},[t._v("手机确认")]),a("div",{staticStyle:{color:"#aaaaaa"}},[t._v("通过手机认证码确认手机号码")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","margin-left":"20px"}},[a("div",{staticStyle:{"font-size":"15px"}},[t._v("设置密码")]),a("div",{staticStyle:{color:"#aaaaaa"}},[t._v("必须先设置邮箱确认或者手机确认，才可以设置密码，设置密码后就可以凭邮箱或者手机登陆系统")])])}],xa={data:function(){return{}}},ga=xa,_a=Object(T["a"])(ga,va,ha,!1,null,null,null),ya=_a.exports,ba={data:function(){return{currentTabComponent:la}},watch:{$route:function(){this.shift()}},created:function(){var t=this;t.shift()},methods:{shift:function(){var t=this;t.currentTabComponent=t.$route.params.type||t.currentTabComponent}},components:{Personal:aa,Account:la,Certificate:fa,Safe:ya}},Sa=ba,wa=Object(T["a"])(Sa,Je,Ze,!1,null,null,null),ka=wa.exports,Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"logout"}},[t._v(" Bye-Bye, Baby! ")])},ja=[],$a={data:function(){return{}},created:function(){mt.get(this.urls.logout).then((function(t){200===t.data.code&&(window.location.href="/")}))}},za=$a,Ea=(a("9e57"),Object(T["a"])(za,Ca,ja,!1,null,"0f5c18ba",null)),Ma=Ea.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.currentTabComponent,{tag:"component"})},Ta=[],Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"20px"}},[t._m(0),a("div",{staticClass:"flex-row",staticStyle:{flex:"1","flex-direction":"row",position:"relative"}},[a("Dashboard",{attrs:{name:"我的仪表盘"}}),a("Dashboard",{attrs:{name:"项目仪表盘"}})],1),t._m(1),a("div",{staticClass:"flex-row flex-wrap",staticStyle:{flex:"1","flex-direction":"row",position:"relative"}},t._l(t.projects,(function(t){return a("Project",{key:t.uuid,attrs:{project:t}})})),1),t._m(2),a("div",{staticClass:"flex-row flex-wrap",staticStyle:{flex:"1","flex-direction":"row",position:"relative"}},t._l(t.spaces,(function(t){return a("Space",{key:t.uuid,attrs:{space:t,desc:"最近页面更新于 8 小时前"}})})),1)])},Ia=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row b-line",staticStyle:{padding:"0 20px 5px 0",margin:"0"}},[a("div",{staticStyle:{flex:"1","font-size":"18px"}},[t._v("常用仪表盘")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row b-line",staticStyle:{padding:"0 20px 5px 0",margin:"20px 0 0 0"}},[a("div",{staticStyle:{flex:"1","font-size":"18px"}},[t._v("项目 / 最近浏览")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row b-line",staticStyle:{padding:"0 20px 5px 0",margin:"20px 0 0 0"}},[a("div",{staticStyle:{flex:"1","font-size":"18px"}},[t._v("文档 / 最近浏览")])])}],Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox flex-column",staticStyle:{width:"250px",height:"175px",padding:"15px 15px 10px 20px",cursor:"pointer","margin-right":"20px","margin-top":"20px",border:"none"},on:{click:t.goto}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto",color:"#333333","padding-right":"5px"}},[a("div",{staticStyle:{flex:"1","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"15px"}},[t._v(t._s(t.name))]),a("div",{staticClass:"pin-star",staticStyle:{flex:"0 0 auto","align-content":"end"}},[a("b-icon",{attrs:{icon:"star",scale:"1.3"},on:{click:t.setPin}})],1)]),a("div",{staticStyle:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},[t._v("4 张卡片")])]),a("div",{staticClass:"flex-row",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"1",opacity:"0.5"}},[a("svg",{staticClass:"icon",attrs:{t:"1607044799842",viewBox:"0 0 1058 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7685",width:"90",height:"90"}},[a("path",{attrs:{d:"M13.789867 0.034133h1024v1024h-1024z",fill:"#011528","fill-opacity":".01","p-id":"7686"}}),a("path",{attrs:{d:"M528.861867 244.5312c59.767467 0 115.780267 16.554667 163.703466 45.226667l75.332267-116.565334a455.850667 455.850667 0 0 0-239.035733-67.413333c-252.928 0-458.6496 205.755733-458.6496 458.683733 0 113.7664 41.710933 217.9072 110.557866 298.154667l110.148267-84.616533a318.600533 318.600533 0 0 1-81.954133-213.538134c0-176.401067 143.496533-319.931733 319.8976-319.931733",fill:"#32CBFF","p-id":"7687"}}),a("path",{attrs:{d:"M787.285333 185.787733l-75.332266 116.565334a319.6928 319.6928 0 0 1 136.8064 262.109866c0 81.988267-31.061333 156.8768-81.954134 213.538134l110.148267 84.5824a456.533333 456.533333 0 0 0 110.592-298.120534c0-157.115733-79.4624-296.004267-200.260267-378.6752",fill:"#0448DD","p-id":"7688"}}),a("path",{attrs:{d:"M626.176 431.069867l-143.121067 202.615466-0.034133 0.341334a47.2064 47.2064 0 1 0 81.885867 41.403733l70.417066-239.957333c1.672533-5.563733-5.802667-9.181867-9.147733-4.437334",fill:"#32CBFF","p-id":"7689"}}),a("path",{attrs:{d:"M13.7216 989.866667h1024v34.133333h-1024z",fill:"#0448DD","p-id":"7690"}})])])])])},Ba=[],Ha={data:function(){return{team:""}},props:{name:String,project:Object},mounted:function(){var t=this;t.team=t.$route.params.team},created:function(){},methods:{goto:function(){var t=this;Qm.push({name:"Workbench",params:{team:t.team,type:"dashboard"}})},setPin:function(t){t.stopPropagation()}},computed:{desc:function(){return"最近页面更新于 8 小时前"}},components:{}},Aa=Ha,Ua=(a("e370"),Object(T["a"])(Aa,Oa,Ba,!1,null,"0e059727",null)),La=Ua.exports,Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox flex-column",staticStyle:{width:"250px",height:"175px",padding:"15px 15px 10px 20px",cursor:"pointer","margin-right":"20px","margin-top":"20px"},on:{click:t.goto}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto",color:"#333333","padding-right":"5px"}},[a("div",{staticStyle:{flex:"1","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"15px"}},[t._v(t._s(t.project.name))]),a("div",{staticClass:"pin-star",staticStyle:{flex:"0 0 auto","align-content":"end"}},[a("b-icon",{attrs:{icon:"star",scale:"1.3"},on:{click:t.setPin}})],1)]),a("div",{staticStyle:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},[t._v(t._s(t.desc))])]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"1"}},[a("Pie",{attrs:{chartData:t.chartData,options:t.options,width:180,height:90}})],1)])])},qa=[],Va=a("1fca"),Fa=Va["c"].reactiveProp,Ga={extends:Va["b"],mixins:[Fa],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}},Ra=Ga,Wa=Object(T["a"])(Ra,N,q,!1,null,null,null),Ya=Wa.exports,Ja={data:function(){return{team:"",canvasHeight:300,options:{responsive:!0,maintainAspectRatio:!0,legend:{display:!0,position:"right"}},chartData:{datasets:[{data:[],backgroundColor:["rgba(255, 99, 132, 0.3)","rgba(54, 162, 235, 0.3)","rgba(255, 206, 86, 0.3)"]}],labels:["未开始","进行中","已完成"]}}},props:{project:Object},mounted:function(){},created:function(){var t=this;t.team=t.$route.params.team,t.chartData.datasets[0].data.push(t.project.to_do_count),t.chartData.datasets[0].data.push(t.project.in_progress_count),t.chartData.datasets[0].data.push(t.project.done_count)},methods:{goto:function(){var t=this;Qm.push({name:"Project",params:{team:t.team,project:t.project.uuid}})},setPin:function(t){t.stopPropagation()}},computed:{desc:function(){return"最近页面更新于 8 小时前"}},components:{Pie:Ya}},Za=Ja,Ka=(a("a2d1"),Object(T["a"])(Za,Na,qa,!1,null,"04a2bc74",null)),Qa=Ka.exports,Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox flex-column",staticStyle:{width:"250px",height:"175px",padding:"15px 15px 10px 20px",cursor:"pointer","margin-right":"20px","margin-top":"20px"},on:{click:t.goto}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto",color:"#333333","padding-right":"5px"}},[a("div",{staticStyle:{flex:"1","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"15px"}},[t._v(t._s(t.space.title))]),a("div",{staticClass:"pin-star",staticStyle:{flex:"0 0 auto","align-content":"end"}},[a("b-icon",{attrs:{icon:"star",scale:"1.3"},on:{click:t.setPin}})],1)]),a("div",{staticStyle:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},[t._v(t._s(t.desc))])]),a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{flex:"1"}},[a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{flex:"1","font-size":"66px","font-weight":"bolder",color:"#800000",opacity:"0.4","font-family":"Georgia, 'Times New Roman', Times, serif"}},[t._v(" "+t._s(t.space.page_count)+" ")])])])},ti=[],ei={data:function(){return{team:""}},props:{space:Object},mounted:function(){var t=this;t.team=t.$route.params.team},created:function(){},methods:{goto:function(){var t=this;Qm.push({name:"Space",params:{team:t.team,space:t.space.uuid}})},setPin:function(t){t.stopPropagation()}},computed:{desc:function(){return"最近页面更新于 8 小时前"}},components:{}},ai=ei,ii=(a("31a4"),Object(T["a"])(ai,Xa,ti,!1,null,"56cbea58",null)),si=ii.exports,ri={data:function(){return{projects:[],spaces:[]}},created:function(){var t=this;t.team=t.$route.params.team,t.project_list(),t.space_list()},methods:{space_list:function(){var t=this;mt.get(t.urls.spaces.format(t.team)).then((function(e){t.spaces=e.data.spaces}))},project_list:function(){var t=this,e=t.urls.team_project_list.format(t.team),a={category:2,name:""};mt.post(e,a).then((function(e){t.projects=e.data}))}},components:{Dashboard:La,Project:Qa,Space:si}},ni=ri,oi=Object(T["a"])(ni,Da,Ia,!1,null,"4461f8d0",null),li=oi.exports,ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-column",staticStyle:{margin:"20px",flex:"1"}},[t._m(0),a("div",{staticClass:"flex-row",staticStyle:{padding:"20px 0 0 0",flex:"1"}},[a("Tasks",{attrs:{tasks:t.tasks_assign,count:t.tasks_assign.length,title:"我负责的工作项"}}),a("Tasks",{staticStyle:{"margin-left":"20px"},attrs:{tasks:t.tasks_owner,count:t.tasks_owner.length,title:"我提交的工作项"}}),a("Tasks",{staticStyle:{"margin-left":"20px"},attrs:{tasks:t.tasks_watcher,count:t.tasks_watcher.length,title:"我关注的工作项"}}),a("Tasks",{staticStyle:{"margin-left":"20px"},attrs:{tasks:t.tasks_done,count:t.tasks_done.length,title:"完成的工作项"}})],1)])},di=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row",staticStyle:{flex:"0 0 auto",padding:"0"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{"font-size":"18px"}},[t._v("仪表盘")])])])}],ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row",staticStyle:{flex:"1",overflow:"hidden","max-width":"360px"}},[a("div",{staticClass:"flex-column",staticStyle:{border:"1px solid #eef2f7","border-radius":"3px",flex:"1",overflow:"hidden"}},[a("div",{staticStyle:{flex:"0 0 auto",padding:"15px 20px","font-weight":"700","background-color":"#f1f3fa","border-radius":"3px 3px 0 0"}},[t._v(t._s(t.title)+" ("+t._s(t.count)+")")]),a("div",{staticClass:"flex-column",staticStyle:{flex:"1","overflow-y":"auto"}},[a("div",{staticClass:"flex-column",staticStyle:{padding:"0 15px 15px 15px","background-color":"#fafbfe",height:"0"},attrs:{id:"task-list"}},t._l(t.tasks,(function(e){return a("div",{key:e.uuid,staticClass:"task-item",staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{border:"none","background-color":"#ffffff",flex:"1",padding:"20px","margin-top":"15px","border-radius":"5px","box-shadow":"0 0 35px 0 rgba(154,161,171, 0.15)"},attrs:{title:e.summary}},[a("div",{staticClass:"flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("Priority",{attrs:{color:e.priority.color,name:e.priority.value,bgColor:e.priority.background_color}})],1),a("div",{staticClass:"flex-row",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"1"}}),a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{color:"#98a6ad","font-size":"12px"}},[t._v(t._s(t._f("formatDay")(e.create_time)))])])])]),a("div",{staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap","font-weight":"600",margin:"15px 0",cursor:"pointer","max-width":"288px"}},[t._v(t._s(e.summary))]),a("div",{staticClass:"flex-row"},[a("div",{staticStyle:{flex:"0 0 30px"}},[a("b-icon",{attrs:{icon:"diagram3-fill",scale:"1.2"}})],1),a("div",{staticStyle:{flex:"1"}},[a("router-link",{attrs:{to:{name:"Project",params:{team:t.team,project:e.project.uuid}}}},[t._v(t._s(e.project.name))])],1)]),a("div",{staticClass:"flex-row",staticStyle:{"margin-top":"15px"}},[a("div",{staticStyle:{flex:"1"}},[a("User",{attrs:{user:e.owner}})],1),a("div",{staticStyle:{flex:"0 0 auto"}},[a("Status",{attrs:{name:e.task_status.name,color:e.task_status.category.toString()}})],1)])])])})),0)])])])},pi=[],mi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"status",style:"background-color: "+t.bgColor+";color:"+t.color+";"},[t._v(t._s(t.name))])},fi=[],vi={data:function(){return{}},props:{bgColor:String,color:String,name:String}},hi=vi,xi=(a("9849"),Object(T["a"])(hi,mi,fi,!1,null,"4468b9ac",null)),gi=xi.exports,_i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}},[a("div",{staticClass:"status",class:t.curColor},[t._v(" "+t._s(t.curName)+" ")])])},yi=[],bi={data:function(){return{}},props:{name:String,color:String},computed:{curName:function(){var t=this,e=t.name;switch(t.name){case"1":case"to_do":e="未开始";break;case"2":case"in_progress":e="未开始";break;case"3":case"done":e="已完成";break}return e},curColor:function(){var t=this,e=t.color;switch(t.color){case"1":e="to_do";break;case"2":e="in_progress";break;case"3":e="done";break}return e}}},Si=bi,wi=Object(T["a"])(Si,_i,yi,!1,null,null,null),ki=wi.exports,Ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row align-items-center"},[a("div",{staticStyle:{flex:"0 0 auto",display:"flex","align-items":"center"}},[a("b-img",{staticStyle:{height:"20px"},attrs:{left:"",src:t.user.avatar,rounded:"circle",title:t.user.name}})],1),t.includeName?a("div",{staticStyle:{flex:"0 0 auto",display:"flex","align-items":"center","margin-left":"5px"}},[t._v(" "+t._s(t.user.name)+" ")]):t._e()])},ji=[],$i={data:function(){return{}},props:{user:Object,includeName:{default:!0}}},zi=$i,Ei=Object(T["a"])(zi,Ci,ji,!1,null,null,null),Mi=Ei.exports,Pi={data:function(){return{team:""}},props:{title:String,tasks:Array,hasEmail:Boolean,count:Number},created:function(){var t=this;t.team=t.$route.params.team},components:{Priority:gi,Status:ki,User:Mi}},Ti=Pi,Di=Object(T["a"])(Ti,ui,pi,!1,null,"7fca3529",null),Ii=Di.exports,Oi={data:function(){return{tasks_assign:[],tasks_owner:[],tasks_watcher:[],tasks_done:[]}},mounted:function(){var t=this;t.team=t.$route.params.team,t.task_list()},created:function(){},methods:{task_list:function(){var t=this;mt.post(t.urls.task_list_by_assign.format(t.team)).then((function(e){if(e.data&&e.data.length>0)for(var a=0;a<e.data.length;a++)if(3===e.data[a].category){for(var i=!0,s=0;s<t.tasks_done.length;s++)if(t.tasks_done[s].uuid===e.data[a].uuid){i=!1;break}i&&t.tasks_done.push(e.data[a])}else t.tasks_assign.push(e.data[a])})),mt.post(t.urls.task_list_by_owner.format(t.team)).then((function(e){if(e.data&&e.data.length>0)for(var a=0;a<e.data.length;a++)if(3===e.data[a].category){for(var i=!0,s=0;s<t.tasks_done.length;s++)if(t.tasks_done[s].uuid===e.data[a].uuid){i=!1;break}i&&t.tasks_done.push(e.data[a])}else t.tasks_owner.push(e.data[a])})),mt.post(t.urls.task_list_by_watcher.format(t.team)).then((function(e){if(e.data&&e.data.length>0)for(var a=0;a<e.data.length;a++)if(3===e.data[a].category){for(var i=!0,s=0;s<t.tasks_done.length;s++)if(t.tasks_done[s].uuid===e.data[a].uuid){i=!1;break}i&&t.tasks_done.push(e.data[a])}else t.tasks_watcher.push(e.data[a])}))}},components:{Tasks:Ii}},Bi=Oi,Hi=Object(T["a"])(Bi,ci,di,!1,null,"443ef584",null),Ai=Hi.exports,Ui={data:function(){return{currentTabComponent:li}},watch:{$route:function(){this.shift()}},created:function(){var t=this;t.shift()},methods:{shift:function(){var t=this;t.currentTabComponent=t.$route.params.type||t.currentTabComponent}},components:{Overview:li,Dashboard:Ai}},Li=Ui,Ni=Object(T["a"])(Li,Pa,Ta,!1,null,null,null),qi=Ni.exports,Vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox flex-column"},[a("div",{staticClass:"project-top-row"},[a("div",{staticStyle:{flex:"0 1 auto"}},[a("div",{staticClass:"tab-title"},t._l(t.tabTitle,(function(e,i){return a("div",{key:i,class:{active:t.cur===i},staticStyle:{flex:"0 0 auto","text-align":"center",cursor:"pointer",padding:"0 10px 10px 10px"},on:{click:function(e){return t.selectTab(i)}}},[t._v(t._s(e))])})),0)]),a("div",{staticStyle:{flex:"1"}})]),a("div",{staticClass:"project-new-row flex-row"},[a("div",{staticStyle:{flex:"0 0 auto","flex-direction":"row","text-align":"left"}},[a("AddProjectButton",{attrs:{title:"新增项目",plus:!0},on:{submit:t.add}})],1),a("div",{staticStyle:{flex:"1",display:"inline-block"}}),a("div",{staticStyle:{flex:"0 0 auto","flex-direction":"column","align-items":"center",display:"flex"}},[a("div",{staticStyle:{width:"100%","text-align":"right",flex:"1","align-items":"center",display:"flex"}},[a("div",{staticStyle:{flex:"1",display:"inline-block"}},[a("Search",{attrs:{placeholder:"项目名称"},on:{search:t.search}})],1)])])]),t.tasks_completed?a("div",{staticClass:"h-flex flex-row"},[t.has?a("div",{staticClass:"i-table",staticStyle:{flex:"auto","overflow-x":"auto",padding:"0 20px"}},[a("b-table",{attrs:{fields:t.fields,items:t.items},scopedSlots:t._u([{key:"cell(nameuuid)",fn:function(e){return[a("router-link",{attrs:{to:{name:"Project",params:{team:t.team,project:e.item.uuid}}}},[t._v(t._s(e.item.name))])]}},{key:"cell(status)",fn:function(t){return[a("Status",{attrs:{name:t.item.status_category,color:t.item.status_uuid}})]}},{key:"cell(assign)",fn:function(t){return[a("User",{attrs:{user:t.item.assign}})]}},{key:"cell(progress_rate)",fn:function(t){return[a("b-progress",{attrs:{value:(100*t.item.done_count/(t.item.to_do_count+t.item.in_progress_count+t.item.done_count)).toFixed(0),variant:"success",striped:"",animate:""}})]}},{key:"cell(plan_start_time)",fn:function(e){return[t._v(" "+t._s(t._f("formatDate")(e.value))+" ")]}},{key:"cell(plan_end_time)",fn:function(e){return[t._v(" "+t._s(t._f("formatDate")(e.value))+" ")]}},{key:"cell(issue_type_count)",fn:function(e){return[t._v(" "+t._s(e.item.to_do_count+e.item.in_progress_count+e.item.done_count)+" ")]}}],null,!1,2411006057)})],1):a("div",{staticClass:"flex t-line",staticStyle:{flex:"auto"}},[a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{flex:"1 1 0%"}},[t._v("暂无项目")])])]):t._e()])},Fi=[],Gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("div",{staticClass:"flex-column",staticStyle:{position:"absolute","margin-left":"10px",height:"100%"}},[a("div",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"center"}},[a("b-icon",{attrs:{icon:"search"}})],1)]),a("b-form-input",{staticStyle:{"padding-left":"30px"},attrs:{placeholder:t.placeholder},on:{blur:t.post},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)},Ri=[],Wi={data:function(){return{name:""}},props:{placeholder:String},methods:{post:function(){var t=this;t.$emit("search",t.name)}}},Yi=Wi,Ji=(a("c78c"),Object(T["a"])(Yi,Gi,Ri,!1,null,"7b82b73c",null)),Zi=Ji.exports,Ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row user align-items-center",class:{selected:t.selected},on:{click:t.onsubmit}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto"}},[a("b-img",{staticStyle:{height:"16px"},attrs:{left:"",src:t.user.avatar,rounded:"circle"}})],1),a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto","margin-left":"5px"}},[t._v(" "+t._s(t.user.name)+" ")]),t.hasEmail?a("div",{staticStyle:{flex:"0 0 auto",display:"flex","align-items":"center","margin-left":"5px","font-size":"12px"}},[t._v(" ("+t._s(t.user.email)+") ")]):t._e(),t.selected?a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"1","min-width":"50px"}}),a("div",{staticStyle:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[a("b-icon",{attrs:{icon:"check",scale:"1.5"}})],1)]):t._e()])},Qi=[],Xi={data:function(){return{}},props:{user:Object,hasEmail:{default:!1},selected:{default:!1}},methods:{onsubmit:function(){var t=this;this.$emit("submit",t.user.uuid)}}},ts=Xi,es=(a("8253"),Object(T["a"])(ts,Ki,Qi,!1,null,"7fb622c6",null)),as=es.exports,is={data:function(){return{cur:2,team:"",com:"",tabTitle:["全部项目","未开始","进行中","已完成"],fields:[{key:"nameuuid",label:"项目名称",formatter:"项目名称"},{key:"status",label:"项目状态",formatter:"项目状态"},{key:"assign",label:"项目负责人",formatter:"项目负责人"},{key:"progress_rate",label:"工作项目完成度",formatter:"工作项目完成度"},{key:"plan_start_time",label:"计划开始时间",formatter:"计划开始时间"},{key:"plan_end_time",label:"计划完成时间",formatter:"计划完成时间"},{key:"issue_type_count",label:"工作项数量",formatter:"工作项数量"},{key:"in_progress_count",label:"进行中工作项",formatter:"进行中工作项"}],items:[],tasks_completed:!1,name:""}},components:{AddProjectButton:xe,Status:ki,Search:Zi,User:as},created:function(){var t=this;t.team=t.$route.params.team,t.project_list()},methods:{add:function(){var t=this;Qm.push({name:"AddProject",params:{team:t.team}})},project_list:function(){var t=this,e=t.urls.team_project_list.format(t.team),a={category:t.cur,name:t.name};mt.post(e,a).then((function(e){t.items=e.data,t.tasks_completed=!0}))},search:function(t){var e=this;e.name=t,e.project_list()},selectTab:function(t){var e=this;e.cur=t,e.project_list()}},computed:{has:function(){var t=this;return t.tasks_completed&&t.items&&t.items.length>0}}},ss=is,rs=(a("a253"),Object(T["a"])(ss,Vi,Fi,!1,null,"02a6db2e",null)),ns=rs.exports,os=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-center ibox flex-column"},[a("div",{staticClass:"flex-column",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"0 0 auto",padding:"20px","font-size":"18px"}},[t._v(" 新建项目 ")]),a("div",{staticClass:"form-horizontal mg0 t-line",staticStyle:{flex:"1",padding:"20px"}},[t._m(0),a("div",[a("div",{staticClass:"col-md-8"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"项目名字"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),a("div",{staticClass:"t-line padding20",staticStyle:{flex:"0 0 auto","text-align":"right"}},[a("AddProjectButton",{attrs:{title:"确定提交",disabled:t.disabled},on:{submit:t.add}})],1)])])},ls=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("label",{staticClass:"col-md-8"},[t._v("项目名字"),a("span",{staticStyle:{color:"#ff0000"}},[t._v("*")])])])}],cs={data:function(){return{name:"",team:"",disabled:!1}},components:{AddProjectButton:xe},created:function(){var t=this;t.team=t.$route.params.team},watch:{},methods:{add:function(){var t=this;t.name&&(t.disabled=!0,mt.post(t.urls.project_add.format(t.team),{project:{name:t.name},template_id:"project-t1"}).then((function(e){200===e.data.code?Qm.push({name:"Projects",params:{team:t.team}}):t.disabled=!1})))}}},ds=cs,us=Object(T["a"])(ds,os,ls,!1,null,null,null),ps=us.exports,ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},fs=[],vs={data:function(){return{}},mounted:function(){var t=this,e=t.$route.params.team,a=t.$route.params.project;mt.get(t.urls.project_first_component.format(e,a)).then((function(t){Qm.push({name:"Component",params:{team:e,project:a,com:t.data.uuid}})}))}},hs=vs,xs=Object(T["a"])(hs,ms,fs,!1,null,null,null),gs=xs.exports,_s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-no-border flex-column"},[a("div",{staticClass:"flex-row",staticStyle:{height:"100%",flex:"1"}},[a("Control",{attrs:{tagIndex:t.tagIndex},on:{tag_switch:t.tag_switch}}),a("div",{staticClass:"ibox",staticStyle:{"max-width":"1200px",flex:"1 1 auto","min-height":"100%"}},[a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[a("router-view")],1)],1)],1)])},ys=[],bs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"project-setting-menu"}},[a("div",{staticStyle:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},[t._v("配置中心")]),a("div",{staticStyle:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},[t._v("项目")]),a("div",{class:{active:1===t.tagIndex}},[a("router-link",{attrs:{to:{name:"ProjectSettingManager",params:{team:t.team}}}},[t._v("项目管理")])],1),a("div",{class:{active:2===t.tagIndex}},[a("router-link",{attrs:{to:{name:"ProjectSettingField",params:{team:t.team}}}},[t._v("项目属性")])],1),a("div",{class:{active:3===t.tagIndex}},[a("router-link",{attrs:{to:{name:"ProjectSettingStatus",params:{team:t.team}}}},[t._v("项目状态")])],1),a("div",{staticStyle:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},[t._v("工作项")]),a("div",{class:{active:11===t.tagIndex}},[a("router-link",{attrs:{to:{name:"IssueTypeSettingManager",params:{team:t.team}}}},[t._v("工作项类型")])],1),a("div",{class:{active:12===t.tagIndex}},[a("router-link",{attrs:{to:{name:"IssueTypeSettingField",params:{team:t.team}}}},[t._v("工作项属性")])],1),a("div",{class:{active:13===t.tagIndex}},[a("router-link",{attrs:{to:{name:"IssueTypeSettingStatus",params:{team:t.team}}}},[t._v("工作项状态")])],1),a("div",{class:{active:14===t.tagIndex}},[a("router-link",{attrs:{to:{name:"IssueTypeSettingPriority",params:{team:t.team}}}},[t._v("优先级")])],1)])},Ss=[],ws={data:function(){return{team:"-"}},mounted:function(){var t=this;t.team=t.$route.params.team},created:function(){},props:["tagIndex"],methods:{}},ks=ws,Cs=(a("9c6d"),Object(T["a"])(ks,bs,Ss,!1,null,"7c69e16d",null)),js=Cs.exports,$s={data:function(){return{tagIndex:1}},components:{Control:js},created:function(){var t=this,e=t.$route.name;t.tag_switch("{0}".format(e))},watch:{$route:function(){var t=this,e=t.$route.name;t.tag_switch("{0}".format(e))}},methods:{tag_switch:function(t){var e=this;switch(t){case"ProjectSettingManager":e.tagIndex=1;break;case"ProjectSettingField":e.tagIndex=2;break;case"ProjectSettingStatus":e.tagIndex=3;break;case"IssueTypeSetting":case"IssueTypeSettingManager":e.tagIndex=11;break;case"IssueTypeSettingField":e.tagIndex=12;break;case"IssueTypeSettingStatus":e.tagIndex=13;break;case"IssueTypeSettingPriority":e.tagIndex=14;break}}}},zs=$s,Es=Object(T["a"])(zs,_s,ys,!1,null,"57f9d0f7",null),Ms=Es.exports,Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","min-height":"100%"}},[a("ProjectMangeHeader",{attrs:{title:"项目管理",desc:"项目管理页展示当前所有项目，可对项目进行权限编辑和删除操作。"}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("Search",{staticStyle:{margin:"20px 0"},attrs:{placeholder:"搜索项目"}}),a("div",{attrs:{id:"project-main"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex","overflow-x":"auto"}},[a("div",{staticClass:"table"},[t._m(0),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"td anchor"},[a("router-link",{attrs:{to:{name:"Project",params:{team:t.team,project:e.uuid}}}},[t._v(" "+t._s(e.name)+" ")])],1),a("div",{staticClass:"td",staticStyle:{flex:"0 0 80px"}},[a("router-link",{attrs:{to:{name:"ProjectPermissionSetting",params:{team:t.team,project:e.uuid,title:e.name}}}},[a("b-icon",{attrs:{icon:"pencil-square"}})],1)],1)])}))],2)])])],1)],1)},Ts=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("项目名称")]),a("div",{staticClass:"th",staticStyle:{flex:"0 0 80px"}},[t._v("操作")])])}],Ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row b-line align-items-center padding20",staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{"font-size":"18px",flex:"1","white-space":"nowrap"}},[t._v(t._s(t.title))]),a("div",{staticClass:"flex-row",staticStyle:{flex:"auto","align-items":"center","justify-content":"end"}},[a("Summary",{attrs:{desc:t.desc}})],1)])},Is=[],Os=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.desc?a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticStyle:{flex:"0 0 auto","align-items":"center"},attrs:{title:t.desc,tabindex:"0"}},[a("b-icon",{attrs:{icon:"question-octagon",scale:"1.2"}})],1):t._e()},Bs=[],Hs={data:function(){return{}},props:{desc:String}},As=Hs,Us=Object(T["a"])(As,Os,Bs,!1,null,null,null),Ls=Us.exports,Ns={props:["title","desc"],components:{Summary:Ls}},qs=Ns,Vs=Object(T["a"])(qs,Ds,Is,!1,null,null,null),Fs=Vs.exports,Gs={data:function(){return{name:"",team:"",items:[]}},created:function(){var t=this;t.team=t.$route.params.team,t.project_list()},methods:{project_list:function(){var t=this;mt.post(t.urls.project_list.format(t.team)).then((function(e){t.items=e.data}))}},components:{ProjectMangeHeader:Fs,Search:Zi}},Rs=Gs,Ws=Object(T["a"])(Rs,Ps,Ts,!1,null,"27b861d6",null),Ys=Ws.exports,Js=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","min-height":"100%"}},[a("ProjectMangeHeader",{attrs:{title:"项目属性",desc:"项目属性设置可以设置项目概览页面需要显示的项目自定义属性。"}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("Search",{staticStyle:{margin:"20px 0"},attrs:{placeholder:"搜索项目属性"}}),a("div",{attrs:{id:"project-main"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex"}},[a("div",{staticClass:"table"},[t._m(0),t._l(t.items,(function(e){return a("div",{key:e.alias,staticClass:"table-row"},[a("div",{staticClass:"td flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.name))]),a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[e.built_in?a("div",{staticStyle:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},[t._v("系统")]):t._e()])]),a("div",{staticClass:"td"},[t._v(t._s(t._f("projectFieldType")(e.field_type)))]),a("div",{staticClass:"td"},[t._v("所有项目")]),a("div",{staticClass:"td",staticStyle:{display:"flex","align-items":"center",flex:"0 0 80px"}},[e.built_in?a("div",{staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})]):a("div",[t._v(" x ")])])])}))],2)])])],1)],1)},Zs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("属性名称")]),a("div",{staticClass:"th"},[t._v("属性类型")]),a("div",{staticClass:"th"},[t._v("使用到的项目")]),a("div",{staticClass:"th",staticStyle:{flex:"0 0 80px"}},[t._v("操作")])])}],Ks={data:function(){return{team:"",items:[]}},created:function(){var t=this;t.team=t.$route.params.team,t.project_list()},methods:{project_list:function(){var t=this,e=t.$route.params.project;mt.post(t.urls.project_field.format(t.team),{project:e}).then((function(e){t.items=e.data}))}},components:{ProjectMangeHeader:Fs,Search:Zi}},Qs=Ks,Xs=Object(T["a"])(Qs,Js,Zs,!1,null,"db05523e",null),tr=Xs.exports,er=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","min-height":"100%"}},[a("ProjectMangeHeader",{attrs:{title:"项目状态",desc:"项目状态用于标示项目所处状态，不同状态类型下可以有多种状态，当前为系统项目状态列表，不同项目可以共用同一个状态。"}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("Search",{staticStyle:{margin:"20px 0"},attrs:{placeholder:"搜索项目状态"}}),a("div",{attrs:{id:"project-main"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex"}},[a("div",{staticClass:"table"},[t._m(0),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"td flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.name))]),t._m(1,!0)]),a("div",{staticClass:"td",staticStyle:{display:"flex","align-items":"center"}},[a("Status",{attrs:{name:e.name,color:e.uuid}})],1),a("div",{staticClass:"td"},[t._v("所有项目")]),t._m(2,!0)])}))],2)])])],1)],1)},ar=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("状态名称")]),a("div",{staticClass:"th"},[t._v("状态类型")]),a("div",{staticClass:"th"},[t._v("使用到的项目")]),a("div",{staticClass:"th",staticStyle:{flex:"0 0 80px"}},[t._v("操作")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[a("div",{staticStyle:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},[t._v("系统")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"td",staticStyle:{display:"flex","align-items":"center",flex:"0 0 80px"}},[a("div",{staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])}],ir={data:function(){return{team:"",items:[]}},created:function(){var t=this;t.team=t.$route.params.team,t.project_list()},methods:{project_list:function(){var t=this;mt.post(this.urls.project_status.format(t.team)).then((function(e){t.items=e.data}))}},components:{Status:ki,Search:Zi,ProjectMangeHeader:Fs}},sr=ir,rr=Object(T["a"])(sr,er,ar,!1,null,"257a7866",null),nr=rr.exports,or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","min-height":"100%"}},[a("ProjectMangeHeader",{attrs:{title:"工作项类型",desc:"配置中心下，工作项类型配置项的修改，不会同步到已经应用的项目中。"}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("Search",{staticStyle:{margin:"20px 0"},attrs:{placeholder:"搜索工作项类型"}}),a("div",{attrs:{id:"project-main"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex","overflow-x":"auto"}},[a("div",{staticClass:"table"},[t._m(0),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"td flex-row align-items-center",staticStyle:{flex:"1 1 260px"}},[a("IBIcon",{attrs:{icon:e.icon.toString(),scale:"2"}}),a("div",{staticClass:"flex-column",staticStyle:{"margin-left":"20px"}},[a("div",{staticClass:"flex-row"},[a("div",{staticStyle:{color:"#17C4BB"}},[t._v(t._s(e.name))]),a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[e.built_in?a("div",{staticStyle:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},[t._v("系统")]):t._e()])]),a("div",{staticStyle:{color:"#999999"}},[t._v(t._s(e.field_count)+" 工作项属性"),a("span",{staticStyle:{margin:"0 10px",color:"#999999"}},[t._v(" | ")]),t._v(t._s(e.status_count)+" 工作项状态")])])],1),a("div",{staticClass:"td flex-row align-items-center"},[0==e.detail_type?a("div",[t._v("自定义类型")]):a("div",[t._v("标准类型")])]),a("div",{staticClass:"td flex-row align-items-center"},[t._v("3个项目")]),a("div",{staticClass:"td flex-row align-items-center op-big"},[e.built_in?t._e():a("span",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}]},[t._v("重命名")]),a("router-link",{attrs:{to:{name:"IssueTypeSetting",params:{team:t.team,issue_type:e.uuid,title:e.name,type:"config"}}}},[t._v(" 编辑 ")])],1)])}))],2)]),a("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"重命名工作项类型","no-close-on-backdrop":!0,"cancel-title":"取消","ok-title":"确定",centered:!0},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticStyle:{height:"40px","margin-bottom":"10px","border-top":"1px solid #e8e8e8","border-bottom":"1px solid #e8e8e8","border-left":"3px solid #f0ad4e","border-right":"1px solid #e8e8e8"}},[a("div",{staticStyle:{flex:"1","align-items":"center",height:"100%",display:"flex","margin-left":"20px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(" 项目管理页展示当前所有项目，可对项目进行权限编辑和删除操作。 ")])])]),a("b-form-group",{attrs:{state:t.nameState,label:"类型名称","label-for":"name-input","invalid-feedback":"Name is required"}},[a("b-form-input",{attrs:{id:"name-input",state:t.nameState,required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1)])],1)],1)],1)},lr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th",staticStyle:{flex:"1 1 260px"}},[t._v("工作项类型")]),a("div",{staticClass:"th"},[t._v("类型")]),a("div",{staticClass:"th"},[t._v("使用到的项目")]),a("div",{staticClass:"th op-big"},[t._v("操作")])])}],cr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"align-items-center",staticStyle:{flex:"0 0 auto"}},["1"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"flex-column align-items-center"},[a("div",{staticStyle:{flex:"1",color:"#1677FF"}},[a("b-icon",{attrs:{icon:"briefcase-fill",scale:t.scale}})],1),a("div",{staticStyle:{flex:"1"}})])]):t._e(),"2"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"flex-column align-items-center"},[a("div",{staticStyle:{flex:"1",color:"#F7B621"}},[a("b-icon",{attrs:{icon:"bug-fill",scale:t.scale}})],1),a("div",{staticStyle:{flex:"1"}})])]):t._e(),"7"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"flex-column align-items-center"},[a("div",{staticStyle:{flex:"1",color:"#3FD698"}},[a("b-icon",{attrs:{icon:"receipt",scale:t.scale}})],1),a("div",{staticStyle:{flex:"1"}})])]):t._e(),"9"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"flex-column align-items-center"},[a("div",{staticStyle:{flex:"1",color:"#DAA520"}},[a("b-icon",{attrs:{icon:"flower2",scale:t.scale}})],1),a("div",{staticStyle:{flex:"1"}})])]):t._e(),"10"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"flex-column align-items-center"},[a("div",{staticStyle:{flex:"1",color:"#556B2F"}},[a("b-icon",{attrs:{icon:"flower1",scale:t.scale}})],1),a("div",{staticStyle:{flex:"1"}})])]):t._e(),"13"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"flex-column align-items-center"},[a("div",{staticStyle:{flex:"1",color:"#BC8F8F"}},[a("b-icon",{attrs:{icon:"globe",scale:t.scale}})],1),a("div",{staticStyle:{flex:"1"}})])]):t._e(),"15"===t.icon?a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"flex-column align-items-center"},[a("div",{staticStyle:{flex:"1",color:"#8B0000"}},[a("b-icon",{attrs:{icon:"bell",scale:t.scale}})],1),a("div",{staticStyle:{flex:"1"}})])]):t._e()])},dr=[],ur={data:function(){return{}},props:["to","name","icon","scale"]},pr=ur,mr=Object(T["a"])(pr,cr,dr,!1,null,"8bd732a8",null),fr=mr.exports,vr={data:function(){return{query:"",name:"",nameState:null,team:"",items:[]}},created:function(){var t=this;t.team=t.$route.params.team,t.project_list()},methods:{project_list:function(){var t=this;mt.post(this.urls.issue_type_list.format(t.team)).then((function(e){t.items=e.data}))},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},resetModal:function(){this.name="",this.nameState=null},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;this.checkFormValidity()&&this.$nextTick((function(){t.$bvModal.hide("modal-prevent-closing")}))}},components:{ProjectMangeHeader:Fs,Search:Zi,IBIcon:fr}},hr=vr,xr=Object(T["a"])(hr,or,lr,!1,null,"01cb14f2",null),gr=xr.exports,_r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","min-height":"100%"}},[a("ProjectMangeHeader",{attrs:{title:"工作项属性",desc:"工作项属性用于配置工作项需要的显示字段，可以用多种属性类型来进行配置，不同项目可以共用同一个属性。"}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("Search",{staticStyle:{margin:"20px 0"},attrs:{placeholder:"搜索工作项属性"}}),a("div",{attrs:{id:"project-main"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex"}},[a("div",{staticClass:"table"},[t._m(0),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"td flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.name))]),a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[e.built_in?a("div",{staticStyle:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},[t._v("系统")]):t._e()])]),a("div",{staticClass:"td"},[t._v(t._s(t._f("taskFieldType")(e.type)))]),a("div",{staticClass:"td"},[t._v("所有项目")]),a("div",{staticClass:"td op align-items-center",staticStyle:{display:"flex"}},[e.built_in?a("div",{staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})]):a("div",{staticClass:"flex-row iop",staticStyle:{"font-weight":"bolder"}},[a("div",{staticClass:"edit",staticStyle:{flex:"0 0 20px"},on:{click:function(a){return t.showModal(e.uuid,e.name)}}},[a("svg",{staticClass:"icon",attrs:{t:"1619926041971",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33589",width:"12",height:"12"}},[a("path",{attrs:{d:"M522.24 196.9152L157.4912 571.0848 0 1024l452.9152-147.6608L817.2544 512z m462.7456-29.4912L856.576 39.424a119.3984 119.3984 0 0 0-177.2544 0L571.0848 147.6608l295.424 305.2544 118.0672-118.1696A124.8256 124.8256 0 0 0 1024 245.76a121.5488 121.5488 0 0 0-39.424-78.336z",fill:"#2c2c2c","p-id":"33590"}})])]),a("div",{staticClass:"del",staticStyle:{flex:"0 0 20px","margin-left":"10px"}},[a("svg",{staticClass:"icon",attrs:{t:"1619925824323",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"}},[a("path",{attrs:{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"}})])])])])])})),a("b-modal",{attrs:{id:"modal-edit-field",title:"编辑工作项属性","no-close-on-backdrop":!0,"cancel-title":"取消","ok-title":"保存"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("b-form-group",{attrs:{state:t.nameState,label:"属性名称","label-for":"name-input","invalid-feedback":"Name is required"}},[a("b-form-input",{attrs:{id:"name-input",state:t.nameState,required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("b-form-group",{attrs:{state:t.nameState,label:"选项值","label-for":"option-input","invalid-feedback":"Name is required"}},[a("div",{staticClass:"flex-row"},[a("div",{staticStyle:{flex:"1"}},[a("b-form-input",{attrs:{id:"name-input"},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}})],1),a("div",{staticClass:"flex-column align-items-center justify-content-center",staticStyle:{flex:"0 0 60px","margin-left":"5px"}},[a("AddButton",{attrs:{disabled:t.disabled,title:"添加"},on:{submit:t.addOption}})],1)])]),t._l(t.options,(function(e){return a("div",{key:e.uuid,staticClass:"iop"},[a("div",{staticClass:"flex-row",staticStyle:{"border-bottom":"1px solid #e8e8e8",padding:"5px 0"}},[a("div",{staticStyle:{flex:"0 0 20px","margin-left":"5px"}},[a("b-icon",{attrs:{icon:"grip-horizontal"}})],1),a("div",{staticStyle:{flex:"1"}},[t._v(t._s(e.value))]),a("div",{staticClass:"edit",staticStyle:{flex:"0 0 20px"},on:{click:t.editOption}},[a("svg",{staticClass:"icon",attrs:{t:"1619926041971",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33589",width:"12",height:"12"}},[a("path",{attrs:{d:"M522.24 196.9152L157.4912 571.0848 0 1024l452.9152-147.6608L817.2544 512z m462.7456-29.4912L856.576 39.424a119.3984 119.3984 0 0 0-177.2544 0L571.0848 147.6608l295.424 305.2544 118.0672-118.1696A124.8256 124.8256 0 0 0 1024 245.76a121.5488 121.5488 0 0 0-39.424-78.336z",fill:"#2c2c2c","p-id":"33590"}})])]),a("div",{staticClass:"del",staticStyle:{flex:"0 0 20px","margin-left":"10px"},on:{click:function(a){return t.delOption(e.uuid,e.value)}}},[a("svg",{staticClass:"icon",attrs:{t:"1619925824323",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"}},[a("path",{attrs:{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"}})])])])])}))],2)])],2)])])],1)],1)},yr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("属性名称")]),a("div",{staticClass:"th"},[t._v("属性类型")]),a("div",{staticClass:"th"},[t._v("使用到的项目")]),a("div",{staticClass:"th op",staticStyle:{display:"flex"}},[t._v("操作")])])}],br={data:function(){return{uuid:"",name:"",team:"",items:[],nameState:null,option:"",optionState:null,disabled:!1,options:[]}},created:function(){var t=this;t.team=t.$route.params.team},mounted:function(){var t=this;t.project_list()},methods:{project_list:function(){var t=this;mt.post(this.urls.issue_type_field_list.format(t.team)).then((function(e){t.items=e.data}))},list_team_field_option:function(){var t=this;mt.get(this.urls.issue_type_field_option_list.format(t.team,t.uuid)).then((function(e){t.options=e.data}))},showModal:function(t,e){var a=this;a.$bvModal.show("modal-edit-field"),a.options=[],a.uuid=t,a.name=e,a.list_team_field_option()},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return t},resetModal:function(){this.option="",this.nameState=null},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;this.checkFormValidity()&&(this.submit(),this.$nextTick((function(){t.$bvModal.hide("modal-edit-field")})))},submit:function(){var t=this,e={uuid:t.uuid,name:t.name,options:t.options};mt.post(t.urls.issue_type_field_update.format(t.team),e).then((function(e){200===e.data.code&&t.bus.$emit("alertSuccess","更新成功")})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))},addOption:function(){var t=this,e={},a=!0;if(t.option){for(var i=0;i<t.options.length;i++)if(t.options[i].value===t.option){a=!1;break}a&&(e.value=t.option,e.background_color="#ff6a39",e.color="#fff",t.options.push(e),t.option="")}},editOption:function(){},delOption:function(t,e){for(var a=this,i=[],s=0;s<a.options.length;s++)a.options[s].uuid===t&&a.options[s].value===e||i.push(a.options[s]);a.options=i}},components:{Search:Zi,ProjectMangeHeader:Fs,AddButton:xe}},Sr=br,wr=Object(T["a"])(Sr,_r,yr,!1,null,null,null),kr=wr.exports,Cr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","min-height":"100%"}},[a("ProjectMangeHeader",{attrs:{title:"工作项状态",desc:"工作项状态用于标示工作项所处阶段，不同的状态可以在项目中组装成为工作流，不同项目可以共用同一个状态。"}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("Search",{staticStyle:{margin:"20px 0"},attrs:{placeholder:"搜索工作项状态"}}),a("div",{attrs:{id:"project-main"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex"}},[a("div",{staticClass:"table"},[t._m(0),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"td flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.name))])]),a("div",{staticClass:"td"},[a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}},[a("Status",{attrs:{name:e.category.toString(),color:e.category.toString()}})],1)]),a("div",{staticClass:"td"},[t._v("所有项目")]),t._m(1,!0)])}))],2)])])],1)],1)},jr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("状态名称")]),a("div",{staticClass:"th"},[t._v("状态类型")]),a("div",{staticClass:"th"},[t._v("使用到的项目")]),a("div",{staticClass:"th",staticStyle:{flex:"0 0 80px"}},[t._v("操作")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"td",staticStyle:{display:"flex","align-items":"center",flex:"0 0 80px"}},[a("div",{staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])}],$r={data:function(){return{name:"",team:"",items:[]}},created:function(){var t=this;t.team=t.$route.params.team,t.project_list()},methods:{project_list:function(){var t=this;mt.post(this.urls.issue_type_status.format(t.team)).then((function(e){t.items=e.data}))}},components:{Status:ki,ProjectMangeHeader:Fs,Search:Zi}},zr=$r,Er=Object(T["a"])(zr,Cr,jr,!1,null,"46f9b9be",null),Mr=Er.exports,Pr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","min-height":"100%"}},[a("ProjectMangeHeader",{attrs:{title:"优先级",desc:"通过不同的组合设定，个性化您的优先级显示方式。"}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("Search",{staticStyle:{margin:"20px 0"},attrs:{placeholder:"搜索优先级"}}),a("div",{attrs:{id:"project-main"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex"}},[a("div",{staticClass:"table"},[t._m(0),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"td flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.value))]),e.uuid==t.defaultValue?a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[a("div",{staticStyle:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},[t._v("默认")])]):t._e()]),a("div",{staticClass:"td"},[a("div",[a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}},[a("div",[t._v(t._s(e.desc))])])])]),a("div",{staticClass:"td"},[a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[a("Priority",{attrs:{color:e.color,name:e.value,bgColor:e.background_color}})],1)]),t._m(1,!0)])}))],2)])])],1)],1)},Tr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("优先级名称")]),a("div",{staticClass:"th"},[t._v("描述")]),a("div",{staticClass:"th"},[t._v("显示样式")]),a("div",{staticClass:"th",staticStyle:{flex:"0 0 80px"}},[t._v("操作")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"td",staticStyle:{display:"flex","align-items":"center",flex:"0 0 80px"}},[a("div",{staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])}],Dr={data:function(){return{name:"",items:[],team:"",defaultValue:""}},created:function(){var t=this;t.team=t.$route.params.team,t.priority_list()},methods:{priority_list:function(){var t=this;mt.post(this.urls.issue_type_priority.format(t.team)).then((function(e){t.items=e.data.options,t.defaultValue=e.data.default_value}))}},components:{Priority:gi,ProjectMangeHeader:Fs,Search:Zi}},Ir=Dr,Or=Object(T["a"])(Ir,Pr,Tr,!1,null,"f630ad6e",null),Br=Or.exports,Hr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox",staticStyle:{"max-width":"1200px",flex:"1 1 auto","min-height":"100%"}},[a("div",{staticClass:"flex-row b-line align-items-center padding20",staticStyle:{flex:"0 0 auto"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{"font-size":"18px",flex:"0 0 auto"}},[t._v("项目管理")]),a("div",{staticStyle:{"margin-left":"10px",flex:"0 0 auto"}},[a("b-icon",{attrs:{icon:"chevron-right"}})],1),a("div",{staticStyle:{"margin-left":"10px",flex:"0 0 auto","font-size":"18px",color:"#909090"}},[t._v(t._s(t.ProjectName))])]),a("div",{staticClass:"flex-row",staticStyle:{flex:"auto","align-items":"center","justify-content":"end"}},[a("Summary",{attrs:{desc:t.desc}})],1)]),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.read}}):t._e(),t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.write}}):t._e()],1)])},Ar=[],Ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PermissionItem",{attrs:{exist:t.exist,items:t.items,title:t.title,desc:t.desc},on:{add:t.add,del:t.del}})},Lr=[],Nr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"30px"}},[a("div",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.title))]),a("div",{staticStyle:{color:"#909090"}},[t._v(t._s(t.desc))]),a("div",{staticClass:"table",staticStyle:{"margin-top":"15px"}},[t._m(0),t._l(t.exist,(function(e){return a("div",{key:e.uuid,staticClass:"perm-row"},[a("div",{staticClass:"td"},[t._v(t._s(e.name))]),e.read_only?t._e():a("div",{staticClass:"td",staticStyle:{flex:"0 0 60px",cursor:"pointer"},on:{click:function(a){return t.setDel(e.permission)}}},[a("b-icon",{attrs:{icon:"x",scale:"1.5"}})],1)])})),t.exist&&0!==t.exist.length?t._e():a("div",{staticClass:"perm-row flex-row"},[a("div",{staticClass:"td justify-content-center align-items-center",staticStyle:{"text-align":"center","padding-left":"0"}},[t._v("暂未添加成员")])]),a("div",{staticClass:"perm-row"},[a("div",{staticClass:"content"},[a("div",{ref:"permBody",staticClass:"select",class:{open:t.visible}},[a("b-form-input",{attrs:{placeholder:"搜索角色、用户组、部门、成员"},on:{click:t.show}}),a("div",{ref:"layer",staticClass:"group per-box",staticStyle:{position:"absolute"}},t._l(t.items,(function(e){return a("div",{key:e.uuid},[e.groups&&e.groups.length>0?a("div",{staticClass:"domain-group-header",staticStyle:{color:"#909090"}},[t._v(" "+t._s(e.title)+" ")]):t._e(),a("div",{staticStyle:{"background-color":"#ffffff"}},t._l(e.groups,(function(i){return a("div",{key:i.uuid,staticClass:"domain-item",on:{click:function(e){return t.setAdd(i.param,i.type)}}},[a("span",[t._v(t._s(i.name))]),e.isMember?a("span",{staticStyle:{"margin-left":"5px",color:"#909090","font-size":"12px"}},[t._v("("+t._s(i.email)+")")]):t._e(),i.desc?a("span",{staticStyle:{"margin-left":"5px",color:"#909090","font-size":"12px"}},[t._v("("+t._s(i.desc)+")")]):t._e()])})),0)])})),0)],1)])])],2)])},qr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"perm-row-header"},[a("div",{staticClass:"th"},[t._v("以下成员域拥有此操作权限")])])}],Vr={data:function(){return{visible:!1}},props:{title:String,desc:String,exist:Array,items:Array},methods:{setAdd:function(t,e){var a=this;a.visible=!1,a.$emit("add",t,e)},setDel:function(t){this.$emit("del",t)},show:function(){var t=this;!0===t.visible?t.hide():(t.visible=!0,document.addEventListener("click",t.hidePanel,!1))},hide:function(){var t=this;t.visible=!1,document.removeEventListener("click",t.hidePanel,!1)},hidePanel:function(t){var e=this;e.$refs.permBody&&e.$refs.permBody.contains(t.target)||e.hide()}}},Fr=Vr,Gr=(a("5949"),Object(T["a"])(Fr,Nr,qr,!1,null,"1d26b997",null)),Rr=Gr.exports,Wr={data:function(){return{visible:!1,everyone:{uuid:"s3",name:"所有成员",desc:"当前团队所有成员",type:"everyone",param:""},project_assign:{uuid:"s16",name:"项目负责人",type:"project_assign",param:""},team_owner:{uuid:"s10",name:"团队负责人",type:"team_owner",param:""},template:{roles:{uuid:"role",title:"角色",groups:[],exist:[]},members:{uuid:"member",title:"成员",groups:[],exist:[],isMember:!0}},exist:[],title:"",desc:"",permission:""}},props:{group:Object,data:Object},components:{PermissionItem:Rr},created:function(){var t=this;t.title=t.group.title,t.desc=t.group.desc,t.permission=t.group.permission},methods:{add:function(t,e){var a=this;a.team=a.$route.params.team,a.data.permission_rule.permission=a.permission,a.data.permission_rule.user_domain_type=e,a.data.permission_rule.user_domain_param=t,mt.post(a.urls.permission_rules_add.format(a.team),a.data).then((function(){a.$parent.GetUserDomainGroups()}))},del:function(t){var e=this;e.team=e.$route.params.team,mt.get(e.urls.permission_rule_delete.format(e.team,t)).then((function(){e.$parent.GetUserDomainGroups()}))}},computed:{items:function(){var t=this,e=[],a=[],i=[];t.exist=[];for(var s=0;s<t.group.groups.length;s++){var r=t.group.groups[s],n="",o=!1;switch(r.type){case 1:n="single_user";for(var l=0;l<r.params.length;l++){var c=r.params[l];i.push(c.param);for(var d=0;d<t.group.members.length;d++){var u=t.group.members[d];if(u.uuid===c.param){var p={uuid:c.uuid,permission:c.uuid,name:u.name,type:n,read_only:c.read_only};t.exist.push(p);break}}}break;case 3:n="everyone";for(var m=0;m<r.params.length;m++){var f=r.params[m];t.everyone.permission=f.uuid,t.everyone.read_only=f.read_only,t.exist.push(t.everyone)}break;case 10:n="team_owner";for(var v=0;v<r.params.length;v++){var h=r.params[v];t.team_owner.permission=h.uuid,t.team_owner.read_only=h.read_only,t.exist.push(t.team_owner)}break;case 11:n="role";for(var x=0;x<r.params.length;x++)for(var g=r.params[x],_=0;_<t.group.roles.length;_++){var y=t.group.roles[_];if(y.uuid===g.param){var b={name:y.name,name_pinyin:y.name_pinyin,uuid:y.uuid,permission:g.uuid,read_only:g.read_only};t.exist.push(b);break}}break;case 16:n="project_assign";for(var S=0;S<r.params.length;S++){var w=r.params[S];t.project_assign.permission=w.uuid,t.project_assign.read_only=w.read_only,t.exist.push(t.project_assign)}break;default:o=!0;break}o||e.push(n)}for(var k=[],C=0;C<t.group.in_roles.length;C++){var j=t.group.in_roles[C];k.push(t[j])}for(var $=0;$<t.group.roles.length;$++){var z=t.group.roles[$];z.param=z.uuid,k.push(z)}for(var E=[],M=0;M<t.group.members.length;M++){var P=t.group.members[M];P.param=P.uuid,E.push(P)}for(var T=t.template,D=[],I=0;I<k.length;I++){for(var O=k[I],B=!1,H=0;H<e.length;H++)if(O.type===e[H]){B=!0;break}B||D.push(O)}T.roles.groups=D,a.push(T.roles);for(var A=[],U=0;U<E.length;U++){for(var L=E[U],N=!1,q=0;q<i.length;q++)if(L.uuid===i[q]){N=!0;break}N||A.push(L)}return T.members.groups=A,a.push(T.members),a}}},Yr=Wr,Jr=Object(T["a"])(Yr,Ur,Lr,!1,null,null,null),Zr=Jr.exports,Kr={data:function(){return{dropdownActive:!1,team:"",project:"",ProjectName:"",maps:{read:{code:1102,permission:"browse_project",title:"查看项目",desc:"允许成员浏览当前项目，包括工作项，筛选器，报表等信息",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},write:{code:1101,permission:"manage_project",title:"管理项目",desc:"管理当前项目并更新项目的配置信息",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},role_members:[],loaded:!1,desc:"项目管理、查看基本权限配置，需要更细致权限请到各个具体项目下配置。"}},mounted:function(){var t=this;t.GetProjectName(),t.GetUserDomainGroups()},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.data={permission_rule:{context_type:"project",context_param:{project_uuid:t.project}}}},methods:{GetProjectName:function(){var t=this;t.ProjectName=t.$route.params.title,t.ProjectName||mt.get(t.urls.project_get.format(t.team,t.project)).then((function(e){t.ProjectName=e.data.name}))},GetUserDomainGroups:function(){var t=this,e=[];for(var a in t.maps)e.push(t.maps[a].code);mt.post(t.urls.project_user_domain_group.format(t.team,t.project),e).then((function(e){for(var a in t.maps){var i=t.maps[a];i.groups=[]}if(e.data&&e.data.length>0)for(var s in t.maps)for(var r=t.maps[s],n=0;n<e.data.length;n++){var o=e.data[n];if(o.permission===r.code){r.groups=o.groups;break}}t.GetRoleMembers()}))},GetRoleMembers:function(){var t=this;mt.get(t.urls.role_members.format(t.team,t.project)).then((function(e){if(e.data&&e.data.role_members&&e.data.role_members.length>0)for(var a=0;a<e.data.role_members.length;a++){var i=e.data.role_members[a];for(var s in t.maps){var r=t.maps[s];r.roles=[],r.members=[],i.role.type="role",r.roles.push(i.role);for(var n=0;n<i.members.length;n++){var o=i.members[n];o.type="single_user",r.members.push(o)}}}t.loaded=!0}))}},components:{PermissionItem:Zr,Summary:Ls}},Qr=Kr,Xr=(a("8d7f"),Object(T["a"])(Qr,Hr,Ar,!1,null,"4828d790",null)),tn=Xr.exports,en=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.currentTabComponent,{tag:"component",attrs:{comName:t.comName,issue_type:t.issue_type}})},an=[],sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1 0 auto",display:"flex",height:"100%",width:"100%"}},[a("Com00000",{ref:"com",attrs:{comName:t.comName,issue_type:t.issue_type},scopedSlots:t._u([{key:"workField",fn:function(){return[a("div",{staticClass:"field-type-group option"},[a("div",{staticClass:"flex-row field-row"},[a("div",{staticClass:"field-cell"},[t._v("关联任务")]),a("div",{staticClass:"field-cell-value header"},[a("div",{staticClass:"flex-row"},[a("div",{staticStyle:{flex:"1"}}),a("div",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-related-task",modifiers:{"modal-related-task":!0}}],staticStyle:{flex:"0 0 auto",color:"#303030",cursor:"pointer"}},[a("b-icon",{staticClass:"link",attrs:{icon:"link",scale:"1.8"}})],1)])])]),a("div",{staticClass:"flex-row field-row"},[t.linkedTasks&&t.linkedTasks.length>0?a("div",{staticClass:"flex-row",staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0"}},[a("div",{staticStyle:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},[a("div",{staticStyle:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto"},attrs:{id:"linked-task-list"}},t._l(t.linkedTasks,(function(e){return a("div",{key:e.uuid,staticClass:"flex-row task-item align-items-center"},[a("div",{staticClass:"flex-row related-task align-items-center",staticStyle:{flex:"1",padding:"5px 0 5px 5px",cursor:"pointer"},on:{mouseover:function(a){t.delUUID=e.uuid},mouseleave:function(e){t.delUUID=""}}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("b-icon",{attrs:{icon:"stickies"}})],1),a("div",{class:{del:3===e.task_status.category},staticStyle:{flex:"1","margin-left":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}},[t._v(" #"+t._s(e.number)+" "+t._s(e.summary)+" ")]),e.uuid===t.delUUID?a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 20px","margin-left":"5px"},on:{click:function(a){return t.delRelatedTask(e.uuid)}}},[a("svg",{staticClass:"icon",attrs:{t:"1619925824323",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"}},[a("path",{attrs:{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"}})])]):t._e()])])})),0)])]):a("div",{staticStyle:{padding:"3px 0"}},[t._v("暂无关联")])])])]},proxy:!0}])}),a("b-modal",{attrs:{size:"lg",title:"关联任务",id:"modal-related-task","no-close-on-backdrop":"","cancel-title":"取消","ok-title":"确定"},on:{ok:t.beLinkedTasks}},[a("div",{staticClass:"flex-column ck-content",staticStyle:{flex:"1","overflow-y":"auto","background-color":"#ffffff","min-height":"500px"}},[a("div",{staticStyle:{flex:"0 0 auto",padding:"0 10px"}},[a("b-form-group",{attrs:{id:"fieldset-1",description:"输入任务标题包含的关键字",label:"任务标题","label-for":"input-1"}},[a("b-form-input",{attrs:{autofocus:""},model:{value:t.summary,callback:function(e){t.summary=e},expression:"summary"}})],1)],1),a("div",{staticStyle:{flex:"1"}},[t.tasks&&t.tasks.length>0?a("div",{staticClass:"flex-row",staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0"}},[a("div",{staticStyle:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},[a("div",{staticStyle:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto"},attrs:{id:"task-list"}},t._l(t.tasks,(function(e){return a("div",{key:e.uuid,staticClass:"flex-row task-item"},[a("div",{staticClass:"flex-row",staticStyle:{"border-bottom":"1px solid #f8f8f8",flex:"1",padding:"10px 10px 10px 7px"}},[a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{flex:"0 0 auto"}},[t.exist(e.uuid)?a("input",{staticStyle:{width:"14px",height:"14px"},attrs:{type:"checkbox",disabled:"",checked:""}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.sel,expression:"t.sel"}],staticStyle:{width:"14px",height:"14px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.sel)?t._i(e.sel,null)>-1:e.sel},on:{change:function(a){var i=e.sel,s=a.target,r=!!s.checked;if(Array.isArray(i)){var n=null,o=t._i(i,n);s.checked?o<0&&t.$set(e,"sel",i.concat([n])):o>-1&&t.$set(e,"sel",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(e,"sel",r)}}})]),a("div",{staticClass:"flex-row",staticStyle:{flex:"0 0 auto","margin-left":"10px"}},[a("Priority",{attrs:{color:e.priority.color,name:e.priority.value,bgColor:e.priority.background_color}}),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px","background-color":"#efefef","border-radius":"4px!important",padding:"0 6px 0 6px",height:"20px"}},[t._v(t._s(e.assign.name))])],1),a("div",{staticStyle:{flex:"1","margin-left":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"}},[t._v(t._s(e.summary))]),a("div",{staticStyle:{flex:"0 0 auto"}},[a("Status",{attrs:{name:e.task_status.name,color:e.task_status.category.toString()}})],1)])])})),0)])]):t._e()])])])],1)},rn=[],nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{overflow:"hidden",flex:"1",padding:"20px","flex-direction":"row",height:"100%",display:"flex",width:"100%"}},[a("div",{staticClass:"right-container-inner ibox"},[a("div",{staticClass:"project-top-row"},[a("div",{staticStyle:{flex:"0 1 auto"}},[a("div",{staticClass:"tab-title"},t._l(t.tabTitle,(function(e,i){return a("div",{key:i,class:{active:t.cur==i},staticStyle:{flex:"0 0 auto","text-align":"center",cursor:"pointer",padding:"0 10px 10px 10px"},on:{click:function(e){return t.selectTab(i)}}},[t._v(t._s(e.format(t.comName)))])})),0)]),a("div",{staticStyle:{flex:"1"}})]),a("div",{staticClass:"project-new-row flex-row"},[a("AddTask",{attrs:{title:t.add_label,issue_type:t.issue_type}}),a("div",{staticStyle:{flex:"1",display:"inline-block"}}),a("div",{staticStyle:{flex:"0 0 auto","flex-direction":"column","align-items":"center",display:"flex"}},[a("div",{staticStyle:{width:"100%","text-align":"right",flex:"1","align-items":"center",display:"flex"}},[a("div",{staticStyle:{flex:"1",display:"inline-block"}},[a("Search",{attrs:{placeholder:t.search_label}})],1)])])],1),a("div",{staticClass:"h-flex"},[a("div",{staticClass:"t-line flex",staticStyle:{position:"relative","z-index":"0","-webkit-flex":"1",flex:"1"}},[t.tasks&&t.tasks.length>0?a("div",{staticClass:"flex-row",staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",width:"0"}},[a("div",{staticStyle:{overflow:"auto","-webkit-flex":"1",flex:"1",display:"flex",height:"100%"}},[a("div",{staticStyle:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto"},attrs:{id:"task-list"}},t._l(t.tasks,(function(e){return a("div",{key:e.uuid,staticClass:"flex-row task-item",class:{active:t.selectedUUID===e.uuid},on:{click:function(a){return t.select_task(e.uuid)}}},[a("div",{staticClass:"flex-row",staticStyle:{"border-bottom":"1px solid #f8f8f8",flex:"1",padding:"10px 10px 10px 7px"}},[a("div",{staticClass:"flex-row",staticStyle:{flex:"0 0 auto","margin-left":"10px"}},[a("Priority",{attrs:{color:e.priority.color,name:e.priority.value,bgColor:e.priority.background_color}}),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px","background-color":"#efefef","border-radius":"4px!important",padding:"0 6px 0 6px",height:"20px"}},[t._v(t._s(e.assign.name))])],1),a("div",{staticStyle:{flex:"1","margin-left":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"}},[t._v(t._s(e.summary))]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto","margin-right":"10px","margin-left":"5px","background-color":"rgb(239, 239, 239)","border-radius":"4px !important",padding:"0px 6px",height:"20px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("svg",{staticClass:"icon",attrs:{t:"1623897554814",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4488",width:"12",height:"12"}},[a("path",{attrs:{d:"M64 128a128 128 0 0 1 128-128h64a128 128 0 0 1 128 128v64a128 128 0 0 1-121.6 127.872V425.6h409.6a166.4 166.4 0 0 1 166.4 166.4v112.128A128 128 0 0 1 960 832v64a128 128 0 0 1-128 128h-64a128 128 0 0 1-128-128v-64a128 128 0 0 1 121.6-127.872V592a89.6 89.6 0 0 0-89.6-89.6H262.4v201.728A128 128 0 0 1 384 832v64a128 128 0 0 1-128 128H192a128 128 0 0 1-128-128v-64a128 128 0 0 1 121.6-127.872V319.872A128 128 0 0 1 64 192V128z m128-51.2a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2V128a51.2 51.2 0 0 0-51.2-51.2H192z m0 704a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2v-64a51.2 51.2 0 0 0-51.2-51.2H192z m576 0a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2v-64a51.2 51.2 0 0 0-51.2-51.2h-64z","p-id":"4489",fill:"#515151"}})])]),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px","font-size":"12px"}},[t._v(" "+t._s(e.related_task_count[0])+"/"+t._s(e.related_task_count[1])+" ")])]),a("div",{staticStyle:{flex:"0 0 auto"}},[a("Status",{attrs:{name:e.task_status.name,color:e.task_status.category.toString()}})],1)])])})),0)]),t.task_completed?a("Fields",{attrs:{task:t.task,issue_type:t.issue_type},scopedSlots:t._u([{key:"workField",fn:function(){return[t._t("workField")]},proxy:!0}],null,!0)}):t._e()],1):a("div",{staticClass:"flex",staticStyle:{"-webkit-flex":"1",flex:"1"}},[t.tasks_completed&&!t.has?a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{"-webkit-flex":"1",flex:"1"}},[t._v(" 暂无"+t._s(t.comName)+" ")]):t._e()])])])])])},on=[],ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fields",staticStyle:{overflow:"auto",flex:"0 0 500px",display:"flex",height:"100%","border-left":"5px solid #e8e8e8","flex-direction":"column","min-width":"500px"}},[a("div",{staticStyle:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto",padding:"20px"}},[a("div",{staticClass:"field-block"},[a("div",{staticClass:"flex-row",staticStyle:{width:"100%"}},[a("div",{staticStyle:{flex:"1"}},[t._v("#"+t._s(t.task.number))]),a("div",{staticClass:"three-dots-class flex-column align-items-center justify-content-center"},[a("b-icon",{attrs:{icon:"three-dots",scale:"1.7"}})],1)])]),a("div",{staticClass:"field-block"},[a("div",{staticClass:"flex-row",staticStyle:{width:"100%"}},[t.summaryEditing?a("div",{staticStyle:{flex:"1",height:"30px"}},[a("b-form-input",{attrs:{autofocus:""},on:{blur:t.updateSummary},model:{value:t.task.summary,callback:function(e){t.$set(t.task,"summary",e)},expression:"task.summary"}})],1):a("div",{staticClass:"summary",staticStyle:{height:"30px"},on:{click:t.editSummary}},[t._v(" "+t._s(t.task.summary)+" ")])])]),a("div",{staticClass:"field-block"},[a("div",{staticClass:"flex-row",staticStyle:{width:"100%",padding:"0 10px 10px 10px","justify-content":"space-between"}},[a("div",{staticStyle:{flex:"1","text-align":"center"}},[a("Assign",{attrs:{user:t.task.assign,project:t.task.project.uuid,task:t.task.uuid}})],1),a("div",{staticStyle:{flex:"1","text-align":"center"}},[a("TaskStatus",{attrs:{status:t.task.task_status,project:t.task.project.uuid,issue_type:t.task.issue_type.uuid,task_uuid:t.task.uuid}})],1),a("div",{staticStyle:{flex:"1","text-align":"center"}},[a("TaskPriority",{attrs:{project:t.task.project.uuid,priority:t.task.priority,task_uuid:t.task.uuid}})],1)])]),a("div",{staticClass:"field-block"},[a("div",{staticClass:"flex-row"},[a("div",{staticStyle:{flex:"1",padding:"0 5px 0 0"}},[t._v(" 描述（富文本编辑） ")]),a("div",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-issue-content",modifiers:{"modal-issue-content":!0}}],staticClass:"shadow-none",staticStyle:{padding:"0 5px 0 0",flex:"0 0 auto",cursor:"pointer",color:"#17C4BB"}},[t._v(" 放大浏览 ")])])]),a("b-modal",{attrs:{size:"xl",scrollable:"",title:t.task.summary,id:"modal-issue-content","no-close-on-backdrop":"","dialog-class":{edit:!t.isDisplay},"hide-footer":t.isDisplay,"cancel-title":"取消","ok-title":"确定"},on:{ok:t.updateDesc,cancel:t.cancelEdit,close:t.cancelEdit}},[t.isDisplay?a("div",{staticClass:"task-flex-auto",staticStyle:{padding:"20px","min-height":"500px",position:"relative"}},[a("div",{domProps:{innerHTML:t._s(t.task.desc)}}),a("div",{staticStyle:{position:"absolute",right:"20px",top:"0","line-height":"1.2",padding:"5px 10px","background-color":"#FFA500",color:"#ffffff",cursor:"pointer"},on:{click:t.editDesc}},[t._v("编辑")])]):a("div",{staticClass:"flex-column task-flex-auto",staticStyle:{height:"100%"}},[a("div",{staticClass:"task-flex-none",attrs:{id:"taskToolBar"}}),a("div",{staticClass:"flex-column task-flex-auto task-edit-editor",attrs:{id:"taskDescContainer"}},[a("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},on:{ready:t.onReady},model:{value:t.editDescModel,callback:function(e){t.editDescModel=e},expression:"editDescModel"}})],1)])]),a("div",{staticStyle:{border:"1px solid #e8e8e8",flex:"0 0 auto","margin-top":"5px","border-radius":"5px","overflow-y":"auto","overflow-x":"hidden",height:"180px",padding:"10px"},domProps:{innerHTML:t._s(t.task.desc)}}),t._t("workField"),a("div",{staticClass:"field-type-group option"},[t._l(t.task.field_values,(function(e){return a("div",{key:e.uuid,staticClass:"flex-row field-row"},[a("div",{staticClass:"field-cell"},[t._v(t._s(e.name))]),a("div",{ref:"permBody"+e.uuid,refInFor:!0,staticClass:"field-cell-value header edit",class:{active:t.visible&&t.selectField===e.uuid}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"},on:{click:function(a){return t.dropOptionValues(e.uuid)}}},[e.value?a("div",[t._v(t._s(e.value))]):e.number_value?a("div",[t._v(t._s(e.number_value))]):a("div",{staticClass:"none"},[t._v("未设置")])]),a("div",{staticClass:"edit ibox",class:{open:t.visible&&t.selectField===e.uuid},staticStyle:{position:"absolute"}},t._l(t.options,(function(i){return a("div",{key:i.uuid,staticClass:"option-item",on:{click:function(a){return t.updateOption(e.uuid,i.uuid)}}},[a("div",{staticStyle:{color:"#909090"}},[t._v(" "+t._s(i.value)+" ")])])})),0)])])})),a("div",{staticClass:"flex-row field-row"},[a("div",{staticClass:"field-cell"},[t._v("截止日期")]),a("div",{staticClass:"field-cell-time header edit"},[a("b-form-datepicker",t._b({attrs:{size:"sm","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},"no-flip":!0,"hide-header":!0,placeholder:"未设置"},on:{shown:t.onShown,context:t.onContext},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}},"b-form-datepicker",t.zh,!1))],1)])],2),a("div",{staticClass:"field-type-group-last option"},[a("div",{staticClass:"flex-row field-row"},[a("div",{staticClass:"field-cell"},[t._v("所属项目")]),a("div",{staticClass:"field-cell-value header"},[t._v(t._s(t.task.project.name))])]),a("div",{staticClass:"flex-row field-row"},[a("div",{staticClass:"field-cell"},[t._v("工作项类型")]),a("div",{staticClass:"field-cell-value header"},[t._v(t._s(t.task.issue_type.name))])]),a("div",{staticClass:"flex-row field-row"},[a("div",{staticClass:"field-cell"},[t._v("创建者")]),a("div",{staticClass:"field-cell-value header"},[a("User",{attrs:{user:t.task.owner}})],1)]),a("div",{staticClass:"flex-row field-row"},[a("div",{staticClass:"field-cell"},[t._v("创建时间")]),a("div",{staticClass:"field-cell-value header"},[t._v(t._s(t._f("formatDate")(t.task.create_time)))])]),a("div",{staticClass:"flex-row field-row"},[a("div",{staticClass:"field-cell"},[t._v("更新时间")]),a("div",{staticClass:"field-cell-value header"},[t._v(t._s(t._f("formatDate")(t.task.server_update_stamp/1e3)))])])])],2),a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto","border-top":"1px solid #e8e8e8",padding:"10px"}},[a("div",{staticClass:"watchers flex-row",staticStyle:{flex:"1"}},t._l(t.task.watchers,(function(t){return a("User",{key:t.uuid,attrs:{user:t,includeName:!1}})})),1),t.watched?a("div",{staticClass:"flex-row align-items-center watch",staticStyle:{flex:"0 0 auto",cursor:"pointer"},on:{click:t.watchers_cancel}},[a("div",{staticStyle:{flex:"0 0 auto",color:"inherit"}},[a("b-icon",{attrs:{icon:"eye-slash"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}},[t._v(" 取消关注 ")])]):a("div",{staticClass:"flex-row align-items-center watch",staticStyle:{flex:"0 0 auto",cursor:"pointer"},on:{click:t.watchers_add}},[a("div",{staticStyle:{flex:"0 0 auto",color:"inherit"}},[a("b-icon",{attrs:{icon:"eyeglasses"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}},[t._v(" 关注 ")])])])])},cn=[],dn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row assign align-items-center",attrs:{id:"popover-assign",hidefocus:"true",tabindex:"0"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("img",{staticStyle:{height:"30px",width:"30px","border-radius":"30px"},attrs:{src:t.user.avatar}})]),a("div",{staticClass:"flex-column",staticStyle:{flex:"0 0 auto","margin-left":"10px","align-items":"normal"}},[a("div",{staticStyle:{"text-align":"left",color:"#363636"}},[t._v(t._s(t.user.name))]),a("div",{staticStyle:{"text-align":"left",color:"#999999","font-size":"12px"}},[t._v("负责人")])]),a("b-popover",{ref:"popover",attrs:{target:"popover-assign",triggers:"focus",placement:"bottom"}},[a("div",{staticStyle:{padding:"5px"}},[a("Search",{attrs:{placeholder:"搜索工作项负责人"}})],1),a("div",{staticStyle:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},t._l(t.users,(function(e){return a("div",{key:e.uuid},[a("User",{staticClass:"status-item",attrs:{user:e,selected:e.uuid===t.user.uuid,hasEmail:!0},on:{submit:t.change_assign}})],1)})),0)])],1)},un=[],pn={data:function(){return{team:"",users:[]}},created:function(){var t=this;t.team=t.$route.params.team,t.users_list()},methods:{users_list:function(){var t=this;mt.post(t.urls.project_role_members.format(t.team,t.project)).then((function(e){t.users=e.data}))},change_assign:function(t){var e=this;if(e.user.uuid!==t){var a={uuid:t};mt.post(e.urls.task_change_assign.format(e.team,e.task),a).then((function(t){200===t.data.code&&(e.$refs.popover.$emit("close"),e.bus.$emit("alertSuccess","更新成功"),e.$parent.$parent.task_list())})).catch((function(t){e.$refs.popover.$emit("close"),e.bus.$emit("alertDanger",t.response.data.errcode)}))}}},props:{user:Object,project:String,task:String},components:{User:as,Search:Zi}},mn=pn,fn=(a("d4cd"),Object(T["a"])(mn,dn,un,!1,null,"6bd9d9e0",null)),vn=fn.exports,hn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row assign align-items-center",attrs:{id:"popover-status",hidefocus:"true",tabindex:"0"}},[a("div",{staticStyle:{flex:"0 0 28px",color:"#17C4BB"}},[a("b-icon",{attrs:{icon:"arrow-right-circle-fill",scale:"2"}})],1),a("div",{staticClass:"flex-column",staticStyle:{flex:"0 0 auto","margin-left":"10px","align-items":"normal"}},[a("div",{staticStyle:{"text-align":"left",color:"#363636"}},[t._v(t._s(t.status.name))]),a("div",{staticStyle:{"text-align":"left",color:"#999999","font-size":"12px"}},[t._v("当前状态")])]),a("b-popover",{ref:"popover",attrs:{target:"popover-status",triggers:"focus",placement:"bottom"}},[a("div",{staticStyle:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},[a("div",{staticClass:"b-line",staticStyle:{padding:"5px 10px","font-size":"15px"}},[t._v("选择步骤更改状态")]),t._l(t.statuses,(function(e){return a("div",{key:e.uuid},[a("div",{staticClass:"status-item",on:{click:function(a){return t.change_status(e.uuid)}}},[t._v(t._s(e.name))])])}))],2)])],1)},xn=[],gn={data:function(){return{team:"",statuses:[]}},props:{status:Object,project:String,issue_type:String,task_uuid:String},watch:{status:function(t,e){t.uuid!==e.uuid&&this.next_status_list()}},created:function(){var t=this;t.team=t.$route.params.team,t.next_status_list()},methods:{next_status_list:function(){var t=this;mt.post(t.urls.next_status_list.format(t.team,t.project,t.issue_type,t.status.uuid)).then((function(e){t.statuses=e.data}))},change_status:function(t){var e=this,a={status:t};mt.post(e.urls.task_change_status.format(e.team,e.task_uuid),a).then((function(t){200===t.data.code&&(e.$refs.popover.$emit("close"),e.bus.$emit("alertSuccess","更新成功"),e.$parent.$parent.task_list())})).catch((function(t){e.$refs.popover.$emit("close"),e.bus.$emit("alertDanger",t.response.data.errcode)}))}}},_n=gn,yn=(a("7ca4"),Object(T["a"])(_n,hn,xn,!1,null,"cc681096",null)),bn=yn.exports,Sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row assign align-items-center",attrs:{id:"popover-priority",hidefocus:"true",tabindex:"0"}},[a("div",{staticStyle:{flex:"0 0 28px",color:"#DAA520"}},[a("b-icon",{attrs:{icon:"star-fill",scale:"2"}})],1),a("div",{staticClass:"flex-column",staticStyle:{flex:"0 0 auto","margin-left":"10px","align-items":"normal"}},[a("div",{staticStyle:{"text-align":"left",color:"#363636"}},[t._v(t._s(t.priority.value))]),a("div",{staticStyle:{"text-align":"left",color:"#999999","font-size":"12px"}},[t._v("优先级")])]),a("b-popover",{ref:"popover",attrs:{target:"popover-priority",triggers:"focus",placement:"bottom"}},[a("div",{staticStyle:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},[a("div",{staticClass:"b-line",staticStyle:{padding:"5px 10px","font-size":"15px"}},[t._v("更改优先级")]),t._l(t.options,(function(e){return a("div",{key:e.uuid},[a("div",{staticClass:"status-item flex-row align-items-center",class:{selected:t.priority.uuid===e.uuid},on:{click:function(a){return t.change_priority(e.uuid)}}},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.value))]),t.priority.uuid===e.uuid?a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"1","min-width":"50px"}}),a("div",{staticStyle:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[a("b-icon",{attrs:{icon:"check",scale:"1.5"}})],1)]):t._e()])])}))],2)])],1)},wn=[],kn={data:function(){return{team:"",options:[]}},props:{project:String,priority:Object,task_uuid:String},created:function(){var t=this;t.team=t.$route.params.team,t.priority_options_get()},methods:{priority_options_get:function(){var t=this;mt.get(t.urls.priority_options_get.format(t.team)).then((function(e){t.options=e.data}))},change_priority:function(t){var e=this,a={priority:t};mt.post(e.urls.task_change_priority.format(e.team,e.task_uuid),a).then((function(t){200===t.data.code&&(e.$refs.popover.$emit("close"),e.bus.$emit("alertSuccess","更新成功"),e.$parent.$parent.task_list())})).catch((function(t){e.$refs.popover.$emit("close"),e.bus.$emit("alertDanger",t.response.data.errcode)}))}}},Cn=kn,jn=(a("a48d"),Object(T["a"])(Cn,Sn,wn,!1,null,"64eadd0c",null)),$n=jn.exports,zn=a("2996"),En=a.n(zn),Mn={data:function(){return{team:"",project:"",visible:!1,optionValue:"",options:[],selectField:"",deadline:"",zh:{weekdayHeaderFormat:"narrow",labelPrevDecade:"过去十年",labelPrevYear:"上一年",labelPrevMonth:"上个月",labelCurrentMonth:"当前月份",labelNextMonth:"下个月",labelNextYear:"明年",labelNextDecade:"下一个十年",labelToday:"今天",labelSelected:"选定日期",labelNoDateSelected:"未选择日期",labelCalendar:"日历",labelNav:"日历导航",labelHelp:"使用光标键浏览日期"},deadlineChanged:!1,summaryEditing:!1,editor:En.a,editorConfig:{toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:"",options:{resourceType:"Images"}}},isDisplay:!0,editDescModel:"",watched:!1}},props:{task:Object,issue_type:String},components:{User:Mi,Assign:vn,TaskStatus:bn,TaskPriority:$n},created:function(){var t=this;t.deadlineChanged=!1,t.team=t.$route.params.team,t.project=t.$route.params.project,t.editorConfig.ckfinder.uploadUrl=t.urls.upload.format(t.team),t.editDescModel=t.task.desc,t.formatDeadline(),t.checkWatcher()},watch:{task:function(t){var e=this;e.summaryEditing=!1,e.editDescModel=t.desc,e.formatDeadline(),e.checkWatcher()}},computed:{permBody:function(){var t=this;return"permBody"+t.selectField}},methods:{onReady:function(t){document.querySelector("#taskToolBar").appendChild(t.ui.view.toolbar.element),document.querySelector("#taskDescContainer").appendChild(t.ui.getEditableElement())},formatDeadline:function(){var t=this;if(!t.task.deadline)return t.deadline=null,null;t.deadline=new Date(t.task.deadline)},watchers_add:function(){var t=this;t.team=t.$route.params.team,mt.post(t.urls.watchers_update.format(t.team,t.project,t.task.uuid,"add")).then((function(e){200===e.data.code&&(t.bus.$emit("alertSuccess","更新成功"),t.$parent.task_get(t.task.uuid))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))},watchers_cancel:function(){var t=this;t.team=t.$route.params.team,mt.post(t.urls.watchers_update.format(t.team,t.project,t.task.uuid,"cancel")).then((function(e){200===e.data.code&&(t.bus.$emit("alertSuccess","更新成功"),t.$parent.task_get(t.task.uuid))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))},dropOptionValues:function(t){var e=this;e.options=[],e.selectField=t,e.visible=!0,document.addEventListener("click",e.hidePanel,!1),mt.get(e.urls.field_option_value_list.format(e.team,e.project,e.issue_type,t),{}).then((function(t){e.options=t.data}))},hide:function(){var t=this;t.visible=!1,document.removeEventListener("click",t.hidePanel,!1)},hidePanel:function(t){var e=this;e.$refs[e.permBody]&&e.$refs[e.permBody][0].contains(t.target)||e.hide()},updateOption:function(t,e){var a=this;a.visible=!1;var i={task:a.task.uuid,field:t,option:e};mt.post(a.urls.field_option_update.format(a.team,a.project,a.issue_type),i).then((function(t){200===t.data.code&&(a.bus.$emit("alertSuccess","更新成功"),a.$parent.task_get(a.task.uuid))})).catch((function(t){a.bus.$emit("alertDanger",t.response.data.errcode)}))},onShown:function(){var t=this;t.deadlineChanged=!0},onContext:function(t){var e=this;if(e.deadlineChanged&&t.selectedYMD){e.deadlineChanged=!1;var a=new Date(t.selectedYMD),i={deadline:a.getTime(),which_field:"deadline"};mt.post(e.urls.task_update.format(e.team,e.project,e.issue_type,e.task.uuid),i).then((function(t){200===t.data.code&&(e.bus.$emit("alertSuccess","更新成功"),e.$parent.task_get(e.task.uuid))})).catch((function(t){e.bus.$emit("alertDanger",t.response.data.errcode)}))}},editSummary:function(){var t=this;t.summaryEditing=!0},updateSummary:function(){var t=this;if(t.task.summary){t.summaryEditing=!1;var e={summary:t.task.summary,which_field:"summary"};mt.post(t.urls.task_update.format(t.team,t.project,t.issue_type,t.task.uuid),e).then((function(e){200===e.data.code&&(t.bus.$emit("alertSuccess","更新成功"),t.$parent.task_list(t.task.uuid))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))}},updateDesc:function(){var t=this;if(t.isDisplay=!0,t.task.desc){var e={desc:t.editDescModel,which_field:"desc"};mt.post(t.urls.task_update.format(t.team,t.project,t.issue_type,t.task.uuid),e).then((function(e){200===e.data.code&&(t.bus.$emit("alertSuccess","更新成功"),t.$parent.task_get(t.task.uuid))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))}},editDesc:function(){var t=this;t.isDisplay=!1},cancelEdit:function(){var t=this;t.isDisplay=!0},checkWatcher:function(){var t=this;t.watched=!1;var e=g();if(t.task.watchers)for(var a=0;a<t.task.watchers.length;a++)t.task.watchers[a].uuid===e&&(t.watched=!0)}}},Pn=Mn,Tn=(a("63ec"),Object(T["a"])(Pn,ln,cn,!1,null,"31e6aec4",null)),Dn=Tn.exports,In=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-add",attrs:{id:"AddTask"}},[a("div",{staticClass:"task-add-btn"},[a("AddTaskButton",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add-task",modifiers:{"modal-add-task":!0}}],attrs:{title:t.title,plus:!0}})],1),a("b-modal",{ref:"modal",attrs:{"no-enforce-focus":!0,size:"xl",id:"modal-add-task",scrollable:"",title:t.title,"no-close-on-backdrop":!0,"cancel-title":"取消","ok-title":"确定"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[a("form",{ref:"form",staticClass:"flex-column",staticStyle:{flex:"1",height:"100%"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticStyle:{flex:"0 0 auto",padding:"0 10px 0 10px"}},[a("b-form-group",{attrs:{label:"标题","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),a("div",{staticClass:"flex-row",staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{flex:"1",padding:"0 10px 0 10px"}},[a("b-form-group",{attrs:{label:"所在项目","label-for":"project-select"}},[a("b-form-select",{attrs:{id:"project-select",options:t.projects,required:""},model:{value:t.projectSelect,callback:function(e){t.projectSelect=e},expression:"projectSelect"}})],1)],1),a("div",{staticStyle:{flex:"1",padding:"0 10px 0 10px"}},[a("b-form-group",{attrs:{label:"工作项类型","label-for":"issue-type-select"}},[a("b-form-select",{attrs:{id:"issue-type-select",options:t.issue_types,required:""},model:{value:t.issueTypeSelect,callback:function(e){t.issueTypeSelect=e},expression:"issueTypeSelect"}})],1)],1)]),a("div",{staticClass:"flex-row",staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{flex:"1",padding:"0 10px 0 10px"}},[a("b-form-group",{attrs:{label:"负责人","label-for":"assign-select"}},[a("b-form-select",{attrs:{id:"assign-select",required:""},model:{value:t.assignSelect,callback:function(e){t.assignSelect=e},expression:"assignSelect"}},t._l(t.assigns,(function(t){return a("b-form-select-option",{key:t.uuid,attrs:{value:t.uuid}},[a("User",{attrs:{user:t,hasEmail:!0}})],1)})),1)],1)],1),a("div",{staticStyle:{flex:"1",padding:"0 10px 0 10px"}},[a("b-form-group",{attrs:{label:"优先级","label-for":"priority-select"}},[a("b-form-select",{attrs:{id:"priority-select",options:t.priorities,required:""},model:{value:t.prioritySelect,callback:function(e){t.prioritySelect=e},expression:"prioritySelect"}})],1)],1)]),a("div",{staticStyle:{flex:"0 0 auto",padding:"0 10px 7px 10px"}},[t._v(" 描述（富文本编辑） ")]),a("div",{staticClass:"flex-column",staticStyle:{margin:"0 10px",flex:"1","min-height":"0",border:"1px solid #ced4da","border-radius":"0.25rem"}},[a("div",{attrs:{id:"addTaskToolBar"}}),a("div",{staticClass:"flex-column task-flex-auto task-add-editor",attrs:{id:"addTaskContainer"}},[a("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},on:{ready:t.onReady},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)])])])],1)},On=[],Bn={data:function(){return{name:"",desc:"",team:"",project:"",com:"",projectSelect:"",issueTypeSelect:"",assignSelect:"",prioritySelect:"",projects:[],issue_types:[],assigns:[],priorities:[],editor:En.a,editorConfig:{toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:"",options:{resourceType:"Images"}}}}},props:{title:String,issue_type:String},watch:{projectSelect:function(t){var e=this;e.users_list(t),e.issue_type_list(t),e.priority_list()}},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.com=t.$route.params.com,t.editorConfig.ckfinder.uploadUrl=t.urls.upload.format(t.team)},mounted:function(){var t=this;t.$root.$on("bv::modal::show",(function(e,a){"modal-add-task"===a&&t.project_list()}))},methods:{onReady:function(t){document.querySelector("#addTaskToolBar").appendChild(t.ui.view.toolbar.element),document.querySelector("#addTaskContainer").appendChild(t.ui.getEditableElement())},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return t},resetModal:function(){},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;this.checkFormValidity()&&(this.add(),this.$nextTick((function(){t.$bvModal.hide("modal-add-task")})))},add:function(){var t=this,e={summary:t.name,desc:t.desc,priority:t.prioritySelect,assign:t.assignSelect,project:t.projectSelect,issue_type:t.issueTypeSelect};mt.post(t.urls.task_add.format(t.team,t.project,t.issueTypeSelect),e).then((function(e){t.$parent.task_list(e.data.uuid)}))},users_list:function(t){var e=this;mt.post(e.urls.project_role_members.format(e.team,t)).then((function(t){e.assigns=t.data,e.assignSelect=e.assigns[0].uuid}))},project_list:function(){var t=this,e=t.urls.team_project_list.format(t.team),a={category:2,name:""};mt.post(e,a).then((function(e){var a=e.data;if(a&&a.length>0){for(var i=0;i<a.length;i++)a[i].uuid===t.project&&(t.projectSelect=t.project),t.projects.push({value:a[i].uuid,text:a[i].name});t.projectSelect||(t.projectSelect=t.projects[0].value)}}))},issue_type_list:function(t){var e=this;mt.get(this.urls.project_template.format(e.team,t)).then((function(t){var a=t.data;if(a&&a.length>0){for(var i=0;i<a.length;i++)a[i].uuid===e.issue_type&&(e.issueTypeSelect=e.issue_type),e.issue_types.push({value:a[i].uuid,text:a[i].name});e.issueTypeSelect||(e.issueTypeSelect=e.issue_types[0].value)}}))},priority_list:function(){var t=this;mt.post(this.urls.issue_type_priority.format(t.team)).then((function(e){var a=e.data.options;if(a&&a.length>0)for(var i=0;i<a.length;i++)a[i].default_selected&&(t.prioritySelect=a[i].uuid),t.priorities.push({value:a[i].uuid,text:a[i].value})}))}},components:{AddTaskButton:xe,User:as}},Hn=Bn,An=(a("d0f4"),Object(T["a"])(Hn,In,On,!1,null,"d89bd236",null)),Un=An.exports,Ln={data:function(){return{cur:0,team:"",project:"",com:"",tabTitle:["全部{0}","未开始","进行中","已完成"],task:{},tasks:[],selectedUUID:"",task_completed:!1,tasks_completed:!1,owner:"",assign:""}},props:{comName:String,issue_type:String},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.com=t.$route.params.com,t.task_list()},methods:{task_list:function(t,e){var a=this,i=a.urls.task_list.format(a.team,a.project,a.issue_type),s={category:a.cur,owner:a.owner,assign:a.assign};mt.post(i,s).then((function(i){a.tasks=i.data,a.tasks_completed=!0,a.tasks&&a.tasks.length>0&&(t||(t=e?a.tasks[0].uuid:"Task"===a.$route.name?a.$route.params.task:a.tasks[0].uuid),a.select_task(t))}))},select_task:function(t){var e=this;t!==e.selectedUUID&&(e.selectedUUID=t),"Task"===e.$route.name&&e.$route.params.task===t||Qm.push({name:"Task",params:{team:e.team,project:e.project,com:e.com,task:t}}),e.task_get(t)},task_get:function(t){var e=this,a=e.urls.task_get.format(e.team,t);mt.get(a).then((function(t){e.task=t.data,e.task_completed=!0}))},selectTab:function(t){var e=this;e.cur=t,e.task_list(null,!0)}},computed:{add_label:function(){var t=this;return"新增{0}".format(t.comName)},search_label:function(){var t=this;return"搜索{0}".format(t.comName)},has:function(){var t=this;return t.task_completed&&t.tasks&&t.tasks.length>0}},components:{Search:Zi,Priority:gi,Status:ki,Fields:Dn,AddTask:Un}},Nn=Ln,qn=(a("21cd"),Object(T["a"])(Nn,nn,on,!1,null,"584cedd0",null)),Vn=qn.exports,Fn={data:function(){return{team:"",project:"",summary:"",task:"",tasks:[],linkedTasks:[],addingTasks:[],delUUID:""}},props:{comName:String,issue_type:String},watch:{$route:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.task=t.$route.params.task,t.linked_task_list()}},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.task=t.$route.params.task,t.linked_task_list()},mounted:function(){var t=this;t.$root.$on("bv::modal::show",(function(e,a){"modal-related-task"===a&&t.task_list("任务")}))},methods:{task_list:function(t){var e=this,a=e.urls.link_tasks.format(e.team,e.project);mt.post(a,{issueType_name:t,summary:e.summary}).then((function(t){e.tasks=t.data}))},linked_task_list:function(){var t=this,e=t.urls.linked_tasks.format(t.team,t.task);mt.get(e).then((function(e){t.linkedTasks=e.data}))},exist:function(t){var e=this;if(e.linkedTasks)for(var a=0;a<e.linkedTasks.length;a++)if(e.linkedTasks[a].uuid===t)return!0;return!1},beLinkedTasks:function(){var t=this;if(t.tasks)for(var e=0;e<t.tasks.length;e++){var a=t.tasks[e];if(a.sel){var i={uuid:a.uuid,issue_type:a.issue_type.uuid};t.addingTasks.push(i)}}var s=t.addingTasks;mt.post(t.urls.linked_tasks_add.format(t.team,t.task),s).then((function(e){200===e.data.code&&(t.linked_task_list(),t.$refs.com.task_list(t.task),t.bus.$emit("alertSuccess","更新成功"))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))},delRelatedTask:function(t){var e=this;mt.post(e.urls.linked_tasks_del.format(e.team,e.task,t)).then((function(t){200===t.data.code&&(e.linked_task_list(),e.$refs.com.task_list(e.task),e.bus.$emit("alertSuccess","更新成功"))})).catch((function(t){e.bus.$emit("alertDanger",t.response.data.errcode)}))}},components:{Com00000:Vn,Priority:gi,Status:ki}},Gn=Fn,Rn=(a("e8d9"),Object(T["a"])(Gn,sn,rn,!1,null,"3f6a4394",null)),Wn=Rn.exports,Yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1 0 auto",display:"flex",height:"100%",width:"100%"}},[a("Com00000",{attrs:{comName:t.comName,issue_type:t.issue_type},scopedSlots:t._u([{key:"workField",fn:function(){},proxy:!0}])})],1)},Jn=[],Zn={data:function(){return{}},props:{comName:String,issue_type:String},components:{Com00000:Vn}},Kn=Zn,Qn=Object(T["a"])(Kn,Yn,Jn,!1,null,null,null),Xn=Qn.exports,to=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1 0 auto",display:"flex",height:"100%",width:"100%"}},[a("Com00000",{attrs:{comName:t.comName,issue_type:t.issue_type},scopedSlots:t._u([{key:"workField",fn:function(){return[a("div",{staticClass:"field-type-group option"},[a("div",{staticClass:"flex-row field-row"},[a("div",{staticClass:"field-cell"},[t._v("关联需求")])]),a("div",{staticClass:"flex-row field-row"},[t.linkedTasks&&t.linkedTasks.length>0?a("div",{staticClass:"flex-row",staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0"}},[a("div",{staticStyle:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},[a("div",{staticStyle:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto"},attrs:{id:"linked-task-list"}},t._l(t.linkedTasks,(function(e){return a("div",{key:e.uuid,staticClass:"flex-row task-item align-items-center"},[a("div",{staticClass:"flex-row",staticStyle:{flex:"1",padding:"5px 0 5px 5px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("b-icon",{attrs:{icon:"folder2"}})],1),a("div",{class:{del:3===e.task_status.category},staticStyle:{flex:"1","margin-left":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}},[t._v(" #"+t._s(e.number)+" "+t._s(e.summary)+" ")])])])})),0)])]):a("div",{staticStyle:{padding:"3px 0"}},[t._v("暂无关联")])])])]},proxy:!0}])})],1)},eo=[],ao={data:function(){return{team:"",project:"",task:"",tasks:[],linkedTasks:[]}},props:{comName:String,issue_type:String},watch:{$route:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.task=t.$route.params.task,t.linked_task_list()}},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.task=t.$route.params.task,t.linked_task_list()},methods:{linked_task_list:function(){var t=this,e=t.urls.linked_source_tasks.format(t.team,t.task);mt.get(e).then((function(e){t.linkedTasks=e.data}))}},components:{Com00000:Vn}},io=ao,so=(a("313d"),Object(T["a"])(io,to,eo,!1,null,"05973468",null)),ro=so.exports,no=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox flex-column"},[a("div",{staticClass:"b-line",staticStyle:{flex:"0 0 auto","font-size":"18px",padding:"20px 0 10px 20px"}},[t._v("成员")]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto",margin:"10px 20px"}},[a("div",{staticStyle:{flex:"0 0 300px"}},[a("Search",{attrs:{placeholder:"搜索成员"}})],1),a("div",{staticStyle:{flex:"1","text-align":"right",display:"flex"}},[a("AddMember",{attrs:{role:t.selectedRole,curMember:t.items}})],1)]),a("div",{staticClass:"flex-row members t-line i-table",staticStyle:{flex:"1"}},[a("div",{staticClass:"r-line",staticStyle:{flex:"0 0 200px"}},t._l(t.roles,(function(e){return a("div",{key:e.uuid,staticClass:"role active",class:{active:e.uuid===t.selectedRole}},[t._v(" "+t._s(e.name)+" ")])})),0),a("div",{staticStyle:{flex:"1",margin:"-1px -1px 0 -1px"}},[a("b-table",{attrs:{fields:t.fields,items:t.items,outlined:"","table-class":"bbox"},scopedSlots:t._u([{key:"table-colgroup",fn:function(e){return t._l(e.fields,(function(t){return a("col",{key:t.key,style:{width:t.w?t.w:"*"}})}))}},{key:"cell(user)",fn:function(t){return[a("User",{attrs:{user:t.item}})]}},{key:"cell(role)",fn:function(){return[a("div",[t._v("无")])]},proxy:!0},{key:"cell(op)",fn:function(){return[a("div",[a("b-icon",{attrs:{icon:"x",scale:"1.8"}})],1)]},proxy:!0}])})],1)])])},oo=[],lo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","text-align":"right"}},[a("AddProjectButton",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add-member",modifiers:{"modal-add-member":!0}}],attrs:{title:"添加成员"}}),a("b-modal",{ref:"addMember",attrs:{size:"lg",id:"modal-add-member",title:"邀请新用户","no-close-on-backdrop":!0,"cancel-title":"取消","ok-title":"确定",centered:!0},on:{ok:t.addMember}},[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1",height:"100%"}},[a("div",{staticStyle:{flex:"1",display:"flex"}},[t._v(" 选择成员加入到角色： 项目成员 ")]),a("div",{staticStyle:{flex:"0 0 300px"}},[a("Search",{attrs:{placeholder:"输入用户名，邮箱"}})],1)])]),a("div",{staticClass:"table",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{flex:"0 0 30px","margin-left":"10px"}},[a("input",{staticStyle:{width:"18px",height:"18px"},attrs:{type:"checkbox"}})]),a("div",{staticClass:"th"},[t._v("用户名")]),a("div",{staticClass:"th"},[t._v("邮箱")]),a("div",{staticClass:"th"},[t._v("所属部门")]),a("div",{staticClass:"th"},[t._v("用户组")])]),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{flex:"0 0 30px","margin-left":"10px"}},[t.exist(e.uuid)?a("input",{staticStyle:{width:"18px",height:"18px"},attrs:{type:"checkbox",disabled:"",checked:""}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.sel,expression:"item.sel"}],staticStyle:{width:"18px",height:"18px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.sel)?t._i(e.sel,null)>-1:e.sel},on:{change:function(a){var i=e.sel,s=a.target,r=!!s.checked;if(Array.isArray(i)){var n=null,o=t._i(i,n);s.checked?o<0&&t.$set(e,"sel",i.concat([n])):o>-1&&t.$set(e,"sel",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(e,"sel",r)}}})]),a("div",{staticClass:"td"},[a("User",{attrs:{user:e}})],1),a("div",{staticClass:"td"},[t._v(t._s(e.email))]),a("div",{staticClass:"td"},[t._v("无")]),a("div",{staticClass:"td"},[t._v(" 无 ")])])}))],2)])],1)},co=[],uo={data:function(){return{team:"",project:"",name:"",items:[],members:[]}},props:{curMember:Array,role:String},components:{AddProjectButton:xe,Search:Zi,User:as},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.get_team_members()},methods:{addMember:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;this.add_member(),this.$nextTick((function(){t.$bvModal.hide("modal-add-member")}))},get_team_members:function(){var t=this;mt.get(t.urls.team_member_list.format(t.team)).then((function(e){if(t.items=e.data,t.items)for(var a=0;a<t.items.length;a++)t.items[a].sel=!1}))},add_member:function(){var t=this;if(t.items)for(var e=0;e<t.items.length;e++){var a=t.items[e];a.sel&&t.members.push(a.uuid)}var i={members:t.members,role_uuid:t.role};mt.post(t.urls.project_member_add.format(t.team,t.project),i).then((function(e){200===e.data.code&&t.$parent.get_role_members()}))},exist:function(t){var e=this;if(e.curMember)for(var a=0;a<e.curMember.length;a++)if(e.curMember[a].uuid===t)return!0;return!1}},computed:{}},po=uo,mo=Object(T["a"])(po,lo,co,!1,null,null,null),fo=mo.exports,vo={data:function(){return{team:"",project:"",items:[],roles:[],fields:[{key:"user",label:"用户名"},{key:"email",label:"邮箱"},{key:"role",label:"角色"},{key:"op",label:"操作",w:"80px"}],selectedRole:""}},components:{Search:Zi,AddMember:fo,User:Mi},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.get_role_members()},methods:{get_role_members:function(){var t=this;t.roles=[],mt.post(t.urls.project_role_members.format(t.team,t.project)).then((function(e){t.items=e.data;for(var a=[],i=0;i<t.items.length;i++){for(var s=!1,r=t.items[i],n=0;n<a.length;n++)if(a[n]===r.role_uuid){s=!0;break}if(!s){var o={uuid:r.role_uuid,name:r.role_name};t.roles.push(o)}a.push(r.role_uuid)}t.roles.length>0&&(t.selectedRole=t.roles[0].uuid)}))}}},ho=vo,xo=(a("06cb"),Object(T["a"])(ho,no,oo,!1,null,"66793d4e",null)),go=xo.exports,_o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox flex-column"},[a("div",{staticClass:"b-line",staticStyle:{flex:"0 0 auto","font-size":"18px",padding:"20px 0 10px 20px"}},[t._v("报表")]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto",margin:"10px 20px"}},[a("div",{staticStyle:{flex:"0 0 300px","text-align":"right",display:"flex"}},[a("Search",{attrs:{placeholder:"搜索报表"}})],1)]),a("div",{staticClass:"flex-row report t-line",staticStyle:{flex:"1"}},[t._m(0),a("div",{staticClass:"flex-column",staticStyle:{flex:"1",margin:"10px 20px"}},[a("div",{staticClass:"report-item report-title"},[t._v("常用报表")]),a("div",{staticClass:"report-item flex-row"},[a("div",{staticStyle:{flex:"0 0 auto",color:"#CD950C"}},[a("b-icon",{attrs:{icon:"bar-chart-line",scale:"1.2"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"15px"}},[t._v(" 需求状态分布 ")])]),a("div",{staticClass:"report-item flex-row"},[a("div",{staticStyle:{flex:"0 0 auto",color:"#A020F0"}},[a("b-icon",{attrs:{icon:"bar-chart-line",scale:"1.2"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"15px"}},[t._v(" 缺陷状态分布 ")])]),a("div",{staticClass:"report-item flex-row"},[a("div",{staticStyle:{flex:"0 0 auto",color:"#CD1076"}},[a("b-icon",{attrs:{icon:"bar-chart-line",scale:"1.2"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"15px"}},[t._v(" 任务状态分布 ")])]),a("div",{staticClass:"report-item flex-row"},[a("div",{staticStyle:{flex:"0 0 auto",color:"#1e7e34"}},[a("b-icon",{attrs:{icon:"bar-chart-line",scale:"1.2"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"15px"}},[t._v(" 每日工时日志报表 ")])])])])])},yo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"r-line",staticStyle:{flex:"0 0 200px"}},[a("div",{staticClass:"report-menu active"},[t._v(" 常用报表 ")]),a("div",{staticClass:"report-menu"},[t._v(" 需求分析 ")]),a("div",{staticClass:"report-menu"},[t._v(" 缺陷分析 ")]),a("div",{staticClass:"report-menu"},[t._v(" 任务分析 ")]),a("div",{staticClass:"report-menu"},[t._v(" 工时报表 ")])])}],bo={data:function(){return{name:"",nameState:null,submittedNames:[]}},methods:{},components:{Search:Zi}},So=bo,wo=(a("6ad2"),Object(T["a"])(So,_o,yo,!1,null,"53872830",null)),ko=wo.exports,Co=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview",staticStyle:{overflow:"auto",flex:"1 0 auto",padding:"20px",width:"100%",position:"relative"}},[a("div",{staticClass:"flex-row",staticStyle:{"border-radius":"3px",flex:"1"}},[a("div",{staticClass:"left flex-row align-items-center"},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{"font-size":"18px"}},[t._v("项目进度")]),a("div",{staticClass:"project-overview-progress align-items-center justify-content-center task-flex-auto"},[a("b-progress",{attrs:{value:t.progressRate,variant:"warning",height:"2rem",striped:"",animate:""}},[a("b-progress-bar",{attrs:{value:t.progressRate,label:(t.progressRate/100*100).toFixed(0)+"%"}})],1)],1),a("div",{staticStyle:{flex:"0 0 auto"}},[a("ChangeStatus",{staticStyle:{"margin-left":"5px"},attrs:{name:t.item.status_uuid,color:t.item.status_uuid,team:t.team,project:t.project}})],1)])])]),a("div",{staticClass:"task-stat ibox flex-row"},[a("div",{staticClass:"task-stat-item"},[a("div",{staticClass:"flex-column"},[a("div",{staticClass:"task-stat-icon"},[a("svg",{staticClass:"icon",attrs:{t:"1602158573955",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27927",width:"30",height:"30"}},[a("path",{attrs:{d:"M512.718 1.549C230.377 1.549 1.494 230.432 1.494 512.774S230.377 1024 512.718 1024s511.224-228.884 511.224-511.226S795.06 1.55 512.718 1.55z m0 971.325c-254.108 0-460.102-205.996-460.102-460.102S258.61 52.67 512.718 52.67 972.82 258.665 972.82 512.772 766.826 972.874 512.718 972.874z m232.06-496.332c-79.556-54.133-223.815-135.157-305.959-185.36-33.678-21.239-61.996-12.71-64.717 24.8-1.971 100.468 0 294.317 0 396.523 1.711 38.08 35.282 43.102 64.419 27.812 82.05-49.71 223.071-135.147 305.536-185.11-0.54-0.327 62.614-35.06 0.72-78.665z","p-id":"27928",fill:"#1296db"}})])]),a("div",{staticClass:"task-stat-body flex-column align-items-center"},[a("div",{staticClass:"task-stat-count"},[t._v(t._s(t.item.to_do_count))]),a("div",{staticClass:"task-stat-text"},[t._v("未开始")])])])]),a("div",{staticClass:"task-stat-item"},[a("div",{staticClass:"flex-column"},[a("div",{staticClass:"task-stat-icon"},[a("svg",{staticClass:"icon",attrs:{t:"1602158832799",viewBox:"0 0 1098 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29074",width:"30",height:"30"}},[a("path",{attrs:{d:"M549.47 851.316c-38.634 0-69.82-31.185-69.82-69.818V184.32c0-38.633 31.186-69.818 69.82-69.818s69.817 31.185 69.817 69.818v596.945c0 38.633-31.185 70.051-69.818 70.051z m239.708-186.181c-38.633 0-69.818-31.186-69.818-69.819V370.27c0-38.633 31.185-69.818 69.818-69.818s69.818 31.185 69.818 69.818v225.047c0 38.633-31.185 69.819-69.818 69.819z m239.942-31.884c-38.633 0-69.818-31.186-69.818-69.818V402.385c0-38.632 31.185-69.818 69.818-69.818s69.818 31.186 69.818 69.818v161.048c0 38.632-31.185 69.818-69.818 69.818z m-719.36 31.884c-38.633 0-69.818-31.186-69.818-69.819V370.27c0-38.633 31.185-69.818 69.818-69.818s69.818 31.185 69.818 69.818v225.047c0 38.633-31.418 69.819-69.818 69.819zM69.818 633.25C31.185 633.25 0 602.065 0 563.433V402.385c0-38.632 31.185-69.818 69.818-69.818s69.818 31.186 69.818 69.818v161.048c0 38.632-31.185 69.818-69.818 69.818z","p-id":"29075",fill:"#d4237a"}})])]),a("div",{staticClass:"task-stat-body flex-column align-items-center"},[a("div",{staticClass:"task-stat-count"},[t._v(t._s(t.item.in_progress_count))]),a("div",{staticClass:"task-stat-text"},[t._v("进行中")])])])]),a("div",{staticClass:"task-stat-item"},[a("div",{staticClass:"flex-column"},[a("div",{staticClass:"task-stat-icon"},[a("svg",{staticClass:"icon",attrs:{t:"1602158959005",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"30986",width:"30",height:"30"}},[a("path",{attrs:{d:"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m273.066667 388.266667l-298.666667 298.666666c-21.333333 21.333333-59.733333 21.333333-81.066667 0l-170.666666-166.4c-21.333333-21.333333-21.333333-59.733333 0-81.066666s59.733333-21.333333 81.066666 0l123.733334 123.733333 260.266666-256c21.333333-21.333333 59.733333-21.333333 81.066667 0 29.866667 21.333333 29.866667 64 4.266667 81.066667z",fill:"#3FC591","p-id":"30987"}})])]),a("div",{staticClass:"task-stat-body flex-column align-items-center"},[a("div",{staticClass:"task-stat-count"},[t._v(t._s(t.item.done_count))]),a("div",{staticClass:"task-stat-text"},[t._v("已完成")])])])])]),a("div",{staticClass:"flex-row project-overview"},[a("div",{staticClass:"project-overview-info ibox"},[a("div",{staticStyle:{"font-size":"16px"}},[t._v(" 项目简介： ")]),t._m(0),a("div",{staticClass:"project-overview-time flex-row"},[a("div",{staticStyle:{flex:"1"}},[a("ProjectAssign",{attrs:{user:t.item.assign}})],1),a("div",{staticStyle:{flex:"1",padding:"5px"}},[a("div",{staticStyle:{"padding-left":"7px"}},[t._v("开始时间")]),a("div",{staticClass:"field-cell-time header edit"},[a("b-form-datepicker",t._b({attrs:{size:"sm","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},"no-flip":!0,"hide-header":!0,placeholder:"未设置"},on:{shown:t.onShownStart,context:t.onContextStart},model:{value:t.planStartTime,callback:function(e){t.planStartTime=e},expression:"planStartTime"}},"b-form-datepicker",t.zh,!1))],1)]),a("div",{staticStyle:{flex:"1",padding:"5px"}},[a("div",{staticStyle:{"padding-left":"7px"}},[t._v("结束时间")]),a("div",{staticClass:"field-cell-time header edit"},[a("b-form-datepicker",t._b({attrs:{size:"sm","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},"no-flip":!0,"hide-header":!0,placeholder:"未设置"},on:{shown:t.onShownEnd,context:t.onContextEnd},model:{value:t.planEndTime,callback:function(e){t.planEndTime=e},expression:"planEndTime"}},"b-form-datepicker",t.zh,!1))],1)])]),a("div",{staticClass:"project-overview-member"},[a("div",{staticStyle:{"font-size":"16px"}},[t._v("项目成员：")]),a("div",{staticClass:"flex-row",staticStyle:{padding:"5px 0 0 0"}},t._l(t.pics,(function(t){return a("Avatar",{key:t.uuid,attrs:{pic:t.path}})})),1)])]),a("div",{staticClass:"project-overview-issue-stat ibox"},[a("div",{staticStyle:{"font-size":"16px"}},[t._v("工作项类型统计")]),a("div",{staticStyle:{flex:"1","margin-top":"30px"}},[a("bar",{attrs:{chartData:t.chartData,options:t.options,height:t.canvasHeight}})],1)])])])},jo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{color:"#98a6ad","padding-top":"10px"}},[t._v(" Jitask 是一款精简、多租户的项目管理软件，提供任务管理、文档管理两大板块，内置权限管理，项目报表，项目配置，需求任务关联等功能，目前仅支持saas部署。我们的追求：小而精，不做多余功能的。使命：用好系统，少用系统，不粘滞用户。 "),a("br"),a("br"),t._v(" 系统使用 Golang + Vue 2.x + bootstrap-vue 开发，由 Jimmy 独自开发，用时近两年，为脱产期间和闲暇时间开发，数据库使用 Mysql 8.x，Redis 5.x。使用阿里云 docker-compose 公有部署。 "),a("br"),a("br"),t._v(" 欢迎你们体验，您的宝贵意见是我成长的指南。 ")])}],$o=(a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row",staticStyle:{flex:"0"}},[a("div",{staticClass:"flex-row assign align-items-center",staticStyle:{padding:"5px 20px 5px 5px",flex:"0 0 auto"},attrs:{id:"popover-assign",hidefocus:"true",tabindex:"0"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("img",{staticStyle:{height:"30px",width:"30px","border-radius":"30px"},attrs:{src:t.user.avatar}})]),a("div",{staticClass:"flex-column",staticStyle:{flex:"0 0 auto","margin-left":"10px","align-items":"normal"}},[a("div",{staticStyle:{"text-align":"left",color:"#363636"}},[t._v(t._s(t.user.name))]),a("div",{staticStyle:{"text-align":"left",color:"#999999","font-size":"12px"}},[t._v("项目负责人")])])]),a("div",{staticStyle:{flex:"1"}}),a("b-popover",{ref:"popover",attrs:{target:"popover-assign",triggers:"focus",placement:"bottom"}},[a("div",{staticStyle:{padding:"5px"}},[a("Search",{attrs:{placeholder:"搜索项目负责人"}})],1),a("div",{staticStyle:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},t._l(t.users,(function(e){return a("div",{key:e.uuid},[a("User",{staticClass:"status-item",attrs:{user:e,selected:e.uuid===t.user.uuid,hasEmail:!0},on:{submit:t.change_assign}})],1)})),0)])],1)}),zo=[],Eo={data:function(){return{users:[]}},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.users_list()},methods:{users_list:function(){var t=this;mt.post(t.urls.project_role_members.format(t.team,t.project)).then((function(e){t.users=e.data}))},change_assign:function(t){var e=this,a={uuid:t};mt.post(e.urls.project_change_assign.format(e.team,e.project),a).then((function(t){200===t.data.code&&(e.$refs.popover.$emit("close"),e.bus.$emit("alertSuccess","更新成功"),e.$parent.project_get(e.project))})).catch((function(t){e.$refs.popover.$emit("close"),e.bus.$emit("alertDanger",t.response.data.errcode)}))}},props:{user:Object,task:String},components:{User:as,Search:Zi}},Mo=Eo,Po=(a("a00e"),Object(T["a"])(Mo,$o,zo,!1,null,"432fcd20",null)),To=Po.exports,Do=Va["c"].reactiveProp,Io={extends:Va["a"],mixins:[Do],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}},Oo=Io,Bo=Object(T["a"])(Oo,V,F,!1,null,null,null),Ho=Bo.exports,Ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}},[a("div",{staticClass:"status",class:t.curColor,attrs:{id:"popover-project-status",hidefocus:"true",tabindex:"0"}},[t._v(" "+t._s(t.curName)+" "),a("b-icon",{attrs:{icon:"chevron-expand"}})],1),a("b-popover",{ref:"popover",attrs:{target:"popover-project-status",triggers:"focus",placement:"bottom"}},[a("div",{staticStyle:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},[a("div",{staticClass:"b-line",staticStyle:{padding:"5px 10px","font-size":"15px"}},[t._v("更改项目状态")]),t._l(t.statuses,(function(e){return a("div",{key:e.uuid},[a("div",{staticClass:"status-item flex-row align-items-center",class:{selected:t.curColor===e.uuid},on:{click:function(a){return t.change_status(e.uuid)}}},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.name))]),t.curColor===e.uuid?a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"1","min-width":"50px"}}),a("div",{staticStyle:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[a("b-icon",{attrs:{icon:"check",scale:"1.5"}})],1)]):t._e()])])}))],2)])],1)},Uo=[],Lo={data:function(){return{statuses:[{uuid:"to_do",name:"未开始"},{uuid:"in_progress",name:"进行中"},{uuid:"done",name:"已完成"}]}},props:{team:String,project:String,name:String,color:String},methods:{change_status:function(t){var e=this,a={category:t};mt.post(e.urls.project_change_status.format(e.team,e.project),a).then((function(t){200===t.data.code&&(e.$refs.popover.$emit("close"),e.bus.$emit("alertSuccess","更新成功"),e.$parent.project_get())})).catch((function(t){e.$refs.popover.$emit("close"),e.bus.$emit("alertDanger",t.response.data.errcode)}))}},computed:{curName:function(){var t=this,e=t.name;switch(t.name){case"1":case"to_do":e="未开始";break;case"2":case"in_progress":e="进行中";break;case"3":case"done":e="已完成";break}return e},curColor:function(){var t=this,e=t.color;switch(t.color){case"1":e="to_do";break;case"2":e="in_progress";break;case"3":e="done";break}return e}}},No=Lo,qo=(a("36a4"),Object(T["a"])(No,Ao,Uo,!1,null,"ef29dc74",null)),Vo=qo.exports,Fo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-right":"5px"}},[a("div",{staticClass:"flex-row align-items-center justify-content-center",staticStyle:{flex:"0 0 40px",border:"1px solid #e8e8e8","border-radius":"40px",height:"40px",width:"40px"}},[a("img",{staticStyle:{height:"30px",width:"30px","border-radius":"30px"},attrs:{src:t.pic}})])])},Go=[],Ro={data:function(){return{}},props:["pic"]},Wo=Ro,Yo=Object(T["a"])(Wo,Fo,Go,!1,null,null,null),Jo=Yo.exports,Zo={data:function(){return{team:"",project:"",projectName:"",item:{assign:{}},pics:[{uuid:1,path:"/images/avatar-0.jpg"},{uuid:2,path:"/images/avatar-1.jpg"},{uuid:3,path:"/images/avatar-2.jpg"},{uuid:4,path:"/images/avatar-3.jpg"},{uuid:5,path:"/images/avatar-4.jpg"},{uuid:6,path:"/images/avatar-5.jpg"}],options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0},stacked:!0}],xAxes:[{stacked:!0}]}},chartData:{},chartData2:{datasets:[{label:"未开始",barPercentage:.6,backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"进行中",barPercentage:.6,backgroundColor:"rgba(54, 162, 235, 0.5)"},{label:"已完成",barPercentage:.6,backgroundColor:"rgba(255, 206, 86, 0.5)"}]},canvasHeight:400,zh:{weekdayHeaderFormat:"narrow",labelPrevDecade:"过去十年",labelPrevYear:"上一年",labelPrevMonth:"上个月",labelCurrentMonth:"当前月份",labelNextMonth:"下个月",labelNextYear:"明年",labelNextDecade:"下一个十年",labelToday:"今天",labelSelected:"选定日期",labelNoDateSelected:"未选择日期",labelCalendar:"日历",labelNav:"日历导航",labelHelp:"使用光标键浏览日期"},planChanged:!1,planStartTime:"",planEndTime:""}},watch:{item:function(t){var e=this;e.planStartTime=t.plan_start_time?new Date(t.plan_start_time):"",e.planEndTime=t.plan_end_time?new Date(t.plan_end_time):""}},mounted:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.project_get(),t.status_data_list()},methods:{project_get:function(){var t=this,e=t.urls.project_get.format(t.team,t.project);mt.get(e).then((function(e){t.item=e.data}))},status_data_list:function(){var t=this,e=t.urls.status_data_list.format(t.team,t.project);mt.get(e).then((function(e){t.chartData2.labels=e.data.labels,t.chartData2.datasets[0].data=e.data.datas[0],t.chartData2.datasets[1].data=e.data.datas[1],t.chartData2.datasets[2].data=e.data.datas[2],t.chartData=t.chartData2}))},onShownStart:function(){var t=this;t.planChanged=!0},onShownEnd:function(){var t=this;t.planChanged=!0},onContextStart:function(t){var e=this;if(e.planChanged&&t.selectedYMD){e.planChanged=!1;var a=new Date(t.selectedYMD),i={plan_start_time:a.getTime()};mt.post(e.urls.project_plan_update.format(e.team,e.project),i).then((function(t){200===t.data.code&&(e.bus.$emit("alertSuccess","更新成功"),e.project_get())})).catch((function(t){e.bus.$emit("alertDanger",t.response.data.errcode)}))}},onContextEnd:function(t){var e=this;if(e.planChanged&&t.selectedYMD){e.planChanged=!1;var a=new Date(t.selectedYMD),i={plan_end_time:a.getTime()};mt.post(e.urls.project_plan_update.format(e.team,e.project),i).then((function(t){200===t.data.code&&(e.bus.$emit("alertSuccess","更新成功"),e.project_get())})).catch((function(t){e.bus.$emit("alertDanger",t.response.data.errcode)}))}}},components:{ProjectAssign:To,Bar:Ho,ChangeStatus:Vo,Avatar:Jo},computed:{progressRate:function(){var t=this;if(t.item.to_do_count+t.item.in_progress_count+t.item.done_count===0)return 0;var e=100*t.item.done_count/(t.item.to_do_count+t.item.in_progress_count+t.item.done_count);return e.toFixed(0)}}},Ko=Zo,Qo=(a("5c50"),Object(T["a"])(Ko,Co,jo,!1,null,"24cdb800",null)),Xo=Qo.exports,tl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.items&&t.items.length>0?a(t.currentTabComponent,{tag:"component",attrs:{items:t.items}}):t._e()},el=[],al=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"20px",width:"100%",height:"100%"}},[a("div",{staticStyle:{"flex-direction":"row",display:"flex",height:"100%"}},[a("div",{staticClass:"ibox",staticStyle:{flex:"1"}},[a("PermissionHeader",{attrs:{title:"组建配置",desc:"你可以通过拖放组件库中的组件来自定义界面的导航栏。你也可以设置每一个组件，使其拥有个性化的配置。"}}),t._m(0),a("div",{staticClass:"flex-row com",staticStyle:{"margin-top":"30px","background-color":"#f8f8f8",padding:"11px 11px 1px 11px","flex-wrap":"wrap"}},t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"com-box-border align-items-center flex-row",class:{active:t.selectedComUUID===e.uuid},staticStyle:{width:"115px"},on:{click:function(a){return t.set_value(e)}}},[a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1602764784806",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"50821",width:"15",height:"15"}},[a("path",{attrs:{d:"M329.1136 793.6c63.488 0 115.2 51.712 115.2 115.2S392.6016 1024 329.1136 1024 214.016 972.288 214.016 908.8 265.6256 793.6 329.1136 793.6z m349.2864 0c63.488 0 115.2 51.712 115.2 115.2S741.888 1024 678.4 1024 563.2 972.288 563.2 908.8 614.912 793.6 678.4 793.6z m-349.184-396.8c63.488 0 115.0976 51.712 115.0976 115.2s-51.712 115.2-115.2 115.2S214.016 575.488 214.016 512s51.712-115.2 115.2-115.2z m349.184 0c63.488 0 115.2 51.712 115.2 115.2s-51.712 115.2-115.2 115.2S563.2 575.488 563.2 512s51.712-115.2 115.2-115.2zM329.216 0c63.488 0 115.0976 51.712 115.0976 115.2S392.6016 230.4 329.1136 230.4 214.016 178.688 214.016 115.2 265.6256 0 329.1136 0z m349.184 0c63.488 0 115.2 51.712 115.2 115.2S741.888 230.4 678.4 230.4 563.2 178.688 563.2 115.2 614.912 0 678.4 0z",fill:"#8a8a8a","p-id":"50822"}})])]),a("div",{staticClass:"com-name"},[t._v(t._s(e.name))])])})),0),t._m(1),a("div",{staticClass:"tab-title flex-row b-line",staticStyle:{"margin-top":"30px"}},t._l(t.tabTitle,(function(e,i){return a("div",{key:i,class:{active:t.cur===i},on:{click:function(e){t.cur=i}}},[t._v(t._s(e))])})),0),a("div",{staticClass:"tab-content",staticStyle:{"margin-top":"20px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.cur,expression:"cur===0"}],staticStyle:{width:"420px"}},[a("div",{staticClass:"flex-row align-items-center"},[t._m(2),a("div",{staticStyle:{"margin-left":"10px",flex:"1"}},[a("b-form-input",{on:{change:t.change},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{"margin-top":"20px"}},[a("div",{staticStyle:{"text-align":"right",flex:"0 0 100px"}},[t._v(" 组件名称 ")]),a("div",{staticStyle:{"margin-left":"10px",flex:"1"}},[t._v(" "+t._s(t._f("formatComponentTemplate")(t.selectedComTempUUID))+" ")])]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{"margin-top":"20px"}},[a("div",{staticStyle:{"text-align":"right",flex:"0 0 100px"}},[t._v(" 组件描述 ")]),a("div",{staticStyle:{"margin-left":"10px",flex:"1",overflow:"hidden"}},[a("b-form-textarea",{staticStyle:{overflow:"hidden"},attrs:{rows:"3","max-rows":"3"},on:{change:t.change},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{"margin-top":"20px"}},[a("div",{staticStyle:{"text-align":"right",flex:"0 0 100px"}}),a("div",{staticStyle:{"margin-left":"10px",flex:"1",overflow:"hidden"}},[a("UpdateButton",{attrs:{disabled:t.disabled,title:"更新信息"},on:{submit:t.update}})],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.cur,expression:"cur===1"}]})])],1)])])},il=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-line-header t-line"},[a("div",{staticClass:"com-line-header-title"},[t._v("导航自定义")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-line-header t-line"},[a("div",{staticClass:"com-line-header-title"},[t._v("组件详情")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"right",flex:"0 0 100px"}},[a("span",{staticStyle:{color:"#ff0000"}},[t._v("*")]),t._v("组件显示名称 ")])}],sl={data:function(){return{team:"",project:"",tabTitle:["基础设置"],cur:0,selectedComUUID:"",selectedComTempUUID:"",name:"",desc:"",disabled:!0}},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.items&&t.items.length>0&&t.set_value(t.items[0])},props:{items:Array},methods:{set_value:function(t){var e=this;e.selectedComUUID=t.uuid,e.selectedComTempUUID=t.template_uuid,e.name=t.name,e.desc=t.desc},change:function(){var t=this;t.disabled=!1},update:function(){var t=this;mt.post(t.urls.component_update.format(t.team,t.project,t.selectedComUUID),{name:t.name,desc:t.desc}).then((function(e){200===e.data.code&&(t.disabled=!0,t.bus.$emit("alertSuccess","更新成功"),t.bus.$emit("updateComponents"),t.$parent.components_get())})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))}},components:{PermissionHeader:Fs,UpdateButton:xe}},rl=sl,nl=(a("72d8"),Object(T["a"])(rl,al,il,!1,null,"f338d87c",null)),ol=nl.exports,ll=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox"},[a("PermissionHeader",{attrs:{title:"工作项类型",desc:"工作项类型用于在同一个项目下使用不同类型的工作项，不同的工作项类型可以定义不同的属性字段、权限和工作流等。项目下的工作项类型配置的修改不会同步到配置中心下的工作项类型中。"}}),a("div",{staticStyle:{margin:"15px 20px"}},[a("Search",{attrs:{placeholder:"搜索工作项类型"}})],1),a("div",{staticStyle:{margin:"0 20px"}},[a("div",{staticClass:"table"},[t._m(0),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"td flex-row align-items-center",staticStyle:{flex:"1"}},[a("IBIcon",{attrs:{icon:e.icon.toString(),scale:"2"}}),a("div",{staticClass:"flex-column",staticStyle:{"margin-left":"20px"}},[a("div",[t._v(t._s(e.name))]),a("div",{staticStyle:{color:"#999999"}},[t._v(t._s(e.field_count)+" 工作项属性"),a("span",{staticStyle:{margin:"0 10px",color:"#999999"}},[t._v(" | ")]),t._v(t._s(e.status_count)+" 工作项状态")])])],1),a("div",{staticClass:"td last flex-row",staticStyle:{flex:"1","align-items":"center","justify-content":"flex-end"}},[a("div",{staticClass:"flex-row task-attr align-items-center",staticStyle:{"margin-right":"20px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("svg",{staticClass:"icon",attrs:{t:"1602939503677",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"59063",width:"16",height:"16"}},[a("path",{attrs:{d:"M510.81 959L31.93 754.63C12.77 741.86 0 722.7 12.77 703.55 19.15 684.4 44.7 678 63.85 684.4l453.34 191.54L970.52 684.4c19.16-6.39 44.7 0 51.09 19.15s0 44.7-19.16 51.08z m0 0","p-id":"59064",fill:"#515151"}}),a("path",{attrs:{d:"M510.81 729.09L31.93 524.77C12.77 518.38 0 492.84 12.77 473.69c6.38-19.16 25.54-25.54 44.69-19.16l453.35 191.56 453.33-191.56c19.16-6.38 44.7 0 51.08 19.16s0 44.69-19.15 51.08z m0 0","p-id":"59065",fill:"#515151"}}),a("path",{attrs:{d:"M510.81 499.23L0 282.14 510.81 65.05l510.8 217.09z m0 0","p-id":"59066",fill:"#515151"}})])]),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px"}},[a("router-link",{attrs:{to:{name:"ComponentIssueTypeDesigner",params:{team:t.team,project:t.project,com:"designer",attr:"field",issue_type:e.uuid,title:e.name}}}},[t._v("工作项属性")])],1)]),a("div",{staticClass:"flex-row task-attr align-items-center",staticStyle:{"margin-right":"20px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("svg",{staticClass:"icon",attrs:{t:"1602939398177",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"55763",width:"16",height:"16"}},[a("path",{attrs:{d:"M908.864 128h-9.6C765.888 128 644.096 85.888 592.64 13.312 586.304 6.912 572.864 0 554.56 0h-21.12c-19.072 0-36.352 6.08-41.408 17.28C442.688 86.976 323.648 128 188.736 128h-9.6C150.912 128 128 158.976 128 187.392l0.064 351.552c14.08 234.816 181.888 433.792 408.064 483.904a31.808 31.808 0 0 0 13.824 0c222.656-49.28 388.672-242.752 407.296-472.768A33.152 33.152 0 0 0 960 537.024V187.392C960 158.08 937.984 128 908.864 128zM896 526.016a31.04 31.04 0 0 0-1.856 9.088c-12.224 204.032-156.16 377.28-351.104 423.68C348.096 912.32 204.16 739.2 192 537.024V199.936C342.208 199.168 472.704 148.992 539.328 64h8.576C609.984 146.176 745.216 199.168 896 199.936v326.08z","p-id":"55764",fill:"#515151"}}),a("path",{attrs:{d:"M416 352c0 59.456 40.96 109.12 96 123.456V832a32 32 0 0 0 64 0v-64h64a32 32 0 0 0 0-64h-64v-64h64a32 32 0 0 0 0-64h-64V475.456c55.04-14.336 96-64 96-123.456 0-70.592-57.408-128-128-128s-128 57.408-128 128z m192 0a64 64 0 1 1-128 0 64 64 0 0 1 128 0z","p-id":"55765",fill:"#515151"}})])]),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px"}},[a("router-link",{attrs:{to:{name:"ComponentIssueTypeDesigner",params:{team:t.team,project:t.project,com:"designer",attr:"issue_type_permission",issue_type:e.uuid,title:e.name}}}},[t._v("工作项权限")])],1)]),a("div",{staticClass:"flex-row task-attr align-items-center",staticStyle:{"margin-right":"20px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("svg",{staticClass:"icon",attrs:{t:"1603325433305",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10548",width:"16",height:"16"}},[a("path",{attrs:{d:"M426.496 170.496h427.008v256H768V256H426.496v170.496H0V0h426.496zM597.504 597.504V768H256v-170.496H170.496v256h426.496V1024H1024v-426.496h-426.496z m340.992 340.992h-256v-256h256v256z","p-id":"10549"}})])]),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px"}},[a("router-link",{attrs:{to:{name:"ComponentIssueTypeDesigner",params:{team:t.team,project:t.project,com:"designer",attr:"issue_type_flow",issue_type:e.uuid,title:e.name}}}},[t._v("工作项工作流")])],1)]),a("div",{staticClass:"flex-row task-attr align-items-center",staticStyle:{"margin-right":"20px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("svg",{staticClass:"icon",attrs:{t:"1603325268548",viewBox:"0 0 1059 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6696",width:"16",height:"16"}},[a("path",{attrs:{d:"M826.512515 882.978679a64.292434 64.292434 0 0 1-64.511862 63.92672H297.105649a64.365576 64.365576 0 0 1-64.511862-63.92672V204.068134h593.918728v678.837403zM361.617511 89.38038a13.019401 13.019401 0 0 1 13.238829-13.165686h310.41762a13.019401 13.019401 0 0 1 13.238829 13.165686v38.546203H361.617511v-38.546203z m658.72316 38.546203H775.312624v-38.546203A90.038664 90.038664 0 0 0 685.200817 0H374.85634a90.038664 90.038664 0 0 0-90.18495 89.307237v38.546203H38.911917a38.546203 38.546203 0 1 0 0 77.092407h115.784894v677.95969A141.750553 141.750553 0 0 0 297.105649 1023.997806h465.114432a141.677411 141.677411 0 0 0 142.335695-141.019127V204.141277h115.858037a38.619346 38.619346 0 0 0 38.911917-38.473061 37.961062 37.961062 0 0 0-38.911917-37.741633z m-490.714377 703.41335a38.692489 38.692489 0 0 0 38.911916-38.546203v-409.599123a38.911917 38.911917 0 0 0-77.823833 0v409.599123a38.692489 38.692489 0 0 0 38.911917 38.47306z m-181.247612 0a38.692489 38.692489 0 0 0 38.911917-38.546203v-409.599123a38.911917 38.911917 0 0 0-77.823834 0v409.599123a39.716486 39.716486 0 0 0 38.911917 38.47306z m362.495223 0a38.619346 38.619346 0 0 0 38.911917-38.546203v-409.599123a38.911917 38.911917 0 0 0-77.823833 0v409.599123a38.619346 38.619346 0 0 0 38.911916 38.47306z","p-id":"6697"}})])]),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px"}},[t._v("删除工作项类型")])])])])}))],2)])],1)},cl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("以下为当前项目使用的工作项类型")]),a("div",{staticClass:"th op"},[t._v("操作")])])}],dl={data:function(){return{team:"",project:"",items:[]}},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.issue_type_list()},methods:{issue_type_list:function(){var t=this;mt.get(this.urls.project_template.format(t.team,t.project)).then((function(e){t.items=e.data}))}},components:{PermissionHeader:Fs,Search:Zi,IBIcon:fr}},ul=dl,pl=(a("5de9"),Object(T["a"])(ul,ll,cl,!1,null,"ff0d5fa8",null)),ml=pl.exports,fl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox"},[a("div",{staticClass:"flex-row align-items-center b-line",staticStyle:{margin:"0 20px",padding:"10px 0"}},[t._m(0),a("div",{staticStyle:{flex:"0 0 100px","text-align":"right"}},[a("b-button",{attrs:{variant:"danger"},on:{click:t.del}},[t._v("删除项目")])],1)])])},vl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1"}},[a("div",{staticStyle:{"font-size":"18px"}},[t._v("项目信息")]),a("div",{staticStyle:{color:"#999999"}},[t._v("删除项目下所有资源")])])}],hl={data:function(){return{team:"",project:""}},created:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project},methods:{del:function(){var t=this;this.$bvModal.msgBoxConfirm("此操作不可撤销，是否确定？",{title:"删除项目",okVariant:"danger",okTitle:"确定",cancelTitle:"取消",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){e&&mt.post(t.urls.project_delete.format(t.team,t.project)).then((function(e){200===e.data.code&&Qm.push({name:"Projects",params:{team:t.team}})}))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))}}},xl=hl,gl=Object(T["a"])(xl,fl,vl,!1,null,null,null),_l=gl.exports,yl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox"},[a("div",{staticClass:"b-line padding20",staticStyle:{"font-size":"18px","margin-bottom":"20px"}},[t._v("项目信息")]),a("div",{staticStyle:{padding:"0 10px"}},[a("div",[a("div",{staticClass:"flex-row",staticStyle:{"margin-bottom":"20px"}},[t._m(0),a("div",{staticStyle:{flex:"0 0 300px"}},[a("Creator",{attrs:{user:t.creator}})],1)]),t._m(1),a("div",{staticClass:"flex-row",staticStyle:{"margin-bottom":"20px"}},[t._m(2),a("div",{staticStyle:{flex:"0 0 300px"}},[a("b-form-input",{on:{change:t.name_change,keydown:t.name_change},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]),a("div",{staticClass:"flex-row",staticStyle:{"margin-bottom":"20px"}},[t._m(3),a("div",{staticStyle:{flex:"0 0 300px"}},[a("AddProjectButton",{attrs:{disabled:t.disabled,title:"更新信息"},on:{submit:t.update}})],1)])])])])},bl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 120px"}},[a("label",[t._v("创建者")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticStyle:{flex:"0 0 120px"}},[a("label",[t._v("创建时间")])]),a("div",{staticStyle:{flex:"0 0 300px"}},[t._v(" 2019-01-01 12:12:12 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 120px"}},[a("label",[t._v("项目名称")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 120px"}},[a("label")])}],Sl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("img",{staticStyle:{height:"20px",width:"20px","border-radius":"20px"},attrs:{src:t.user.avatar}})]),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"10px"}},[a("div",{staticStyle:{"text-align":"left",color:"#363636"}},[t._v(t._s(t.user.name)+" ("+t._s(t.user.email)+")")])])])},wl=[],kl={data:function(){return{}},props:{user:Object}},Cl=kl,jl=Object(T["a"])(Cl,Sl,wl,!1,null,"4ab3496e",null),$l=jl.exports,zl={data:function(){return{team:"",project:"",name:"",disabled:!0,creator:{uuid:"pinbor",name:"jimmy",email:"pinbor@iissy.com"}}},mounted:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.project_get()},methods:{name_change:function(){var t=this;t.disabled=!1},update:function(){var t=this;mt.post(t.urls.project_update.format(t.team,t.project),{name:t.name,uuid:t.project}).then((function(e){200===e.data.code&&(t.disabled=!0,t.bus.$emit("alertSuccess","更新成功"),t.bus.$emit("updateProjectInfo",t.project))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))},project_get:function(){var t=this;mt.get(t.urls.project_get.format(t.team,t.project)).then((function(e){t.name=e.data.name}))}},components:{Creator:$l,AddProjectButton:xe}},El=zl,Ml=Object(T["a"])(El,yl,bl,!1,null,null,null),Pl=Ml.exports,Tl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox"},[a("PermissionHeader",{attrs:{title:"项目权限",desc:"项目权限可以用于定制项目的操作权限控制。"}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.browse}}):t._e(),t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.manage}}):t._e(),t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.reports}}):t._e()],1)],1)},Dl=[],Il={data:function(){return{team:"",project:"",maps:{browse:{code:1102,permission:"browse_project",title:"查看项目",desc:"允许成员浏览当前项目，包括工作项，筛选器，报表等信息",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},manage:{code:1101,permission:"manage_project",title:"管理项目",desc:"管理当前项目并更新项目的配置信息",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},reports:{code:1104,permission:"view_project_reports",title:"查看项目报表",desc:"允许成员查看当前项目的数据报表",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},role_members:[],loaded:!1}},mounted:function(){var t=this;t.data={permission_rule:{context_type:"project",context_param:{project_uuid:t.project}}}},created:function(){var t=this;t.team=t.$route.params.team,t.project=this.$route.params.project,t.GetUserDomainGroups()},methods:{GetUserDomainGroups:function(){var t=this,e=[];for(var a in t.maps)e.push(t.maps[a].code);mt.post(t.urls.project_user_domain_group.format(t.team,t.project),e).then((function(e){for(var a in t.maps){var i=t.maps[a];i.groups=[]}if(e.data&&e.data.length>0)for(var s in t.maps)for(var r=t.maps[s],n=0;n<e.data.length;n++){var o=e.data[n];if(o.permission===r.code){r.groups=o.groups;break}}t.GetRoleMembers()}))},GetRoleMembers:function(){var t=this;mt.get(t.urls.role_members.format(t.team,t.project)).then((function(e){if(e.data&&e.data.role_members&&e.data.role_members.length>0)for(var a=0;a<e.data.role_members.length;a++){var i=e.data.role_members[a];for(var s in t.maps){var r=t.maps[s];r.roles=[],r.members=[],i.role.type="role",r.roles.push(i.role);for(var n=0;n<i.members.length;n++){var o=i.members[n];o.type="single_user",r.members.push(o)}}}t.loaded=!0}))}},components:{PermissionHeader:Fs,PermissionItem:Zr}},Ol=Il,Bl=Object(T["a"])(Ol,Tl,Dl,!1,null,"107458da",null),Hl=Bl.exports,Al=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox"},[a("PermissionHeader",{attrs:{title:"项目属性",desc:t.desc}}),a("Search",{staticStyle:{margin:"15px 20px"},attrs:{placeholder:"搜索项目属性"}}),a("div",{staticStyle:{margin:"0 20px"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex"}},[a("div",{staticClass:"table"},[t._m(0),t._l(t.items,(function(e){return a("div",{key:e.alias,staticClass:"table-row"},[a("div",{staticClass:"td flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.name))]),a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[e.built_in?a("div",{staticStyle:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},[t._v("系统")]):t._e()])]),a("div",{staticClass:"td",staticStyle:{flex:"0 0 150px"}},[t._v(t._s(t._f("projectFieldType")(e.field_type)))]),a("div",{staticClass:"td align-items-center flex-row",staticStyle:{flex:"0 0 100px"}},[e.built_in?a("div",{staticClass:"align-items-center flex-row",staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})]):a("div",{staticClass:"align-items-center"},[t._v(" x ")])])])}))],2)])])],1)},Ul=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("属性名称")]),a("div",{staticClass:"th",staticStyle:{flex:"0 0 150px"}},[t._v("属性类型")]),a("div",{staticClass:"th",staticStyle:{flex:"0 0 100px"}},[t._v("操作")])])}],Ll={data:function(){return{team:"",items:[],desc:"项目属性设置可以设置项目概览页面需要显示的项目自定义属性。"}},created:function(){var t=this;t.team=t.$route.params.team,t.project_list()},methods:{project_list:function(){var t=this,e=t.$route.params.project;mt.post(t.urls.project_field.format(t.team),{project:e}).then((function(e){t.items=e.data}))}},components:{PermissionHeader:Fs,Search:Zi}},Nl=Ll,ql=Object(T["a"])(Nl,Al,Ul,!1,null,"7879db6d",null),Vl=ql.exports,Fl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox"},[a("PermissionHeader",{attrs:{title:"项目状态",desc:t.desc}}),a("Search",{staticStyle:{margin:"15px 20px"},attrs:{placeholder:"搜索项目状态"}}),a("div",{staticStyle:{margin:"0 20px"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex"}},[a("div",{staticClass:"table"},[t._m(0),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"td flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.name))]),t._m(1,!0)]),a("div",{staticClass:"td",staticStyle:{display:"flex","align-items":"center"}},[a("Status",{attrs:{name:e.name,color:e.uuid}})],1),t._m(2,!0)])}))],2)])])],1)},Gl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("状态名称")]),a("div",{staticClass:"th"},[t._v("状态类型")]),a("div",{staticClass:"th op"},[t._v("操作")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[a("div",{staticStyle:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},[t._v("系统")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"td op",staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])}],Rl={data:function(){return{team:"",items:[],desc:"项目状态用于定制项目所处的不同状态，支持不同状态间的切换。"}},created:function(){var t=this;t.team=t.$route.params.team,t.project_list()},methods:{project_list:function(){var t=this;mt.post(this.urls.project_status.format(t.team)).then((function(e){t.items=e.data}))}},components:{Status:ki,Search:Zi,PermissionHeader:Fs}},Wl=Rl,Yl=Object(T["a"])(Wl,Fl,Gl,!1,null,null,null),Jl=Yl.exports,Zl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox"},[a("div",{staticClass:"flex-row b-line align-items-center",staticStyle:{flex:"0 0 auto",padding:"20px"}},[a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("router-link",{attrs:{to:{name:"ComponentDesigner",params:{team:t.team,project:t.project,com:"designer",attr:"issue_type"}}}},[a("span",{staticStyle:{"font-size":"18px"}},[t._v("工作项类型")])])],1),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),a("div",{staticStyle:{color:"#909090","font-size":"18px",display:"flex"}},[t._v(t._s(t.title))]),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),t._m(0),a("div",{staticClass:"flex-row",staticStyle:{flex:"auto","align-items":"center","justify-content":"end"}},[a("Summary",{attrs:{desc:t.desc}})],1)]),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("Search",{staticStyle:{margin:"20px 0"},attrs:{placeholder:"搜索工作项属性"}}),a("div",{attrs:{id:"project-main"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex"}},[a("div",{staticClass:"table"},[t._m(1),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"td flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.name))]),a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[e.built_in?a("div",{staticStyle:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},[t._v("系统")]):t._e()])]),a("div",{staticClass:"td"},[t._v(t._s(t._f("taskFieldType")(e.type)))]),a("div",{staticClass:"td"},[t._v(t._s(e.default_value||"---"))]),a("div",{staticClass:"td"},[e.can_modify_required?a("div",{staticStyle:{"font-weight":"bolder","text-align":"center",width:"30px"}},[a("b-form-checkbox",{attrs:{name:"check-button",switch:""},on:{change:function(a){return t.toggle(e)}},model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"item.required"}})],1):a("div",{staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])]),a("div",{staticClass:"td align-items-center iop",staticStyle:{display:"flex",flex:"0 0 80px"}},[e.can_delete?a("div",{staticClass:"del",staticStyle:{"font-weight":"bolder","text-align":"center",width:"30px"}},[a("svg",{staticClass:"icon",attrs:{t:"1619925824323",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"}},[a("path",{attrs:{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"}})])]):a("div",{staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])])}))],2)])])],1)])},Kl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("span",{staticStyle:{"font-size":"18px",color:"#909090"}},[t._v("工作项属性")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("属性名称")]),a("div",{staticClass:"th"},[t._v("属性类型")]),a("div",{staticClass:"th"},[t._v("属性默认值")]),a("div",{staticClass:"th"},[t._v("是否必填")]),a("div",{staticClass:"th",staticStyle:{display:"flex",flex:"0 0 80px"}},[t._v("操作")])])}],Ql=(a("c7cd"),{data:function(){return{title:"",name:"",desc:"工作项属性用于配置工作项需要的显示字段，可以用多种属性类型来进行配置，不同项目可以共用同一个属性。",team:"",project:"",issue_type:"",items:[]}},created:function(){var t=this;t.title=t.$route.params.title,t.team=t.$route.params.team,t.project=t.$route.params.project,t.issue_type=t.$route.params.issue_type,t.project_issue_type_field(),t.issue_type_get()},methods:{project_issue_type_field:function(){var t=this;mt.get(this.urls.project_issue_type_field.format(t.team,t.project,t.issue_type)).then((function(e){t.items=e.data.field_configs}))},issue_type_get:function(){var t=this;t.title||mt.get(this.urls.issue_type_get.format(t.team,t.issue_type)).then((function(e){t.title=e.data.name}))},toggle:function(t){console.log(t.uuid,t.fixed)}},components:{Search:Zi,Summary:Ls}}),Xl=Ql,tc=Object(T["a"])(Xl,Zl,Kl,!1,null,"777b098c",null),ec=tc.exports,ac=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox"},[a("div",{staticClass:"flex-row b-line align-items-center",staticStyle:{flex:"0 0 auto",padding:"20px"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("router-link",{attrs:{to:{name:"ComponentDesigner",params:{team:t.team,project:t.project,com:"designer",attr:"issue_type"}}}},[a("span",{staticStyle:{"font-size":"18px"}},[t._v("工作项类型")])])],1),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),a("div",{staticStyle:{color:"#909090","font-size":"18px",display:"flex"}},[t._v(t._s(t.title))]),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),t._m(0)]),a("div",{staticClass:"flex-row",staticStyle:{flex:"auto","align-items":"center","justify-content":"end"}},[a("Summary",{attrs:{desc:t.desc}})],1)]),t.loaded?a("div",{staticStyle:{padding:"0 20px 20px 20px"}},t._l(t.maps,(function(e,i){return a("PermissionItem",{key:i,attrs:{data:t.data,group:e}})})),1):t._e()])},ic=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("span",{staticStyle:{"font-size":"18px",color:"#909090"}},[t._v("工作项权限")])])}],sc={data:function(){return{title:"",maps:{create:{code:1201,permission:"create_tasks",title:"创建#",desc:"允许成员创建#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},view:{code:1202,permission:"view_tasks",title:"查看#",desc:"允许成员查看#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},update:{code:1203,permission:"update_tasks",title:"编辑#",desc:"允许成员修改#，以及对#进行其他变更操作",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},delete:{code:1204,permission:"delete_tasks",title:"删除#",desc:"允许成员删除#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},transit:{code:1206,permission:"transit_tasks",title:"更新#状态",desc:"允许成员更新#状态",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},loaded:!1,data:{},desc:"工作项权限可以用于定制工作项的操作权限控制。"}},mounted:function(){var t=this;t.data={permission_rule:{context_type:"issue_type",context_param:{project_uuid:t.project,issue_type_uuid:t.issue_type}}}},created:function(){var t=this;t.title=t.$route.params.title,t.team=t.$route.params.team,t.project=t.$route.params.project,t.issue_type=t.$route.params.issue_type,t.issue_type_get()},methods:{issue_type_get:function(){var t=this;t.title?t.GetUserDomainGroups():mt.get(this.urls.issue_type_get.format(t.team,t.issue_type)).then((function(e){t.title=e.data.name,t.GetUserDomainGroups()}))},GetUserDomainGroups:function(){var t=this,e=[];for(var a in t.maps)e.push(t.maps[a].code);mt.post(t.urls.issue_type_user_domain_group.format(t.team,t.project,t.issue_type),e).then((function(e){for(var a in t.maps){var i=t.maps[a];i.title=i.title.replace("#",t.title),i.desc=i.desc.replace("#",t.title),i.groups=[]}if(e.data&&e.data.length>0)for(var s in t.maps)for(var r=t.maps[s],n=0;n<e.data.length;n++){var o=e.data[n];if(o.permission===r.code){r.groups=o.groups;break}}t.GetRoleMembers()}))},GetRoleMembers:function(){var t=this;mt.get(t.urls.role_members.format(t.team,t.project)).then((function(e){if(e.data&&e.data.role_members&&e.data.role_members.length>0)for(var a=0;a<e.data.role_members.length;a++){var i=e.data.role_members[a];for(var s in t.maps){var r=t.maps[s];r.roles=[],r.members=[],i.role.type="role",r.roles.push(i.role);for(var n=0;n<i.members.length;n++){var o=i.members[n];o.type="single_user",r.members.push(o)}}}t.loaded=!0}))}},components:{PermissionItem:Zr,Summary:Ls}},rc=sc,nc=Object(T["a"])(rc,ac,ic,!1,null,"c19f13ca",null),oc=nc.exports,lc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-content ibox"},[a("div",{staticClass:"flex-row b-line align-items-center",staticStyle:{flex:"0 0 auto",padding:"20px"}},[a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("router-link",{attrs:{to:{name:"ComponentDesigner",params:{team:t.team,project:t.project,com:"designer",attr:"issue_type"}}}},[a("span",{staticStyle:{"font-size":"18px"}},[t._v("工作项类型")])])],1),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),a("div",{staticStyle:{color:"#909090","font-size":"18px",display:"flex"}},[t._v(t._s(t.title))]),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),t._m(0),a("div",{staticClass:"flex-row",staticStyle:{flex:"auto","align-items":"center","justify-content":"end"}},[a("Summary",{attrs:{desc:t.desc}})],1)]),a("div",{staticStyle:{margin:"20px"},attrs:{id:"project-main"}},[a("div",{staticClass:"flex-column workFlowTable",staticStyle:{"border-left":"1px solid #dedede","border-top":"1px solid #dedede"}},[a("div",{staticStyle:{flex:"1"}},[a("div",{staticClass:"flex-row",staticStyle:{flex:"1","background-color":"#f8f8f8","border-bottom":"1px solid #dedede",height:"60px"}},[t._m(1),t._l(t.headers,(function(t){return a("div",{key:t.uuid,staticClass:"flex-row align-items-center justify-content-center",staticStyle:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede"}},[a("div",[a("ColorStatus",{attrs:{color:t.category.toString(),name:t.name}})],1)])}))],2)]),a("div",{staticClass:"flex-column",staticStyle:{flex:"1"}},t._l(t.flows,(function(e){return a("div",{key:e.uuid,staticClass:"flex-row align-items-center",staticStyle:{flex:"1","border-bottom":"1px solid #dedede"}},[a("div",{staticStyle:{flex:"0 0 200px",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px",width:"200px"}},[a("div",{staticClass:"flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("ColorStatus",{attrs:{color:e.category.toString(),name:e.name}})],1),e.default?a("div",{staticStyle:{"margin-left":"5px"}},[a("div",{staticStyle:{"font-size":"12px",color:"#909090",display:"inline-block",height:"20px","line-height":"18px",border:"1px solid rgba(134,147,160,0.5)","border-radius":"20px",padding:"0px 8px"}},[t._v("初始状态")])]):t._e()])]),t._l(e.items,(function(e){return a("div",{key:e.uuid,staticClass:"align-items-center flex-row justify-content-center",staticStyle:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sel,expression:"f.sel"}],staticStyle:{height:"16px",width:"16px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.sel)?t._i(e.sel,null)>-1:e.sel},on:{change:[function(a){var i=e.sel,s=a.target,r=!!s.checked;if(Array.isArray(i)){var n=null,o=t._i(i,n);s.checked?o<0&&t.$set(e,"sel",i.concat([n])):o>-1&&t.$set(e,"sel",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(e,"sel",r)},function(a){return t.change_task_status(e.uuid,e.name,e.start_uuid,e.end_uuid,e.sel)}]}})])}))],2)})),0)])])])},cc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("span",{staticStyle:{"font-size":"18px",color:"#909090"}},[t._v("工作项工作流")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",display:"flex",width:"200px",height:"60px",position:"relative"}},[a("div",{staticStyle:{flex:"0 0 auto","border-right":"1px solid #dedede",position:"absolute",height:"60px",width:"200px"}},[a("div",{staticClass:"table-head-title"},[a("div",[a("div",{staticClass:"start-status-title",staticStyle:{height:"initial"}},[t._v("开始状态")])]),a("div",[a("div",{staticClass:"end-status-title",staticStyle:{height:"initial"}},[t._v("目标状态")])])])])])}],dc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.curColor},[t._v(t._s(t.name))])},uc=[],pc={data:function(){return{}},props:{name:String,color:String},computed:{curColor:function(){var t=this,e=t.color;switch(t.color){case"1":e="to_do";break;case"2":e="in_progress";break;case"3":e="done";break}return e}}},mc=pc,fc=(a("ad77"),Object(T["a"])(mc,dc,uc,!1,null,"b1c7e526",null)),vc=fc.exports,hc={data:function(){return{title:"",team:"",desc:"工作流可以用于定制对应工作项的在不同状态阶段的流转。你可以在表格视图中，通过勾选复选框的方式新建工作流步骤。你也可以切换到详情视图中新建工作流步骤。",flows:[],headers:[],lock:!0}},created:function(){var t=this;t.title=t.$route.params.title,t.team=t.$route.params.team,t.project=t.$route.params.project,t.issue_type=t.$route.params.issue_type,t.issue_type_get(),t.project_issue_type_flow()},methods:{change_task_status:function(t,e,a,i,s){var r=this;if(r.lock){r.lock=!1;var n={uuid:t,name:e,start_status:a,end_status:i,state:s};mt.post(this.urls.project_issue_type_flow_submit.format(r.team,r.project,r.issue_type),n).then((function(){r.project_issue_type_flow(),r.lock=!0}))}},issue_type_get:function(){var t=this;t.title||mt.get(this.urls.issue_type_get.format(t.team,t.issue_type)).then((function(e){t.title=e.data.name}))},project_issue_type_flow:function(){var t=this;mt.get(this.urls.project_issue_type_flow.format(t.team,t.project,t.issue_type)).then((function(e){t.headers=e.data.headers,t.flows=e.data.flows}))}},components:{Summary:Ls,ColorStatus:vc}},xc=hc,gc=(a("79cc"),Object(T["a"])(xc,lc,cc,!1,null,"71a57b42",null)),_c=gc.exports,yc={data:function(){return{currentTabComponent:"com",items:[]}},watch:{$route:function(){this.shift()}},mounted:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.shift(),t.components_get()},methods:{components_get:function(){var t=this;mt.get(t.urls.components.format(t.team,t.project)).then((function(e){t.items=e.data}))},shift:function(){var t=this;t.currentTabComponent=t.attr}},computed:{attr:function(){var t=this;return t.$route.params.attr||"com"}},components:{com:ol,issue_type:ml,more:_l,project_info:Pl,project_permission:Hl,project_field:Vl,project_status:Jl,field:ec,issue_type_permission:oc,issue_type_flow:_c}},bc=yc,Sc=Object(T["a"])(bc,tl,el,!1,null,null,null),wc=Sc.exports,kc={data:function(){return{team:"",project:"",issue_type:"",com:"",comName:"",currentTabComponent:""}},components:{com00001:Wn,com00002:Xn,com00003:ro,com00004:go,com00005:ko,com00009:Xo,designer:wc},mounted:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.com=t.$route.params.com},created:function(){var t=this;t.shift()},watch:{$route:function(){var t=this;t.com!==t.$route.params.com&&t.shift()}},methods:{shift:function(){var t=this;t.team=t.$route.params.team,t.project=t.$route.params.project,t.com=t.$route.params.com,"designer"!==t.com?mt.get(t.urls.component_get.format(t.team,t.project,t.com)).then((function(e){t.currentTabComponent=e.data.template_uuid,t.comName=e.data.name,e.data.objects.length>0&&(t.issue_type=e.data.objects[0].uuid)})):t.currentTabComponent="designer"}}},Cc=kc,jc=Object(T["a"])(Cc,en,an,!1,null,null,null),$c=jc.exports,zc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Spaces")},Ec=[],Mc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview padding20",staticStyle:{overflow:"auto",flex:"1 0 auto",width:"100%",position:"relative"}},[a("div",{staticClass:"flex-row header-container-inner",staticStyle:{"border-radius":"3px",flex:"1"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("AddButton",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-wiki-add",modifiers:{"modal-wiki-add":!0}}],attrs:{title:"新建页面组",plus:!0}})],1)]),a("div",{staticClass:"flex-row flex-wrap",staticStyle:{flex:"1","flex-direction":"row",position:"relative"}},t._l(t.spaces,(function(t){return a("Space",{key:t.uuid,attrs:{space:t,desc:"最近页面更新于 8 小时前"}})})),1),a("AddSpace")],1)},Pc=[],Tc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{size:"lg",title:"新建页面组",id:"modal-wiki-add","no-close-on-backdrop":"","cancel-title":"取消","ok-title":"确定",centered:!0},on:{show:t.resetModal,hidden:t.resetModal,ok:t.add}},[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticStyle:{"margin-top":"6px"}},[a("b-form-group",{staticClass:"required",attrs:{label:"页面组名称","label-for":"input-title"}},[a("b-form-input",{attrs:{id:"input-title",state:t.titleState,required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("b-form-group",{attrs:{label:"页面组描述","label-for":"textarea-description"}},[a("b-form-textarea",{attrs:{id:"textarea-description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1)])])},Dc=[],Ic=(a("a4d3"),a("e01a"),{data:function(){return{title:"",description:"",titleState:null}},created:function(){},methods:{checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.titleState=t,t},resetModal:function(){this.title="",this.description="",this.titleState=null},add:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;this.checkFormValidity()&&(this.submit(),this.$nextTick((function(){t.$bvModal.hide("modal-wiki-add")})))},submit:function(){var t=this;t.team=t.$route.params.team;var e={title:t.title,description:t.description};mt.post(t.urls.space_add.format(t.team),e).then((function(e){200===e.data.code&&t.$parent.space_list()})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))}}}),Oc=Ic,Bc=Object(T["a"])(Oc,Tc,Dc,!1,null,null,null),Hc=Bc.exports,Ac={data:function(){return{title:"",description:"",spaces:[]}},created:function(){var t=this;t.team=t.$route.params.team,t.space_list()},methods:{space_list:function(){var t=this;mt.get(t.urls.spaces.format(t.team)).then((function(e){t.spaces=e.data.spaces}))}},components:{AddButton:xe,Space:si,AddSpace:Hc},computed:{}},Uc=Ac,Lc=Object(T["a"])(Uc,Mc,Pc,!1,null,null,null),Nc=Lc.exports,qc={data:function(){return{}},components:{Spaces:Nc},created:function(){},methods:{}},Vc=qc,Fc=Object(T["a"])(Vc,zc,Ec,!1,null,null,null),Gc=Fc.exports,Rc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-no-border flex-column"},[a("div",{staticClass:"flex-row",staticStyle:{height:"100%",flex:"1"}},[a("Control",{attrs:{tagIndex:t.tagIndex},on:{tag_switch:t.tag_switch}}),a(t.currentTabComponent,{tag:"component"})],1)])},Wc=[],Yc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"project-setting-menu"}},[a("div",{staticStyle:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},[t._v("配置中心")]),a("div",{staticStyle:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},[t._v("页面组")]),a("div",{class:{active:1===t.tagIndex}},[a("router-link",{attrs:{to:{name:"WikiSetting",params:{team:t.team,type:"list"}}}},[t._v("页面组管理")])],1),a("div",{staticStyle:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},[t._v("权限")]),a("div",{class:{active:11===t.tagIndex}},[a("router-link",{attrs:{to:{name:"WikiSetting",params:{team:t.team,type:"permission"}}}},[t._v("权限配置")])],1)])},Jc=[],Zc={data:function(){return{team:"-"}},mounted:function(){var t=this;t.team=t.$route.params.team},props:["tagIndex"],methods:{}},Kc=Zc,Qc=(a("da69"),Object(T["a"])(Kc,Yc,Jc,!1,null,"5bc84c43",null)),Xc=Qc.exports,td=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wiki ibox"},[a("div",{staticClass:"b-line padding20",staticStyle:{flex:"0 0 auto","font-size":"18px"}},[t._v("页面组管理")]),a("div",{staticClass:"flex-column",staticStyle:{padding:"20px",width:"100%"}},t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"flex-row pages b-line",staticStyle:{padding:"20px 0",width:"100%"}},[a("div",{staticStyle:{flex:"1"}},[a("div",{staticClass:"page-title"},[a("router-link",{attrs:{to:{name:"Space",params:{team:t.team,space:e.uuid}}}},[t._v(" "+t._s(e.title)+" ")])],1),a("div",{staticClass:"flex-row",staticStyle:{"margin-top":"10px"}},[a("div",{staticStyle:{flex:"0 0 auto",color:"#909090"}},[a("b-icon",{attrs:{icon:"file-earmark-medical"}}),t._v(" 15 ")],1),a("div",{staticStyle:{flex:"0 0 auto",color:"#909090","margin-left":"20px"}},[a("b-icon",{attrs:{icon:"clock"}}),t._v(" 12 天前更新 ")],1)])]),a("div",{staticStyle:{flex:"0 0 auto"}},[a("b-button",{attrs:{variant:"outline-secondary",to:{name:"Space",params:{team:t.team,space:e.uuid}}}},[t._v("查看页面组")])],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"20px"}},[a("b-button",{attrs:{"active-class":t.style,variant:"outline-secondary",to:{name:"SpaceSettings",params:{team:t.team,space:e.uuid,type:"info"}}}},[t._v("配置页面组权限")])],1)])})),0)])},ed=[],ad={data:function(){return{style:"active",items:[],tasks_completed:!1}},mounted:function(){var t=this;t.team=t.$route.params.team,t.space_list()},methods:{space_list:function(){var t=this;mt.get(t.urls.spaces.format(t.team)).then((function(e){t.items=e.data.spaces}))}}},id=ad,sd=(a("4f5b"),Object(T["a"])(id,td,ed,!1,null,"abcee16e",null)),rd=sd.exports,nd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wiki ibox"},[a("PermissionHeader",{attrs:{title:"权限配置",desc:"允许创建页面组。"}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.manage}}):t._e()],1)],1)},od=[],ld={data:function(){return{team:"",project:"",maps:{manage:{code:2020,permission:"create_space",title:"新建页面组权限",desc:"允许用户新建页面组",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1}},mounted:function(){var t=this;t.data={permission_rule:{context_type:"wiki"}}},created:function(){var t=this;t.team=t.$route.params.team,t.GetUserDomainGroups()},methods:{GetUserDomainGroups:function(){var t=this,e=[];for(var a in t.maps)e.push(t.maps[a].code);mt.post(t.urls.team_permission_rules.format(t.team),e).then((function(e){for(var a in t.maps){var i=t.maps[a];i.groups=[]}if(e.data&&e.data.length>0)for(var s in t.maps)for(var r=t.maps[s],n=0;n<e.data.length;n++){var o=e.data[n];if(o.permission===r.code){r.groups=o.groups;break}}t.GetTeamMembers()}))},GetTeamMembers:function(){var t=this;mt.get(t.urls.team_member_list.format(t.team)).then((function(e){if(e.data&&e.data&&e.data.length>0){for(var a=[],i=0;i<e.data.length;i++){var s=e.data[i];s.type="single_user",a.push(s)}for(var r in t.maps){var n=t.maps[r];n.members=a}}t.loaded=!0}))}},components:{PermissionHeader:Fs,PermissionItem:Zr}},cd=ld,dd=(a("9c06"),Object(T["a"])(cd,nd,od,!1,null,"9781bc10",null)),ud=dd.exports,pd={data:function(){return{currentTabComponent:rd,tagIndex:1}},components:{Control:Xc,List:rd},created:function(){var t=this,e=t.$route.params.type;t.tag_switch(e)},watch:{$route:function(){var t=this.$route.params.type;this.tag_switch(t)}},methods:{tag_switch:function(t){var e=this;switch(t){case"list":e.tagIndex=1,e.currentTabComponent=rd;break;case"permission":e.tagIndex=11,e.currentTabComponent=ud;break}}}},md=pd,fd=Object(T["a"])(md,Rc,Wc,!1,null,null,null),vd=fd.exports,hd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},xd=[],gd={data:function(){return{team:"",space:""}},created:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space,t.get_default_main_page()},methods:{get_default_main_page:function(){var t=this;mt.get(t.urls.default_main_page.format(t.team,t.space)).then((function(e){Qm.push({name:"Page",params:{team:t.team,space:t.space,page:e.data.uuid}})}))}}},_d=gd,yd=Object(T["a"])(_d,hd,xd,!1,null,null,null),bd=yd.exports,Sd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row",staticStyle:{flex:"1"}},[a("Catalog",{ref:"Catalog",attrs:{selected:t.selected}}),a("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[a("router-view")],1)],1)},wd=[],kd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-column r-line",attrs:{id:"catalog"}},[a("div",{staticClass:"flex-row align-items-center b-line",staticStyle:{flex:"0 0 40px"}},[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar",modifiers:{sidebar:!0}}],staticStyle:{flex:"0 0 auto","margin-left":"20px",outline:"none",cursor:"pointer"}},[a("b-icon",{attrs:{icon:"list",scale:"1.5"}})],1),a("div",{staticStyle:{flex:"1","margin-left":"10px","font-weight":"bold"}},[t._v(t._s(t.spaceName))]),a("div",{staticStyle:{flex:"0 0 auto","margin-right":"20px","box-shadow":"none",outline:"none",cursor:"pointer"},attrs:{id:"popover-space-settings",hidefocus:"true",tabindex:"0"}},[a("b-icon",{attrs:{icon:"gear-fill",scale:"1.2"}}),a("b-popover",{attrs:{target:"popover-space-settings",placement:"bottom",triggers:"focus"}},[a("div",{staticClass:"flex-column",attrs:{id:"center"}},[a("div",{staticClass:"menu-item"},[a("router-link",{attrs:{to:{name:"SpaceSettings",params:{team:t.team,space:t.space,type:"info"}}}},[t._v("页面组信息")])],1),a("div",{staticClass:"menu-item"},[a("router-link",{attrs:{to:{name:"SpaceSettings",params:{team:t.team,space:t.space,type:"permissions"}}}},[t._v("页面组权限")])],1),a("div",{staticClass:"menu-item"},[a("router-link",{attrs:{to:{name:"SpaceSettings",params:{team:t.team,space:t.space,type:"recycle"}}}},[t._v("回收站")])],1)])])],1)]),a("div",{staticStyle:{"overflow-y":"auto"}},[a("Drafts",{attrs:{drafts:t.drafts,selected:t.selected,team:t.team,space:t.space}}),a("div",{staticStyle:{padding:"0 20px"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto",margin:"20px 0 10px 0"}},[a("div",{staticStyle:{flex:"1",color:"#909090"}},[t._v("页面树")]),a("div",{staticStyle:{flex:"0 0 auto"}},[a("svg",{staticClass:"icon",attrs:{t:"1605536091310",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4339",width:"16",height:"16"}},[a("path",{attrs:{d:"M624.904671 1023.115112a27.162332 27.162332 0 0 1-18.711829-6.639682L354.488565 814.870566a30.783976 30.783976 0 0 1-13.88297-22.333473v-380.272649L14.054003 50.100016A29.576762 29.576762 0 0 1 11.035966 18.108825 30.783976 30.783976 0 0 1 38.801905 0.000604h942.834727a30.180369 30.180369 0 0 1 21.729865 51.306627l-348.281457 362.164427v582.481122a29.576762 29.576762 0 0 1-16.901007 27.162332 25.35151 25.35151 0 0 1-13.279362 0zM400.966333 778.050516l191.343539 152.712667V400.795903a28.973154 28.973154 0 0 1 8.450503-20.52265l307.839764-319.911911H106.405932l289.127934 320.515518a27.765939 27.765939 0 0 1 5.432467 19.919043z",fill:"#515151","p-id":"4340"}}),a("path",{attrs:{d:"M985.258276 519.706557h-193.154361a30.180369 30.180369 0 0 1-30.180369-30.180369 30.180369 30.180369 0 0 1 30.180369-30.180369h193.154361a30.783976 30.783976 0 0 1 30.180369 30.180369 30.180369 30.180369 0 0 1-30.180369 30.180369zM985.258276 648.878536h-193.154361a30.180369 30.180369 0 0 1-30.180369-30.180369 30.180369 30.180369 0 0 1 30.180369-30.180369h193.154361a30.180369 30.180369 0 0 1 30.180369 30.180369 30.783976 30.783976 0 0 1-30.180369 30.180369zM985.258276 777.446908h-193.154361a30.180369 30.180369 0 0 1 0-60.360738h193.154361a30.180369 30.180369 0 0 1 0 60.360738z",fill:"#515151","p-id":"4341"}})])])]),t.loaded?a("PageTree",{attrs:{tree:t.tree,selected:t.selected,team:t.team,space:t.space}}):t._e()],1),a("b-sidebar",{attrs:{id:"sidebar",title:"快速导航",width:"300px",backdrop:""}},[a("div",{staticStyle:{"border-top":"1px solid #dedede",padding:"0 20px"}},[a("div",{staticClass:"tool"},[a("div",{staticClass:"tool-header"},[t._v("工具")]),t._l(t.tools,(function(e){return a("div",{key:e.uuid,staticClass:"tool-item"},[a("router-link",{attrs:{to:{name:e.name,params:e.params}}},[t._v(t._s(e.title))])],1)}))],2),a("div",{staticClass:"tool"},[a("div",{staticClass:"tool-header"},[t._v("页面组")]),t._l(t.spaces,(function(e){return a("div",{key:e.uuid,staticClass:"tool-item",class:{active:e.uuid===t.space}},[a("router-link",{attrs:{to:{name:"Space",params:{team:t.team,space:e.uuid}}}},[t._v(t._s(e.title))])],1)}))],2)])])],1)])},Cd=[],jd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{padding:t.tree.padding?"0 0 0 10px":"0"}},[a("div",{staticClass:"page-item flex-row align-items-center",class:{active:t.tree.uuid===t.selected}},[t.tree.son&&t.tree.parent_uuid?a("div",{staticClass:"arrow flex-row align-items-center"},[t.tree.opened?a("div",{staticClass:"down",on:{click:function(e){t.tree.opened=!1}}}):a("div",{staticClass:"right",on:{click:function(e){t.tree.opened=!0}}})]):t.tree.parent_uuid?a("div",{staticStyle:{color:"#c0c0c0","padding-left":"10px"}},[a("b-icon",{attrs:{icon:"dot",scale:"2"}})],1):a("div",{staticStyle:{"padding-left":"10px"}},[a("svg",{staticClass:"icon",attrs:{t:"1605661940824",viewBox:"0 0 1152 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"177974",width:"16",height:"16"}},[a("path",{attrs:{d:"M1152 896a128 128 0 0 1-128 128H128a128 128 0 0 1-128-128V128a128 128 0 0 1 128-128h279.936a128 128 0 0 1 120.576 84.992l9.728 27.456H1024a128 128 0 0 1 127.68 118.528l0.32 9.536zM407.936 128H128v768h896V494.72H629.056a128 128 0 0 1-116.8-75.52l-3.84-9.408L408 128z m176 112.448l45.12 126.336L1024 366.72V240.512l-440.064-0.064z","p-id":"177975",fill:"#515151"}})])]),a("div",{staticStyle:{flex:"1",width:"0"},on:{click:function(e){t.tree.opened=!0}}},[a("router-link",{attrs:{to:{name:"Page",params:{team:t.team,space:t.space,page:t.tree.uuid}}}},[a("div",{staticClass:"flex-row align-items-center"},[a("div",{staticStyle:{overflow:"hidden","white-space":"nowrap","min-width":"0","text-overflow":"ellipsis","margin-left":"5px"}},[t._v(t._s(t.tree.title))])])])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tree.opened,expression:"tree.opened"}]},t._l(t.tree.pages,(function(e){return a("PageTree",{key:e.uuid,attrs:{tree:e,selected:t.selected,team:t.team,space:t.space}})})),1)])},$d=[],zd={name:"PageTree",data:function(){return{}},props:{tree:Object,team:String,space:String,selected:String},created:function(){},methods:{},components:{PageTree:Pd}},Ed=zd,Md=(a("142f"),Object(T["a"])(Ed,jd,$d,!1,null,"203e02a8",null)),Pd=Md.exports,Td=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.drafts&&t.drafts.length>0?a("div",{staticStyle:{padding:"20px 0 0 0"}},[t._m(0),a("div",{staticStyle:{padding:"0 20px"}},t._l(t.drafts,(function(e){return a("div",{key:e.uuid,staticClass:"page-item",class:{active:e.uuid===t.selected}},[a("router-link",{class:{unnamed:!e.title},attrs:{to:{name:"Draft",params:{team:t.team,space:t.space,draft:e.uuid}},title:1===e.status?"未发布":""}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1","padding-left":"10px"}},[a("div",{staticStyle:{flex:"1",overflow:"hidden","white-space":"nowrap","min-width":"0","text-overflow":"ellipsis"}},[t._v(" "+t._s(e.title||"未命名")+" ")]),1===e.status?a("div",{staticStyle:{flex:"0 0 auto",color:"#909090"}},[a("b-icon",{attrs:{icon:"cursor-fill"}})],1):t._e()])])],1)})),0)]):t._e()},Dd=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row",staticStyle:{flex:"0 0 auto",padding:"0 20px 10px 20px"}},[a("div",{staticStyle:{flex:"1",color:"#909090"}},[t._v("草稿箱")])])}],Id={data:function(){return{}},props:{team:String,space:String,drafts:Array,selected:{default:!1}}},Od=Id,Bd=Object(T["a"])(Od,Td,Dd,!1,null,"525a0310",null),Hd=Bd.exports,Ad={data:function(){return{team:"-",space:"-",spaces:[],tree:{},drafts:[],inside:!1,loaded:!1,spaceName:""}},props:{selected:String},mounted:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space,t.page=t.$route.params.page,t.draft_list(),t.page_tree_get(),t.space_list()},methods:{space_list:function(){var t=this;mt.get(t.urls.spaces.format(t.team)).then((function(e){t.spaces=e.data.spaces;for(var a=0;a<t.spaces.length;a++)if(t.spaces[a].uuid===t.space){t.spaceName=t.spaces[a].title;break}}))},page_tree_get:function(){var t=this;mt.get(t.urls.page_tree_get.format(t.team,t.space)).then((function(e){if(t.tree=e.data,t.tree.pages&&t.tree.pages.length>0)for(var a=0;a<t.tree.pages.length;a++){var i=t.tree.pages[a];if(t.find_page(i),t.inside)break}t.loaded=!0}))},draft_list:function(){var t=this;mt.get(t.urls.drafts.format(t.team,t.space)).then((function(e){t.drafts=e.data.drafts}))},find_page:function(t){var e=this;if(t.pages&&t.pages.length>0)for(var a=0;a<t.pages.length;a++){var i=t.pages[a];if(i.uuid===e.page?(t.opened=!0,e.inside=!0):e.find_page(i),e.inside)break}e.inside&&(t.opened=!0)}},components:{PageTree:Pd,Drafts:Hd},computed:{tools:function(){var t=this;return[{uuid:"wiki-setting",name:"WikiSetting",params:{team:t.team,type:"list"},title:"文档配置中心"}]}}},Ud=Ad,Ld=(a("44b2"),Object(T["a"])(Ud,kd,Cd,!1,null,"c36eca30",null)),Nd=Ld.exports,qd={data:function(){return{team:"",space:"",selected:"",item:{},loaded:!1}},watch:{$route:function(){var t=this;t.selectItem()}},created:function(){var t=this;t.selectItem()},methods:{selectItem:function(){var t=this;"Draft"===t.$route.name?t.selected!==t.$route.params.draft&&(t.selected=t.$route.params.draft):"Page"===t.$route.name&&t.selected!==t.$route.params.page&&(t.selected=t.$route.params.page)}},components:{Catalog:Nd}},Vd=qd,Fd=Object(T["a"])(Vd,Sd,wd,!1,null,null,null),Gd=Fd.exports,Rd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row",staticStyle:{flex:"1"}},[a("div",{staticClass:"app-main-container",staticStyle:{flex:"1"}},[t.loaded?a("Article",{ref:"Article",attrs:{item:t.item}}):t._e()],1),a("Dynamic",{ref:"dynamic"})],1)},Wd=[],Yd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-column l-line",attrs:{id:"dynamic"}},[a("div",{staticClass:"flex-row align-items-center b-line",staticStyle:{flex:"0 0 40px"}},[a("div",{staticStyle:{flex:"0 0 auto","margin-left":"20px",cursor:"pointer"}},[t._v("动态")]),a("div",{staticStyle:{flex:"1"}}),a("div",{staticStyle:{flex:"0 0 auto","margin-right":"20px"}},[a("b-icon",{attrs:{icon:"x",scale:"1.6"}})],1)]),a("div",{staticClass:"tab-title flex-row align-items-center b-line",staticStyle:{"margin-top":"10px","justify-content":"space-between"}},[a("div",{staticStyle:{flex:"1"}}),t._l(t.tabs,(function(e,i){return a("div",{key:i,class:{active:t.cur===i},on:{click:function(e){t.cur=i}}},[t._v(t._s(e))])})),a("div",{staticStyle:{flex:"1"}})],2),a("div",{staticClass:"flex-row",staticStyle:{padding:"20px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("b-icon",{attrs:{icon:"pencil-square"}})],1),t._m(0)])])},Jd=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","margin-left":"10px"}},[a("div",[a("span",{staticStyle:{color:"#000000","font-weight":"bold"}},[t._v("何敏")]),t._v("发布了页面")]),a("div",{staticStyle:{color:"#909090","font-size":"12px"}},[t._v("9月14日 早上06:42")])])}],Zd={data:function(){return{cur:0,tabs:["全部","评论","文件","变更记录"]}}},Kd=Zd,Qd=(a("0116"),Object(T["a"])(Kd,Yd,Jd,!1,null,"442cf06a",null)),Xd=Qd.exports,tu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-column",attrs:{id:"article"}},[a("div",{staticClass:"flex-row align-items-center b-line",staticStyle:{flex:"0 0 40px",padding:"0 20px"}},[a("div",{staticClass:"flex-row",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("b-icon",{attrs:{icon:"house-door-fill",scale:"1"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px"}},[t._v("主页")])]),a("div",{staticClass:"flex-row",staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("b-icon",{attrs:{icon:"pencil-square"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px"}},[a("router-link",{attrs:{to:{name:"EditPage",params:{team:t.team,space:t.space,page:t.item.uuid}}}},[t._v("编辑")])],1)])]),a("div",{staticClass:"flex-column",staticStyle:{flex:"1","background-color":"#ffffff",padding:"30px","overflow-y":"auto"}},[a("div",{staticStyle:{"font-size":"28px","font-weight":"800"}},[t._v(t._s(t.item.title))]),a("div",{staticStyle:{color:"#909090","margin-top":"5px"}},[t._v(t._s(t.user.name)+"于 "+t._s(t._f("formatTime")(t.item.updated_time))+" 修改")]),a("div",{staticClass:"ck-content",staticStyle:{"margin-top":"20px"},domProps:{innerHTML:t._s(t.item.content)}})])])},eu=[],au={data:function(){return{team:"-",space:"-",user:{}}},props:{item:Object},mounted:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space,t.user_get()},methods:{user_get:function(){var t=this;mt.get(t.urls.user_get.format(t.team,t.item.owner_uuid)).then((function(e){t.user=e.data}))}}},iu=au,su=(a("7807"),Object(T["a"])(iu,tu,eu,!1,null,"b6b4138e",null)),ru=su.exports,nu={data:function(){return{team:"",space:"",page:"",item:{},loaded:!1}},components:{Article:ru,Dynamic:Xd},watch:{$route:function(){var t=this;t.page!==t.$route.params.page&&(t.page=t.$route.params.page,t.page_get())}},mounted:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space,t.page=t.$route.params.page,t.page_get()},created:function(){},methods:{page_get:function(){var t=this;mt.get(t.urls.page_get.format(t.team,t.space,t.page)).then((function(e){t.item=e.data,t.loaded=!0}))}}},ou=nu,lu=Object(T["a"])(ou,Rd,Wd,!1,null,null,null),cu=lu.exports,du=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row",staticStyle:{flex:"1"}},[a("div",{staticClass:"app-main-container",staticStyle:{flex:"1"}},[t.loaded?a("Article",{ref:"Article",attrs:{item:t.item}}):t._e()],1)])},uu=[],pu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-column",attrs:{id:"article"}},[a("div",{staticClass:"flex-row align-items-center b-line",staticStyle:{flex:"0 0 40px",padding:"0 20px"}},[a("div",{staticClass:"flex-row",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("b-icon",{attrs:{icon:"house-door-fill",scale:"1"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px"}},[t._v("主页")])]),a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto"}},[a("div",{staticClass:"flex-row align-items-center op-article",staticStyle:{flex:"0 0 auto","margin-left":"10px"},on:{click:t.edit}},[a("div",{staticStyle:{flex:"0 0 auto",color:"inherit"}},[a("b-icon",{attrs:{icon:"pencil-square"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}},[t._v(" 编辑 ")])]),a("div",{staticClass:"flex-row align-items-center op-article",staticStyle:{flex:"0 0 auto","margin-left":"10px"},on:{click:t.del}},[a("div",{staticStyle:{flex:"0 0 auto",color:"inherit"}},[a("b-icon",{attrs:{icon:"x",scale:"1.5"}})],1),a("div",{staticStyle:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}},[t._v(" 删除草稿 ")])]),1===t.item.status?a("PublishButton",{staticStyle:{"margin-left":"10px"},attrs:{title:"发布"},on:{submit:t.update}}):t._e(),2===t.item.status?a("PublishButton",{staticStyle:{"margin-left":"10px"},attrs:{title:"更新"},on:{submit:t.update}}):t._e()],1)]),a("div",{staticClass:"flex-column",staticStyle:{flex:"1","background-color":"#ffffff",padding:"30px","overflow-y":"auto"}},[a("div",{class:{unnamed:!t.item.title},staticStyle:{"font-size":"28px","font-weight":"800"}},[t._v(t._s(t.item.title||"未命名"))]),a("div",{staticStyle:{color:"#909090","margin-top":"5px"}},[t._v("最后编辑于 "+t._s(t._f("formatTime")(t.item.updated_time)))]),a("div",{staticClass:"ck-content",staticStyle:{"margin-top":"20px"},domProps:{innerHTML:t._s(t.item.content)}})])])},mu=[],fu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"box-shadow":"none",outline:"none"}},[a("div",{staticClass:"button",class:{disabled:t.disabled,fill:t.fill},on:{click:t.onsubmit}},[t._v(t._s(t.title))])])},vu=[],hu={data:function(){return{}},props:{title:String,disabled:{default:!1},fill:{default:!0}},methods:{onsubmit:function(){var t=this;t.disabled||this.$emit("submit")}}},xu=hu,gu=(a("8195"),Object(T["a"])(xu,fu,vu,!1,null,"7ac762c0",null)),_u=gu.exports,yu={data:function(){return{team:"-",space:"-"}},props:{item:Object},mounted:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space},methods:{edit:function(){var t=this,e={team:t.team,space:t.space,draft:t.item.uuid};Qm.push({name:"EditDraft",params:e})},del:function(){var t=this;this.$bvModal.msgBoxConfirm("此操作不可撤销，是否确定？",{title:"删除草稿",okVariant:"danger",okTitle:"确定",cancelTitle:"取消",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){e&&mt.post(t.urls.draft_delete.format(t.team,t.space,t.item.uuid)).then((function(e){200===e.data.code&&Qm.push({name:"Space",params:{team:t.team,space:t.space}})}))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))},update:function(){var t=this,e={title:t.item.title,content:t.item.content,page_uuid:t.item.page_uuid,status:t.item.status,is_published:!0,space_uuid:t.space,from_version:t.item.from_version};mt.post(t.urls.page_draft_update.format(t.team,t.space,t.item.uuid),e).then((function(e){var a={team:t.team,space:t.space,page:e.data.page_uuid};Qm.push({name:"Page",params:a})}))}},components:{PublishButton:_u}},bu=yu,Su=(a("c5fa"),Object(T["a"])(bu,pu,mu,!1,null,"3e9869f0",null)),wu=Su.exports,ku={data:function(){return{team:"",space:"",page:"",draft:"",item:{},loaded:!1}},watch:{$route:function(){var t=this;t.draft!==t.$route.params.draft&&(t.draft=t.$route.params.draft,t.draft_get())}},components:{Article:wu},mounted:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space,t.page=t.$route.params.page,t.draft=t.$route.params.draft,t.draft_get()},created:function(){},methods:{draft_get:function(){var t=this;mt.get(t.urls.draft_get.format(t.team,t.space,t.draft)).then((function(e){t.item=e.data,t.page=e.data.page_uuid,t.loaded=!0}))}}},Cu=ku,ju=Object(T["a"])(Cu,du,uu,!1,null,null,null),$u=ju.exports,zu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("AddPage")},Eu=[],Mu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-column",staticStyle:{flex:"1","min-width":"1280px"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 40px","background-color":"#f8f8f8"}},[a("div",{staticStyle:{flex:"1"},attrs:{id:"toolbarContainer"}}),a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0 0 auto","margin-right":"20px"}},[a("div",{staticStyle:{"margin-right":"10px"}},[0===t.ing?a("div",{staticStyle:{color:"#909090"}},[t._v("即将保存...")]):1===t.ing?a("div",{staticStyle:{color:"#909090"}},[t._v("正在保存...")]):2===t.ing?a("div",{staticStyle:{color:"#909090"}},[t._v("草稿已保存")]):t._e()]),a("AddAndBackButton",{attrs:{title:"返回",fill:t.fill,disabled:t.list&&t.list.length>0},on:{submit:t.back}}),a("AddAndBackButton",{staticStyle:{"margin-left":"10px"},attrs:{title:"发布",disabled:t.list&&t.list.length>0},on:{submit:t.publish}})],1)]),a("div",{staticClass:"flex-row",staticStyle:{flex:"1","overflow-y":"auto","background-color":"#ffffff"},attrs:{id:"scrollable_container"}},[a("div",{staticClass:"flex-column",staticStyle:{flex:"1",height:"100%"}},[a("div",{staticStyle:{flex:"0 0 auto",padding:"20px 60px 0 60px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"title",attrs:{type:"text",placeholder:"我的标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),a("div",{staticClass:"flex-column",staticStyle:{flex:"1",padding:"0 60px 0 60px"},attrs:{id:"bodyContainer"}},[a("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},on:{ready:t.onReady},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)])])])},Pu=[],Tu={data:function(){return{team:"",space:"",page:"",title:"",fill:!1,list:[],draft:"",model:"",editor:En.a,editorConfig:{toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:"",options:{resourceType:"Images"}}},mod:"",loaded:!1,ing:-1,status:1,version:0}},watch:{model:function(){var t=this;t.loaded&&(t.ing=0,t.list.push(!0))},title:function(){var t=this;t.loaded&&(t.ing=0,t.list.push(!0))}},created:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space,t.mod=t.$route.name,t.editorConfig.ckfinder.uploadUrl=t.urls.upload.format(t.team),"EditDraft"===t.mod?(t.draft=t.$route.params.draft,t.draft_get()):"AddPage"===t.mod?(t.page=t.$route.params.page,t.$parent.page=t.page,t.loaded=!0):"EditPage"===t.mod&&(t.page=t.$route.params.page,t.$parent.page=t.page,t.status=2,t.page_get())},mounted:function(){var t=this;setInterval((function(){t.list.length>0&&1!==t.ing&&(t.ing=1,t.list.length=0,8===t.draft.length?t.update():t.save())}),3e3)},updated:function(){var t=this;t.loaded=!0},methods:{onReady:function(t){document.querySelector("#toolbarContainer").appendChild(t.ui.view.toolbar.element),document.querySelector("#bodyContainer").appendChild(t.ui.getEditableElement())},back:function(){var t=this;"EditDraft"===t.mod?Qm.push({name:"Draft",params:{team:t.team,space:t.space,draft:t.draft}}):("AddPage"===t.mod||"EditPage"===t.mod)&&Qm.push({name:"Page",params:{team:t.team,space:t.space,page:t.page}})},save:function(){var t=this,e={title:t.title,content:t.model,page_uuid:t.page,status:t.status,from_version:t.version};mt.post(t.urls.page_draft_add.format(t.team,t.space),e).then((function(e){t.draft=e.data.uuid,t.ing=2}))},update:function(){var t=this,e={title:t.title,content:t.model,page_uuid:t.page,status:t.status,is_published:!1,space_uuid:t.space,from_version:t.version};mt.post(t.urls.page_draft_update.format(t.team,t.space,t.draft),e).then((function(e){e.data&&e.data.draft_uuid&&(t.draft=e.data.draft_uuid),t.ing=2}))},publish:function(){var t=this,e={title:t.title,content:t.model,page_uuid:t.page,status:t.status,is_published:!0,space_uuid:t.space,from_version:t.version};mt.post(t.urls.page_draft_update.format(t.team,t.space,t.draft),e).then((function(e){var a={team:t.team,space:t.space,page:e.data.page_uuid};Qm.push({name:"Page",params:a})}))},draft_get:function(){var t=this;mt.get(t.urls.draft_get.format(t.team,t.space,t.draft)).then((function(e){t.title=e.data.title,t.model=e.data.content,t.draft=e.data.uuid,t.page=e.data.page_uuid,t.$parent.page=t.page}))},page_get:function(){var t=this;mt.get(t.urls.page_get.format(t.team,t.space,t.page)).then((function(e){e.data&&e.data.draft_uuid&&8===e.data.draft_uuid.length?(t.draft=e.data.draft_uuid,t.draft_get()):(t.title=e.data.title,t.model=e.data.content,t.version=e.data.version)}))}},components:{AddAndBackButton:_u}},Du=Tu,Iu=Object(T["a"])(Du,Mu,Pu,!1,null,null,null),Ou=Iu.exports,Bu={components:{AddPage:Ou}},Hu=Bu,Au=Object(T["a"])(Hu,zu,Eu,!1,null,null,null),Uu=Au.exports,Lu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("AddPage")},Nu=[],qu={data:function(){return{team:"",space:"",page:"",item:{},loaded:!1,pages:[],spaces:[]}},components:{AddPage:Ou},created:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space},computed:{},methods:{}},Vu=qu,Fu=Object(T["a"])(Vu,Lu,Nu,!1,null,null,null),Gu=Fu.exports,Ru=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row",staticStyle:{flex:"1"}},[a("div",{staticClass:"space-group-setting",staticStyle:{flex:"0 0 300px",padding:"20px 0 0 20px"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"0",width:"100%","margin-bottom":"10px",cursor:"pointer"},on:{click:t.toSpace}},[a("div",{staticStyle:{color:"#444444"}},[a("b-icon",{attrs:{icon:"arrow-left-circle-fill",scale:"1.5"}})],1),a("div",{staticStyle:{"margin-left":"10px","font-size":"18px"}},[t._v(" 文档配置中心 ")])]),a("div",{class:{active:1===t.tagIndex}},[a("router-link",{attrs:{to:{name:"SpaceSettings",params:{team:t.team,space:t.space,type:"info"}}}},[t._v("页面组信息")])],1),a("div",{class:{active:2===t.tagIndex}},[a("router-link",{attrs:{to:{name:"SpaceSettings",params:{team:t.team,space:t.space,type:"permissions"}}}},[t._v("页面组权限")])],1),a("div",{class:{active:3===t.tagIndex}},[a("router-link",{attrs:{to:{name:"SpaceSettings",params:{team:t.team,space:t.space,type:"recycle"}}}},[t._v("回收站")])],1)]),a("div",{staticClass:"flex-column",staticStyle:{"overflow-y":"auto","min-height":"100%",flex:"1","padding-left":"2px"}},[a(t.currentTabComponent,{tag:"component"})],1)])},Wu=[],Yu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox",staticStyle:{width:"960px",flex:"1",margin:"20px 0"}},[a("div",{staticClass:"b-line padding20",staticStyle:{flex:"0 0 auto","font-size":"18px"}},[t._v("页面组管理")]),a("div",{staticStyle:{padding:"20px 30px 0 30px"}},[a("div",{staticStyle:{"margin-top":"6px",width:"300px"}},[a("b-form-group",{staticClass:"required",attrs:{label:"页面组名称","label-for":"input-title"}},[a("b-form-input",{attrs:{id:"input-title",required:""},on:{change:t.change,keydown:t.change},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("b-form-group",{attrs:{label:"页面组描述","label-for":"textarea-description"}},[a("b-form-textarea",{attrs:{id:"textarea-description"},on:{change:t.change,keydown:t.change},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),a("div",{staticClass:"flex-row",staticStyle:{"margin-top":"20px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("SaveButton",{attrs:{disabled:t.disabled,title:"更新信息"},on:{submit:t.update}})],1),a("div",{staticStyle:{flex:"1"}}),a("div",{staticStyle:{flex:"0 0 auto"}},[a("b-button",{attrs:{variant:"danger"}},[t._v("删除页面组")])],1)])])])},Ju=[],Zu={data:function(){return{team:"",space:"",title:"",description:"",disabled:!0}},mounted:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space,t.space_get()},methods:{space_get:function(){var t=this;mt.get(t.urls.space_get.format(t.team,t.space)).then((function(e){t.title=e.data.title,t.description=e.data.description}))},change:function(){var t=this;t.disabled=!1},update:function(){var t=this;mt.post(t.urls.space_update.format(t.team,t.space),{title:t.title,description:t.description}).then((function(e){200===e.data.code&&(t.disabled=!0,t.bus.$emit("alertSuccess","更新成功"))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))}},components:{SaveButton:xe}},Ku=Zu,Qu=Object(T["a"])(Ku,Yu,Ju,!1,null,null,null),Xu=Qu.exports,tp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox",staticStyle:{width:"960px",flex:"1",margin:"20px 0"}},[a("PermissionHeader",{attrs:{title:"页面组权限"}}),a("div",{staticClass:"flex-column",staticStyle:{padding:"0 20px 20px 20px",flex:"1"}},[t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.view}}):t._e(),t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.create}}):t._e(),t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.manage}}):t._e()],1)],1)},ep=[],ap={data:function(){return{team:"",space:"",project:"",maps:{view:{code:2003,permission:"view_page",title:"阅览与反馈",desc:"允许用户进入页面组并查看页面",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},create:{code:2002,permission:"create_page",title:"编辑内容",desc:"允许用户新建、编辑、删除页面",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},manage:{code:2001,permission:"manage_space",title:"管理页面组",desc:"允许用户使用页面组控制台，管理页面回收站",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1}},mounted:function(){var t=this;t.data={permission_rule:{context_type:"space",context_param:{space_uuid:t.space}}}},created:function(){var t=this;t.space=t.$route.params.space,t.team=t.$route.params.team,t.GetUserDomainGroups()},methods:{GetUserDomainGroups:function(){var t=this,e=[];for(var a in t.maps)e.push(t.maps[a].code);mt.post(t.urls.space_user_domain_group.format(t.team,t.space),e).then((function(e){for(var a in t.maps){var i=t.maps[a];i.groups=[]}if(e.data&&e.data.length>0)for(var s in t.maps)for(var r=t.maps[s],n=0;n<e.data.length;n++){var o=e.data[n];if(o.permission===r.code){r.groups=o.groups;break}}t.GetTeamMembers()}))},GetTeamMembers:function(){var t=this;mt.get(t.urls.team_member_list.format(t.team)).then((function(e){if(e.data&&e.data&&e.data.length>0){for(var a=[],i=0;i<e.data.length;i++){var s=e.data[i];s.type="single_user",a.push(s)}for(var r in t.maps){var n=t.maps[r];n.members=a}}t.loaded=!0}))}},components:{PermissionHeader:Fs,PermissionItem:Zr}},ip=ap,sp=Object(T["a"])(ip,tp,ep,!1,null,"fbf22422",null),rp=sp.exports,np=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},op=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox",staticStyle:{width:"960px",flex:"1",margin:"20px 0"}},[a("div",{staticClass:"b-line padding20",staticStyle:{flex:"0 0 auto","font-size":"18px"}},[t._v("回收站")])])}],lp={data:function(){return{}},mounted:function(){},methods:{}},cp=lp,dp=Object(T["a"])(cp,np,op,!1,null,"2dbf1adb",null),up=dp.exports,pp={data:function(){return{team:"",space:"",page:"",currentTabComponent:Xu,tagIndex:1}},watch:{$route:function(){var t=this.$route.params.type;this.tag_switch(t)}},components:{info:Xu,permissions:rp,recycle:up},created:function(){var t=this;t.team=t.$route.params.team,t.space=t.$route.params.space;var e=this.$route.params.type;t.tag_switch(e),t.page_get()},methods:{tag_switch:function(t){var e=this;switch(t){case"info":e.tagIndex=1,e.currentTabComponent=Xu;break;case"permissions":e.tagIndex=2,e.currentTabComponent=rp;break;case"recycle":e.tagIndex=3,e.currentTabComponent=up;break}},page_get:function(){var t=this;mt.get(t.urls.default_main_page.format(t.team,t.space)).then((function(e){t.page=e.data.uuid}))},toSpace:function(){var t=this;Qm.push({name:"Space",params:{team:t.team,space:t.space}})}}},mp=pp,fp=(a("8b98"),Object(T["a"])(mp,Ru,Wu,!1,null,"6c276192",null)),vp=fp.exports,hp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-main-no-border flex-column"},[a("div",{staticClass:"flex-row",staticStyle:{height:"100%",flex:"1"}},[a("Control",{attrs:{tagIndex:t.tagIndex},on:{tag_switch:t.tag_switch}}),a(t.currentTabComponent,{tag:"component"})],1)])},xp=[],gp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"project-setting-menu"}},[a("div",{staticStyle:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},[t._v("配置中心")]),a("div",{staticStyle:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},[t._v("信息")]),a("div",{class:{active:1===t.tagIndex}},[a("router-link",{attrs:{to:{name:"TeamSetting",params:{team:t.team,type:"info"}}}},[t._v("团队信息")])],1),a("div",{staticStyle:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},[t._v("成员")]),a("div",{class:{active:11===t.tagIndex}},[a("router-link",{attrs:{to:{name:"TeamSetting",params:{team:t.team,type:"department"}}}},[t._v("成员管理")])],1),a("div",{staticStyle:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},[t._v("权限")]),a("div",{class:{active:21===t.tagIndex}},[a("router-link",{attrs:{to:{name:"TeamSetting",params:{team:t.team,type:"permission"}}}},[t._v("团队权限")])],1)])},_p=[],yp={data:function(){return{team:"-"}},mounted:function(){var t=this;t.team=t.$route.params.team},created:function(){},props:["tagIndex"],methods:{}},bp=yp,Sp=(a("7bbc"),Object(T["a"])(bp,gp,_p,!1,null,"27bef291",null)),wp=Sp.exports,kp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox",staticStyle:{"max-width":"1200px",flex:"1","min-height":"100%"}},[a("ProjectMangeHeader",{attrs:{title:"团队信息",desc:""}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("b-container",{staticStyle:{"margin-top":"40px"},attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"1"}},[a("label",[t._v("名字")])]),a("b-col",{attrs:{sm:"5"}},[a("b-form-input",{on:{change:t.name_change,keydown:t.name_change},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1)],1),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"1"}},[a("label",[t._v("头像")])]),a("b-col",{attrs:{sm:"6"}},[a("div",[a("div",{staticClass:"avatar-upload"},[a("img",{staticStyle:{"max-height":"100px",border:"1px solid #e7ecf1"},attrs:{src:"/images/logo.png"}}),a("input",{attrs:{type:"file"}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.avatar,expression:"avatar"}],staticClass:"form-control",attrs:{type:"hidden",name:"avatar",placeholder:"头像"},domProps:{value:t.avatar},on:{input:function(e){e.target.composing||(t.avatar=e.target.value)}}})])])],1),a("b-row",[a("b-col",{attrs:{sm:"1"}}),a("b-col",{staticStyle:{color:"#909090"}},[t._v("*建议上传长度为 200px，高度为 52px，背景透明的 PNG 格式图片。")])],1)],1),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{sm:"1"}}),a("b-col",[a("UpdateButton",{attrs:{disabled:t.disabled,title:"更新信息"},on:{submit:t.update}})],1)],1)],1)],1)],1)},Cp=[],jp={data:function(){return{team:"",name:"",avatar:"",disabled:!0}},mounted:function(){var t=this;t.team=t.$route.params.team,t.team_get()},methods:{team_get:function(){var t=this;mt.get(t.urls.team_get.format(t.team)).then((function(e){t.name=e.data.name}))},name_change:function(){var t=this;t.disabled=!1},update:function(){var t=this;mt.post(t.urls.team_update.format(t.team,t.project),{name:t.name,uuid:t.project}).then((function(e){200===e.data.code&&(t.disabled=!0,t.bus.$emit("alertSuccess","更新成功"))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))}},components:{UpdateButton:xe,ProjectMangeHeader:Fs}},$p=jp,zp=(a("ade0"),Object(T["a"])($p,kp,Cp,!1,null,"adb3a45c",null)),Ep=zp.exports,Mp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"teamDepartmentTree"},[a("div",{staticClass:"left-team-tree ibox"},[a("div",{staticStyle:{"font-size":"18px","margin-bottom":"20px",flex:"0 0 auto",padding:"20px 0 0 20px"}},[t._v("组织架构")]),a("div",{staticStyle:{"padding-right":"10px"}},[t.departmentTree&&t.departmentTree.opened?a("DepartmentTree",{attrs:{tree:t.departmentTree,selected:t.departmentUUID,team:t.team},on:{open:t.fn_show}}):t._e()],1)]),a("div",{staticClass:"right-member-list ibox"},[t._m(0),a("div",{staticClass:"flex-row",staticStyle:{flex:"0 0 auto","margin-bottom":"20px"}},[a("div",{staticStyle:{flex:"1"}},[a("Search",{attrs:{placeholder:"输入用户名，邮箱查找成员"}})],1),a("InviterUser")],1),a("div",{staticClass:"member-left"},[a("div",{staticClass:"memberList"},[a("div",{staticClass:"ui-table"},[a("b-table",{attrs:{fields:t.fields,items:t.members,striped:""},scopedSlots:t._u([{key:"cell(name)",fn:function(t){return[a("User",{attrs:{user:t.item}})]}},{key:"cell(email)",fn:function(e){return[a("div",{staticStyle:{"min-width":"120px"}},[t._v(t._s(e.value))])]}},{key:"cell(phone)",fn:function(e){return[a("div",{staticStyle:{"min-width":"120px"}},[t._v(t._s(e.value))])]}},{key:"cell(verify_status)",fn:function(e){return[a("div",{staticStyle:{"min-width":"80px"}},[t._v(t._s(e.value))])]}},{key:"cell(create_time)",fn:function(e){return[a("div",{staticStyle:{"min-width":"120px"}},[t._v(t._s(t._f("formatDate")(e.value)))])]}},{key:"cell(access_time)",fn:function(e){return[a("div",{staticStyle:{"min-width":"120px"}},[t._v(t._s(t._f("formatDate")(e.value)))])]}},{key:"cell(op)",fn:function(e){return[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.member-sidebar",modifiers:{"member-sidebar":!0}}],staticStyle:{cursor:"pointer","box-shadow":"none",outline:"none"},on:{click:function(a){return t.setValue(e.item)}}},[a("b-icon",{attrs:{icon:"pencil-square"}})],1)]}}])})],1)])])]),a("MemberSideBar",{attrs:{modifyMember:t.modifyMember}})],1)},Pp=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{"font-size":"18px","margin-bottom":"20px"}},[t._v("成员列表")])])}],Tp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-left":"10px",flex:"0 0 auto","text-align":"right"}},[a("AddProjectButton",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-inviter-user",modifiers:{"modal-inviter-user":!0}}],attrs:{title:"邀请新成员"}}),a("b-modal",{ref:"modalUser",attrs:{size:"lg",id:"modal-inviter-user",title:"邀请新用户","no-close-on-backdrop":"","cancel-title":"取消","ok-title":"确定",centered:!0},on:{show:t.resetModal,hidden:t.resetModal,ok:t.inviterUser}},[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticStyle:{height:"40px","margin-bottom":"10px","border-top":"1px solid #e8e8e8","border-bottom":"1px solid #e8e8e8","border-left":"3px solid #f0ad4e","border-right":"1px solid #e8e8e8"}},[a("div",{staticStyle:{flex:"1","align-items":"center",height:"100%",display:"flex","margin-left":"20px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(" 可以将新的部门添加到任何的一个部门下面作为子部门，或者添加到团队下面作为一级部门。 ")])])]),a("div",{staticClass:"flex-row",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"1"}},[a("b-form-group",{attrs:{label:"邮箱","label-for":"email"}},[a("b-form-input",{attrs:{id:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)])])])],1)},Dp=[],Ip={data:function(){return{email:"",emailState:null}},components:{AddProjectButton:xe},created:function(){},methods:{checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},resetModal:function(){this.email="",this.emailState=null},inviterUser:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;this.checkFormValidity()&&(this.add_user(),this.$nextTick((function(){t.$bvModal.hide("modal-inviter-user")})))},add_user:function(){var t=this;t.team=t.$route.params.team;var e={email:t.email};mt.post(t.urls.team_member_add.format(t.team),e).then((function(e){200===e.data.code&&t.$parent.get_team_members()})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))}}},Op=Ip,Bp=Object(T["a"])(Op,Tp,Dp,!1,null,null,null),Hp=Bp.exports,Ap=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"0 0 0 10px"}},[a("div",{staticClass:"department-item flex-row align-items-center",class:{active:t.tree.uuid===t.selected}},[t.tree.children&&t.tree.children.length>0?a("div",{staticClass:"flex-row align-items-center"},[t.tree.opened?a("div",{staticClass:"down",on:{click:function(e){t.tree.opened=!1}}}):a("div",{staticClass:"right",on:{click:function(e){t.tree.opened=!0}}})]):a("div",{staticStyle:{color:"#c0c0c0","padding-left":"10px"}},[a("b-icon",{attrs:{icon:"dot",scale:"2"}})],1),a("div",{staticStyle:{flex:"1",width:"0"}},[a("div",{staticClass:"flex-row align-items-center",on:{mouseover:function(e){t.overUUID=t.tree.uuid},mouseleave:function(e){t.overUUID=""}}},[a("div",{staticStyle:{"padding-left":"5px"}},[a("svg",{staticClass:"icon",attrs:{"data-v-e9f5f316":"",t:"1602580577253",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"37322",width:"20",height:"20"}},[a("path",{attrs:{"data-v-e9f5f316":"",d:"M455.224889 171.406222c12.572444 33.223111 48.014222 56.092444 84.935111 57.571556H910.222222c31.004444 0 56.888889 26.567111 56.888889 57.628444v515.470222a58.026667 58.026667 0 0 1-56.888889 57.628445H114.062222c-31.061333 0-56.888889-26.624-56.888889-57.628445V171.406222a58.026667 58.026667 0 0 1 56.888889-57.628444h284.330667m0 0.739555c27.306667 1.479111 49.493333 34.702222 56.888889 57.628445",fill:"#cdcdcd","p-id":"37323"}})])]),a("div",{staticClass:"name",staticStyle:{overflow:"hidden","white-space":"nowrap","min-width":"0","text-overflow":"ellipsis","margin-left":"5px",flex:"1"}},[t._v(t._s(t.tree.name))])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tree.opened,expression:"tree.opened"}]},t._l(t.tree.children,(function(e){return a("DepartmentTree",{key:e.uuid,attrs:{tree:e,selected:t.selected,team:t.team}})})),1)])},Up=[],Lp={name:"DepartmentTree",data:function(){return{overUUID:""}},props:{tree:Object,team:String,selected:String},components:{DepartmentTree:Vp}},Np=Lp,qp=Object(T["a"])(Np,Ap,Up,!1,null,null,null),Vp=qp.exports,Fp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-sidebar",{attrs:{"header-class":"modify",id:"member-sidebar",title:"编辑状态",width:"500px",backdrop:"",right:"",shadow:""},model:{value:t.member_sidebar_show,callback:function(e){t.member_sidebar_show=e},expression:"member_sidebar_show"}},[a("div",{staticClass:"px-3 py-2 flex-column",staticStyle:{"border-top":"1px solid #e8e8e8",height:"100%"}},[a("div",{staticStyle:{"margin-top":"20px",flex:"1"}},[a("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2",label:"名字","label-for":"input-sm"}},[a("b-form-input",{attrs:{id:"input-sm"},model:{value:t.memberName,callback:function(e){t.memberName=e},expression:"memberName"}})],1),a("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2",label:"E-mail","label-for":"input-default"}},[a("b-form-input",{attrs:{id:"input-default"},model:{value:t.memberEmail,callback:function(e){t.memberEmail=e},expression:"memberEmail"}})],1),a("b-form-group",{attrs:{"label-cols":"4","label-cols-lg":"2",label:"状态"}},[a("b-form-select",{attrs:{options:t.options},model:{value:t.verify_status,callback:function(e){t.verify_status=e},expression:"verify_status"}})],1)],1),a("div",{staticClass:"flex-row",staticStyle:{flex:"0 0 auto","border-top":"1px solid #e8e8e8",padding:"10px 0 0 0"}},[a("div",{staticStyle:{flex:"1"}},[a("b-button",{attrs:{variant:"success"},on:{click:t.save}},[t._v("更新信息")])],1),a("div",{staticStyle:{flex:"0 0 auto"}},[a("b-button",{attrs:{variant:"danger"},on:{click:t.del}},[t._v("删除成员")])],1)])])])],1)},Gp=[],Rp={data:function(){return{name:"",memberUUID:"",memberName:"",memberEmail:"",verify_status:"",member_sidebar_show:!1,options:[{value:1,text:"通过"},{value:2,text:"待通过"}]}},props:{modifyMember:Object},watch:{modifyMember:function(t){var e=this;e.memberUUID=t.uuid,e.memberName=t.name,e.memberEmail=t.email,e.verify_status=t.verify_status}},methods:{save:function(){var t=this;t.member_sidebar_show=!1;var e=t.$route.params.department;"all"===e?t.$parent.get_team_members():t.$parent.get_depart_members()},del:function(){var t=this;this.$bvModal.msgBoxConfirm("仅仅将成员从部门删除，是否确定？",{title:"删除成员",okVariant:"danger",okTitle:"确定",cancelTitle:"取消",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){e&&mt.post(t.urls.team_member_delete.format(t.team),{uuid:t.selected}).then((function(e){200===e.data.code&&(t.member_sidebar_show=!1,t.$parent.get_department_tree(),t.$parent.get_team_members())}))})).catch((function(e){t.bus.$emit("alertDanger",e.response.data.errcode)}))}}},Wp=Rp,Yp=Object(T["a"])(Wp,Fp,Gp,!1,null,null,null),Jp=Yp.exports,Zp={data:function(){return{team:"",departmentOption:[],departmentTree:{},fields:[{key:"name",label:"用户名"},{key:"email",label:"邮箱"},{key:"phone",label:"电话"},{key:"verify_status",label:"状态"},{key:"create_time",label:"创建时间"},{key:"access_time",label:"最后访问时间"},{key:"op",label:"操作"}],items:[],nameState:null,selectedDepartment:"",email:"",show:!1,modifyMember:{},modify_title:"",departmentUUID:"all",inside:!1,departMembers:[]}},components:{Search:Zi,InviterUser:Hp,User:as,DepartmentTree:Vp,MemberSideBar:Jp},watch:{$route:function(){var t=this;"all"===t.departmentUUID?(t.get_department_tree(),t.get_team_members()):t.get_depart_members()}},created:function(){var t=this;t.team=t.$route.params.team,t.get_department_tree(),t.get_team_members(),"all"!==t.departmentUUID&&t.get_depart_members()},methods:{get_department_tree:function(){var t=this;mt.get(t.urls.department_tree.format(t.team)).then((function(e){t.set_opened_attr(e.data),t.find_department(e.data),e.data.opened=!0,t.departmentTree=e.data}))},set_opened_attr:function(t){var e=this;if(t.opened=!1,t.children&&t.children.length>0)for(var a=0;a<t.children.length;a++)e.set_opened_attr(t.children[a])},find_department:function(t){var e=this;if(t.children&&t.children.length>0)for(var a=0;a<t.children.length;a++){var i=t.children[a];if(i.uuid===e.departmentUUID?(t.opened=!0,e.inside=!0):e.find_department(i),e.inside)break}e.inside&&(t.opened=!0)},get_team_members:function(){var t=this;mt.get(t.urls.team_member_list.format(t.team)).then((function(e){t.items=e.data}))},get_depart_members:function(){var t=this;mt.get(t.urls.department_member_list.format(t.team,t.departmentUUID)).then((function(e){t.departMembers=e.data}))},setValue:function(t){var e=this;e.modifyMember=t},fn_show:function(){var t=this;t.show=!0}},computed:{members:function(){var t=this;return"all"===t.departmentUUID?t.items:t.departMembers}}},Kp=Zp,Qp=(a("08f2"),Object(T["a"])(Kp,Mp,Pp,!1,null,"d2303b34",null)),Xp=Qp.exports,tm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox",staticStyle:{"max-width":"1200px",flex:"1 1 auto","min-height":"100%"}},[a("PermissionHeader",{attrs:{title:"团队权限",desc:"团队权限可以用于管理团队成员。"}}),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.invite}}):t._e(),t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.team}}):t._e(),t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.do}}):t._e(),t.loaded?a("PermissionItem",{attrs:{role_members:t.role_members,data:t.data,group:t.maps.wiki}}):t._e()],1)],1)},em=[],am={data:function(){return{team:"",project:"",maps:{invite:{code:4,permission:"invite_member",title:"邀请团队成员",desc:"允许用户邀请新的团队成员，并在顶栏显示邀请团队成员的快捷入口",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},team:{code:1,permission:"administer_team",title:"团队管理员",desc:"超级管理员权限，可以更改团队信息和团队权限",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},do:{code:2,permission:"administer_do",title:"「项目配置中心」管理员",desc:"针对项目管理，可以对项目进行全局配置",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},wiki:{code:3,permission:"administer_wiki",title:"「文档配置中心」管理员",desc:"针对文档中心，可以对文档进行全局配置",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1}},mounted:function(){var t=this;t.data={permission_rule:{context_type:"team"}}},created:function(){var t=this;t.team=t.$route.params.team,t.GetUserDomainGroups()},methods:{GetUserDomainGroups:function(){var t=this,e=[];for(var a in t.maps)e.push(t.maps[a].code);mt.post(t.urls.team_permission_rules.format(t.team),e).then((function(e){for(var a in t.maps){var i=t.maps[a];i.groups=[]}if(e.data&&e.data.length>0)for(var s in t.maps)for(var r=t.maps[s],n=0;n<e.data.length;n++){var o=e.data[n];if(o.permission===r.code){r.groups=o.groups;break}}t.GetTeamMembers()}))},GetTeamMembers:function(){var t=this;mt.get(t.urls.team_member_list.format(t.team)).then((function(e){if(e.data&&e.data&&e.data.length>0){for(var a=[],i=0;i<e.data.length;i++){var s=e.data[i];s.type="single_user",a.push(s)}for(var r in t.maps){var n=t.maps[r];n.members=a}}t.loaded=!0}))}},components:{PermissionHeader:Fs,PermissionItem:Zr}},im=am,sm=Object(T["a"])(im,tm,em,!1,null,"a20b471e",null),rm=sm.exports,nm={data:function(){return{currentTabComponent:Ep,tagIndex:1}},components:{Control:wp,Info:Ep,Member:Xp,Permission:rm},created:function(){var t=this,e=t.$route.params.type;t.tag_switch(e)},watch:{$route:function(){var t=this.$route.params.type;this.tag_switch(t)}},methods:{tag_switch:function(t){var e=this;switch(t){case"info":e.tagIndex=1,e.currentTabComponent=Ep;break;case"department":e.tagIndex=11,e.currentTabComponent=Xp;break;case"permission":e.tagIndex=21,e.currentTabComponent=rm;break}}}},om=nm,lm=Object(T["a"])(om,hp,xp,!1,null,"04fc15a7",null),cm=lm.exports,dm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"flex","flex-direction":"row",height:"100%"}},[a(t.currentTabComponent,{tag:"component"})],1)},um=[],pm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox padding20",staticStyle:{"max-width":"1200px",flex:"1 1 auto","min-height":"100%"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{"padding-bottom":"10px"}},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("router-link",{attrs:{to:{name:"IssueTypeSettingManager",params:{team:t.team}}}},[a("span",{staticStyle:{"font-size":"18px"}},[t._v("工作项类型")])])],1),a("div",{staticStyle:{"margin-left":"10px",flex:"0 0 auto"}},[a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])])]),a("div",{staticStyle:{"margin-left":"10px",flex:"0 0 auto","font-size":"18px",color:"#909090"}},[t._v(t._s(t.title))])]),a("div",{staticStyle:{border:"1px solid #dedede","margin-top":"20px",cursor:"pointer"}},[a("div",{staticStyle:{display:"flex","flex-direction":"row",padding:"20px"},on:{click:function(e){return t.goto("field")}}},[a("div",{staticStyle:{flex:"0 0 auto",width:"30px","padding-top":"5px"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[a("svg",{staticClass:"icon",attrs:{t:"1600923190201",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8255",width:"16",height:"16"}},[a("path",{attrs:{d:"M488.496187 960.193409H80.458195V63.659232h745.638222v327.579795c0 16.356886 13.26234 29.619226 29.619226 29.619226s29.619226-13.26234 29.619225-29.619226V34.187365c0-7.957404-3.094546-15.325371-8.6942-20.925025-5.599655-5.599655-12.967621-8.694201-20.925025-8.694201H50.83897C43.028925 4.568139 35.513599 7.662685 29.913944 13.26234 24.31429 18.861995 21.367103 26.229961 21.367103 34.187365v955.62527c0 7.810045 3.094546 15.47273 8.694201 20.925025 5.599655 5.599655 12.967621 8.694201 20.925025 8.694201h437.657217c16.356886 0 29.619226-13.26234 29.619226-29.619226-0.147359-16.356886-13.409699-29.619226-29.766585-29.619226z",fill:"#707070","p-id":"8256"}}),a("path",{attrs:{d:"M460.055835 577.943301c-11.346669-37.134552-45.828752-62.775076-84.878975-62.775075s-73.384947 25.640524-84.878975 62.775075H156.495611c-16.356886 0-29.619226 13.26234-29.619226 29.619226 0 16.356886 13.26234 29.619226 29.619226 29.619226h136.307382c13.557059 33.450568 46.27083 55.701828 82.373867 55.701827s68.816808-22.251259 82.373867-55.701827h171.820981c16.356886 0 29.619226-13.26234 29.619226-29.619226 0-16.356886-13.26234-29.619226-29.619226-29.619226H460.055835z m-55.11239 26.082602c0 16.356886-13.26234 29.619226-29.766585 29.766585C358.819974 633.645129 345.557634 620.382789 345.557634 604.025903s13.26234-29.766585 29.766585-29.766585c7.957404 0 15.325371 3.094546 20.925025 8.6942 5.599655 5.599655 8.694201 13.114981 8.694201 21.072385zM156.495611 254.931645h137.633616c14.293855 32.124334 45.828752 52.754641 81.047633 52.754641s66.753778-20.630307 81.047633-52.754641h293.687149c10.462513 0 20.335588-5.599655 25.640524-14.735933 5.304936-9.136279 5.304936-20.482947 0-29.619226-5.304936-9.136279-15.030652-14.735933-25.640524-14.735933H460.939991c-10.315153-38.313426-45.828752-65.869622-85.763131-65.869622s-75.447978 27.408836-85.763131 65.869622H156.495611c-10.462513 0-20.335588 5.599655-25.640524 14.735933-5.304936 9.136279-5.304936 20.482947 0 29.619226 5.304936 8.988919 15.178011 14.735933 25.640524 14.735933zM345.557634 218.681249c0-16.356886 13.26234-29.619226 29.766585-29.619226 7.957404 0 15.325371 3.094546 20.925025 8.694201 5.599655 5.599655 8.694201 13.114981 8.694201 20.925025 0 16.356886-13.26234 29.619226-29.766585 29.766585-16.356886 0-29.619226-13.409699-29.619226-29.766585zM1000.717226 560.5549c-1.326234-7.810045-5.452295-14.588574-11.936106-19.304073l-122.602965-88.12088c-6.483811-4.568139-14.293855-6.483811-22.1039-5.157577-7.810045 1.326234-14.588574 5.452295-19.304072 11.936106L592.973953 782.478054c-2.505109 3.389265-4.126061 7.367967-5.010217 11.494028L551.860699 973.455749c-2.357749 11.346669 2.357749 23.135415 11.788747 29.913944 5.157577 3.683983 11.199309 5.599655 17.241042 5.599655 5.157577 0 10.167794-1.326234 14.735933-3.978702l158.706001-91.362786c3.683983-2.063031 6.778529-4.862858 9.283638-8.399482l231.943589-322.569578c4.568139-6.483811 6.483811-14.293855 5.157577-22.1039z m-70.437761 11.494028L719.260901 865.441358 622.740538 920.995827l21.956541-109.193265 211.018564-293.392431 74.563822 53.638797zM770.984026 437.362498c5.599655-5.599655 8.694201-12.967621 8.694201-20.925025 0-7.957404-3.094546-15.325371-8.694201-20.925025-5.599655-5.599655-12.967621-8.694201-20.925025-8.694201h-126.581666c-10.904591-38.018708-45.534034-64.248669-85.321054-64.248669s-74.416463 26.229961-85.321053 64.248669H156.495611c-16.356886 0-29.619226 13.26234-29.619226 29.619226 0 16.356886 13.26234 29.619226 29.619226 29.619226h300.0236c13.851777 32.566412 46.27083 54.228234 81.78443 54.228234 35.36624 0 67.785293-21.661822 81.63707-54.228234h130.11829c7.810045 0 15.325371-3.094546 20.925025-8.694201z m-232.827745 3.683984c-16.356886 0-29.619226-13.409699-29.766585-29.766586 0-16.356886 13.409699-29.619226 29.766585-29.619225s29.619226 13.409699 29.766586 29.619225c0 16.504245-13.409699 29.766585-29.766586 29.766586z",fill:"#707070","p-id":"8257"}})])])]),t._m(0),a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle",height:"100%"}},[a("svg",{staticClass:"icon",attrs:{t:"1600923455010",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"12893",width:"16",height:"16"}},[a("path",{attrs:{d:"M229.266979 1023.317894a59.002187 59.002187 0 0 0 36.492682-12.789492l565.466042-454.282731a58.32008 58.32008 0 0 0 0-90.890651L268.317559 12.948081a58.32008 58.32008 0 0 0-72.985364 90.890652l506.463856 406.876349L192.774297 921.001963a58.32008 58.32008 0 0 0 36.492682 102.315931z","p-id":"12894",fill:"#707070"}})])])])]),a("div",{staticStyle:{display:"flex","flex-direction":"row",padding:"20px","border-top":"1px solid #dedede",cursor:"pointer"},on:{click:function(e){return t.goto("permission")}}},[a("div",{staticStyle:{flex:"0 0 auto",width:"30px","padding-top":"5px"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[a("svg",{staticClass:"icon",attrs:{t:"1600923240386",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9101",width:"16",height:"16"}},[a("path",{attrs:{d:"M851.49696 979.49696H177.4592c-37.23264 0-67.39968-28.16-67.39968-62.93504V444.74368c0-34.73408 30.18752-62.89408 67.39968-62.89408h674.03776c37.21216 0 67.39968 28.18048 67.39968 62.89408v471.81824c0 34.75456-30.18752 62.93504-67.39968 62.93504zM514.4576 539.136c-55.84896 0-101.10976 42.22976-101.10976 94.35136 0 31.47776 16.73216 59.12576 42.16832 76.1856a18.0224 18.0224 0 0 1 8.37632 14.86848v79.99488c0 27.11552 22.6304 49.13152 50.56512 49.13152 27.89376 0 50.54464-22.016 50.54464-49.13152v-79.99488c0-6.08256 3.33824-11.4688 8.37632-14.86848 25.43616-17.08032 42.16832-44.70784 42.16832-76.1856 0.02048-52.1216-45.21984-94.35136-101.08928-94.35136z m0-408.94464c-106.25024 0-193.37216 76.4928-201.58464 173.69088-0.7168 8.37632-7.2704 15.03232-15.6672 15.03232h-69.77536c-8.88832 0-16.32256-7.41376-15.79008-16.30208C220.69248 153.86624 352.80896 35.84 514.4576 35.84s293.76512 118.02624 302.81728 266.77248c0.53248 8.88832-6.90176 16.30208-15.79008 16.30208h-69.77536c-8.41728 0-14.97088-6.656-15.6672-15.03232-8.21248-97.19808-95.3344-173.69088-201.58464-173.69088z",fill:"#707070","p-id":"9102"}})])])]),t._m(1),a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle",height:"100%"}},[a("svg",{staticClass:"icon",attrs:{t:"1600923455010",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"12893",width:"16",height:"16"}},[a("path",{attrs:{d:"M229.266979 1023.317894a59.002187 59.002187 0 0 0 36.492682-12.789492l565.466042-454.282731a58.32008 58.32008 0 0 0 0-90.890651L268.317559 12.948081a58.32008 58.32008 0 0 0-72.985364 90.890652l506.463856 406.876349L192.774297 921.001963a58.32008 58.32008 0 0 0 36.492682 102.315931z","p-id":"12894",fill:"#707070"}})])])])]),a("div",{staticStyle:{display:"flex","flex-direction":"row",padding:"20px","border-top":"1px solid #dedede",cursor:"pointer"},on:{click:function(e){return t.goto("flow")}}},[a("div",{staticStyle:{flex:"0 0 auto",width:"30px","padding-top":"5px"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[a("svg",{staticClass:"icon",attrs:{t:"1600922992066",viewBox:"0 0 1071 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6388",width:"16",height:"16"}},[a("path",{attrs:{d:"M884.364 465.455h-46.546c-25.716 0-46.545-20.83-46.545-46.546s20.829-46.545 46.545-46.545h46.546c51.41 0 93.09-41.682 93.09-93.091 0-51.41-41.68-93.091-93.09-93.091h-46.546c-25.716 0-46.545-20.853-46.545-46.546 0-25.716 20.829-46.545 46.545-46.545h46.546c102.819 0 186.181 83.363 186.181 186.182 0 102.819-83.362 186.182-186.181 186.182zM721.454 1024H349.092c-25.716 0-46.546-20.852-46.546-46.545V791.273c0-25.717 20.83-46.546 46.546-46.546h372.364c25.716 0 46.545 20.83 46.545 46.546v186.182c0 25.693-20.83 46.545-46.545 46.545z m-93.09-186.182H442.182c-25.717 0-46.546 20.83-46.546 46.546s20.83 46.545 46.546 46.545h186.182c25.716 0 46.545-20.829 46.545-46.545 0-25.717-20.829-46.546-46.545-46.546z m93.09-186.182H349.092c-25.716 0-46.546-20.852-46.546-46.545V418.909c0-25.716 20.83-46.545 46.546-46.545h372.364c25.716 0 46.545 20.829 46.545 46.545v186.182c0 25.693-20.83 46.545-46.545 46.545z m-93.09-186.181H442.182c-25.717 0-46.546 20.829-46.546 46.545s20.83 46.545 46.546 46.545h186.182c25.716 0 46.545-20.829 46.545-46.545s-20.829-46.545-46.545-46.545z m93.09-186.182H349.092c-25.716 0-46.546-20.853-46.546-46.546V46.545C302.545 20.83 323.375 0 349.091 0h372.364C747.17 0 768 20.83 768 46.545v186.182c0 25.693-20.83 46.546-46.545 46.546zM628.365 93.09H442.182c-25.717 0-46.546 20.829-46.546 46.545 0 25.693 20.83 46.546 46.546 46.546h186.182c25.716 0 46.545-20.853 46.545-46.546 0-25.716-20.829-46.545-46.545-46.545zM186.182 791.273h46.545c25.717 0 46.546 20.829 46.546 46.545 0 25.693-20.83 46.546-46.546 46.546h-46.545C83.362 884.364 0 801 0 698.182 0 595.362 83.363 512 186.182 512h46.545c25.717 0 46.546 20.83 46.546 46.545 0 25.717-20.83 46.546-46.546 46.546h-46.545c-51.41 0-93.091 41.681-93.091 93.09 0 51.41 41.681 93.092 93.09 93.092z","p-id":"6389",fill:"#707070"}})])])]),t._m(2),a("div",{staticStyle:{flex:"0 0 auto"}},[a("div",{staticStyle:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle",height:"100%"}},[a("svg",{staticClass:"icon",attrs:{t:"1600923455010",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"12893",width:"16",height:"16"}},[a("path",{attrs:{d:"M229.266979 1023.317894a59.002187 59.002187 0 0 0 36.492682-12.789492l565.466042-454.282731a58.32008 58.32008 0 0 0 0-90.890651L268.317559 12.948081a58.32008 58.32008 0 0 0-72.985364 90.890652l506.463856 406.876349L192.774297 921.001963a58.32008 58.32008 0 0 0 36.492682 102.315931z","p-id":"12894",fill:"#707070"}})])])])])])])},mm=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","margin-left":"5px"}},[a("div",{staticStyle:{"font-size":"15px"}},[t._v("工作项属性")]),a("div",{staticStyle:{color:"#aaaaaa"}},[t._v("工作项属性可以用于定制对应工作项类型的显示字段，支持多种类型的特殊定制。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","margin-left":"5px"}},[a("div",{staticStyle:{"font-size":"15px"}},[t._v("工作项权限")]),a("div",{staticStyle:{color:"#aaaaaa"}},[t._v("工作项权限可以用于定制工作项的操作权限控制。")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"1","margin-left":"5px"}},[a("div",{staticStyle:{"font-size":"15px"}},[t._v("工作项工作流")]),a("div",{staticStyle:{color:"#aaaaaa"}},[t._v("工作流可以用于定制对应工作项在不同状态阶段的流转。")])])}],fm={data:function(){return{title:"",team:"",issue_type:"",items:[]}},created:function(){var t=this;t.title=t.$route.params.title,t.team=t.$route.params.team,t.issue_type=t.$route.params.issue_type,t.issue_type_get()},methods:{issue_type_get:function(){var t=this;t.title||mt.get(this.urls.issue_type_get.format(t.team,t.issue_type)).then((function(e){t.title=e.data.name}))},goto:function(t){var e=this;Qm.push({name:"IssueTypeSetting",params:{team:e.team,issue_type:e.issue_type,title:e.title,type:t}})}}},vm=fm,hm=Object(T["a"])(vm,pm,mm,!1,null,"7e888751",null),xm=hm.exports,gm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox",staticStyle:{"max-width":"1200px",flex:"1 1 auto","min-height":"100%"}},[a("div",{staticClass:"flex-row b-line align-items-center padding20",staticStyle:{flex:"0 0 auto"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("router-link",{attrs:{to:{name:"IssueTypeSettingManager",params:{team:t.team}}}},[a("span",{staticStyle:{"font-size":"18px"}},[t._v("工作项类型")])])],1),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),a("div",{staticStyle:{display:"flex"}},[a("router-link",{attrs:{to:{name:"IssueTypeSetting",params:{team:t.team,issue_type:t.issue_type,type:"config",title:t.title}}}},[a("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.title))])])],1),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),t._m(0)]),a("div",{staticClass:"flex-row",staticStyle:{flex:"auto","align-items":"center","justify-content":"end"}},[a("Summary",{attrs:{desc:t.desc}})],1)]),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("Search",{staticStyle:{margin:"20px 0"},attrs:{placeholder:"搜索工作项属性"}}),a("div",{attrs:{id:"project-main"}},[a("div",{staticStyle:{"-webkit-flex":"1",flex:"1",position:"relative","z-index":"0",display:"flex"}},[a("div",{staticClass:"table"},[t._m(1),t._l(t.items,(function(e){return a("div",{key:e.uuid,staticClass:"table-row"},[a("div",{staticClass:"td flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[t._v(t._s(e.name))]),a("div",{staticStyle:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[e.built_in?a("div",{staticStyle:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},[t._v("系统")]):t._e()])]),a("div",{staticClass:"td"},[t._v(t._s(t._f("taskFieldType")(e.type)))]),a("div",{staticClass:"td"},[e.can_modify_required?a("div",{staticStyle:{"font-weight":"bolder","text-align":"center",width:"30px"}},[a("b-form-checkbox",{attrs:{name:"check-button",switch:""},on:{change:function(a){return t.toggle(e)}},model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"item.required"}})],1):a("div",{staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])]),a("div",{staticClass:"td align-items-center iop",staticStyle:{display:"flex",flex:"0 0 80px"}},[e.can_delete?a("div",{staticClass:"del",staticStyle:{"font-weight":"bolder","text-align":"center",width:"30px"}},[a("svg",{staticClass:"icon",attrs:{t:"1619925824323",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"}},[a("path",{attrs:{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"}})])]):a("div",{staticStyle:{width:"30px",height:"2px"}},[a("div",{staticStyle:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])])}))],2)])])],1)])},_m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("span",{staticStyle:{"font-size":"18px",color:"#909090"}},[t._v("工作项属性")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-row-header"},[a("div",{staticClass:"th"},[t._v("属性名称")]),a("div",{staticClass:"th"},[t._v("属性类型")]),a("div",{staticClass:"th"},[t._v("是否必填")]),a("div",{staticClass:"th",staticStyle:{display:"flex",flex:"0 0 80px"}},[t._v("操作")])])}],ym={data:function(){return{title:"",name:"",team:"",project:"",issue_type:"",fields:[],fieldTemplates:[],desc:"配置中心下，工作项属性修改，不会同步到已经应用的项目中。"}},created:function(){var t=this;t.title=t.$route.params.title,t.team=t.$route.params.team,t.project=t.$route.params.project,t.issue_type=t.$route.params.issue_type,t.project_issue_type_field(),t.team_field_lst()},methods:{project_issue_type_field:function(){var t=this;mt.get(t.urls.issue_type_template_get.format(t.team,t.issue_type)).then((function(e){t.title=e.data.name,t.fieldTemplates=e.data.default_configs.default_field_configs}))},team_field_lst:function(){var t=this;mt.post(this.urls.issue_type_field_list.format(t.team)).then((function(e){t.fields=e.data}))}},computed:{items:function(){var t=this,e=[];if(t.fieldTemplates.length>0&&t.fields.length>0)for(var a=0;a<t.fieldTemplates.length;a++){for(var i={},s=0;s<t.fields.length;s++)if(t.fieldTemplates[a].field_uuid===t.fields[s].uuid){Object.assign(i,t.fieldTemplates[a]),Object.assign(i,t.fields[s]);break}e.push(i)}return e}},components:{Search:Zi,Summary:Ls}},bm=ym,Sm=Object(T["a"])(bm,gm,_m,!1,null,"766be2c5",null),wm=Sm.exports,km=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox",staticStyle:{"max-width":"1200px",flex:"1 1 auto",height:"100%"}},[a("div",{staticClass:"flex-row align-items-center b-line padding20",staticStyle:{flex:"0 0 auto"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("router-link",{attrs:{to:{name:"IssueTypeSettingManager",params:{team:t.team}}}},[a("span",{staticStyle:{"font-size":"18px"}},[t._v("工作项类型")])])],1),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),a("div",{staticStyle:{display:"flex"}},[a("router-link",{attrs:{to:{name:"IssueTypeSetting",params:{team:t.team,issue_type:t.issue_type,type:"config",title:t.title}}}},[a("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.title))])])],1),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),t._m(0)]),a("div",{staticClass:"flex-row",staticStyle:{flex:"auto","align-items":"center","justify-content":"end"}},[a("Summary",{attrs:{desc:t.desc}})],1)]),a("div",{staticStyle:{padding:"0 20px 20px 20px"}},[a("div",{staticStyle:{"margin-top":"20px"},attrs:{id:"project-main"}},[a("div",{staticClass:"flex-column workFlowTable",staticStyle:{"border-left":"1px solid #dedede","border-top":"1px solid #dedede"}},[a("div",{staticStyle:{flex:"1"}},[a("div",{staticClass:"flex-row",staticStyle:{flex:"1","background-color":"#f8f8f8","border-bottom":"1px solid #dedede",height:"60px"}},[t._m(1),t._l(t.headers,(function(t){return a("div",{key:t.uuid,staticClass:"flex-row align-items-center justify-content-center",staticStyle:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede"}},[a("div",[a("ColorStatus",{attrs:{color:t.category.toString(),name:t.name}})],1)])}))],2)]),a("div",{staticClass:"flex-column",staticStyle:{flex:"1"}},t._l(t.flows,(function(e){return a("div",{key:e.uuid,staticClass:"flex-row align-items-center",staticStyle:{flex:"1","border-bottom":"1px solid #dedede"}},[a("div",{staticStyle:{flex:"0 0 200px",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px",width:"200px"}},[a("div",{staticClass:"flex-row"},[a("div",{staticStyle:{flex:"0 0 auto"}},[a("ColorStatus",{attrs:{color:e.category.toString(),name:e.name}})],1),e.default?a("div",{staticStyle:{"margin-left":"5px"}},[a("div",{staticStyle:{"font-size":"12px",color:"#909090",display:"inline-block",height:"20px","line-height":"18px",border:"1px solid rgba(134,147,160,0.5)","border-radius":"20px",padding:"0px 8px"}},[t._v("初始状态")])]):t._e()])]),t._l(e.items,(function(e){return a("div",{key:e.uuid,staticClass:"align-items-center flex-row justify-content-center",staticStyle:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sel,expression:"f.sel"}],staticStyle:{height:"16px",width:"16px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.sel)?t._i(e.sel,null)>-1:e.sel},on:{change:[function(a){var i=e.sel,s=a.target,r=!!s.checked;if(Array.isArray(i)){var n=null,o=t._i(i,n);s.checked?o<0&&t.$set(e,"sel",i.concat([n])):o>-1&&t.$set(e,"sel",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(e,"sel",r)},function(a){return t.change_task_status(e.uuid,e.name,e.start_uuid,e.end_uuid,e.sel)}]}})])}))],2)})),0)])])])])},Cm=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("span",{staticStyle:{"font-size":"18px",color:"#909090"}},[t._v("工作项工作流")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",display:"flex",width:"200px",height:"60px",position:"relative"}},[a("div",{staticStyle:{flex:"0 0 auto","border-right":"1px solid #dedede",position:"absolute",height:"60px",width:"200px"}},[a("div",{staticClass:"table-head-title"},[a("div",[a("div",{staticClass:"start-status-title",staticStyle:{height:"initial"}},[t._v("开始状态")])]),a("div",[a("div",{staticClass:"end-status-title",staticStyle:{height:"initial"}},[t._v("目标状态")])])])])])}],jm={data:function(){return{title:"",team:"",flows:[],headers:[],lock:!0,taskStatusConfigs:[],transitions:[],taskStatusItems:[],desc:"配置中心下，工作项工作流修改，不会同步到已经应用的项目中。"}},created:function(){var t=this;t.title=t.$route.params.title,t.team=t.$route.params.team,t.project=t.$route.params.project,t.issue_type=t.$route.params.issue_type,t.issue_type_template_field()},methods:{change_task_status:function(t,e,a,i,s){var r=this;if(r.lock){r.lock=!1;var n={uuid:t,name:e,start_status:a,end_status:i,state:s};mt.post(this.urls.project_issue_type_flow_submit.format(r.team,r.project,r.issue_type),n).then((function(){r.issue_type_template_field(),r.lock=!0}))}},issue_type_template_field:function(){var t=this;mt.get(t.urls.issue_type_template_get.format(t.team,t.issue_type)).then((function(e){t.title=e.data.name,t.taskStatusConfigs=e.data.default_configs.default_task_status_configs,t.transitions=e.data.default_configs.default_transitions,t.issue_type_flow()}))},issue_type_flow:function(){for(var t=this,e=[],a=0;a<t.taskStatusConfigs.length;a++)e.push(t.taskStatusConfigs[a].status_uuid);mt.post(this.urls.issue_type_task_status_list.format(t.team,t.issue_type),e).then((function(e){t.taskStatusItems=e.data,t.headers=[],t.flows=[];for(var a=0;a<t.taskStatusConfigs.length;a++){for(var i=t.taskStatusConfigs[a].status_uuid,s={items:[]},r=0;r<t.taskStatusConfigs.length;r++){for(var n=t.taskStatusConfigs[r].status_uuid,o={start:i,end_uuid:n,uuid:"{0}-{1}".format(i,n)},l=0;l<t.transitions.length;l++){if(t.transitions[l].start_status_uuid===i&&t.transitions[l].end_status_uuid===n){o.sel=!0;break}o.sel=!1}s.items.push(o)}for(var c=0;c<t.taskStatusItems.length;c++)if(t.taskStatusConfigs[a].status_uuid===t.taskStatusItems[c].uuid){t.headers.push(t.taskStatusItems[c]),Object.assign(s,t.taskStatusItems[c]),t.flows.push(s);break}}}))}},components:{ColorStatus:vc,Summary:Ls}},$m=jm,zm=(a("352f"),Object(T["a"])($m,km,Cm,!1,null,"6c9769ee",null)),Em=zm.exports,Mm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ibox",staticStyle:{"max-width":"1200px",flex:"1 1 auto",height:"100%"}},[a("div",{staticClass:"flex-row b-line align-items-center padding20",staticStyle:{flex:"0 0 auto"}},[a("div",{staticClass:"flex-row align-items-center",staticStyle:{flex:"1"}},[a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("router-link",{attrs:{to:{name:"IssueTypeSettingManager",params:{team:t.team}}}},[a("span",{staticStyle:{"font-size":"18px"}},[t._v("工作项类型")])])],1),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),a("div",{staticStyle:{display:"flex"}},[a("router-link",{attrs:{to:{name:"IssueTypeSetting",params:{team:t.team,issue_type:t.issue_type,type:"config",title:t.title}}}},[a("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.title))])])],1),a("div",{staticStyle:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[a("svg",{staticClass:"icon",attrs:{t:"1600623000490",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"}},[a("path",{attrs:{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"}})])]),t._m(0)]),a("div",{staticClass:"flex-row",staticStyle:{flex:"auto","align-items":"center","justify-content":"end"}},[a("Summary",{attrs:{desc:t.desc}})],1)]),t.loaded?a("div",{staticStyle:{padding:"0 20px 20px 20px"}},t._l(t.maps,(function(e,i){return a("PermissionItem",{key:i,attrs:{role_members:t.role_members,data:t.data,group:e,issue_type_name:t.title,issue_type:t.issue_type}})})),1):t._e()])},Pm=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{flex:"0 0 auto",display:"flex"}},[a("span",{staticStyle:{"font-size":"18px",color:"#909090"}},[t._v("工作项权限")])])}],Tm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PermissionItem",{attrs:{exist:t.exist,items:t.items,title:t.title,desc:t.desc},on:{add:t.add,del:t.del}})},Dm=[],Im={data:function(){return{everyone:{uuid:"s3",name:"所有成员",desc:"当前团队所有成员",type:"everyone",param:""},project_assign:{uuid:"s16",name:"项目负责人",type:"project_assign",param:""},team_owner:{uuid:"s10",name:"团队负责人",type:"team_owner",param:""},template:{roles:{uuid:"role",title:"角色",groups:[],exist:[]},members:{uuid:"member",title:"成员",groups:[],exist:[],isMember:!0}},exist:[],title:"",desc:"",permission:""}},props:{group:Object,role_members:Array,data:Object,issue_type:String,issue_type_name:String},created:function(){var t=this;t.title=t.group.title.replace("#",t.issue_type_name),t.desc=t.group.desc.replace("#",t.issue_type_name),t.permission=t.group.permission},methods:{add:function(t,e){var a=this;a.team=a.$route.params.team,a.data.permission_rule.permission=a.group.permission,a.data.permission_rule.user_domain_type=e,a.data.permission_rule.user_domain_param=t,mt.post(a.urls.issue_type_permission_rules_add.format(a.team,a.issue_type),a.data).then((function(){a.$parent.project_issue_type_field()}))},del:function(t){var e=this;e.team=e.$route.params.team,mt.get(e.urls.issue_type_permission_rule_delete.format(e.team,e.issue_type,t)).then((function(){e.$parent.project_issue_type_field()}))}},components:{PermissionItem:Rr},computed:{items:function(){var t=this,e=[],a=[],i=[];if(t.exist=[],t.group.groups)for(var s=0;s<t.group.groups.length;s++){var r=t.group.groups[s],n=!1;switch(r.type){case"single_user":i.push(r.param);for(var o=0;o<t.group.members.length;o++){var l=t.group.members[o];if(l.uuid===r.param){var c={uuid:l.uuid,permission:r.uuid,name:l.name,type:"single_user"};t.exist.push(c);break}}break;case"everyone":t.everyone.permission=r.uuid,t.exist.push(t.everyone);break;case"role":for(var d=0;d<t.group.roles.length;d++){var u=t.group.roles[d];if(u.uuid===r.param){u.permission=r.uuid,t.exist.push(u);break}}break;case"project_assign":t.project_assign.permission=r.uuid,t.exist.push(t.project_assign);break;default:n=!0;break}n||e.push(r.type)}for(var p=[],m=0;m<t.group.in_roles.length;m++){var f=t.group.in_roles[m];p.push(t[f])}for(var v=0;v<t.group.roles.length;v++){var h=t.group.roles[v];h.param=h.uuid,p.push(h)}for(var x=[],g=0;g<t.group.members.length;g++){var _=t.group.members[g];_.param=_.uuid,x.push(_)}for(var y=t.template,b=[],S=0;S<p.length;S++){for(var w=p[S],k=!1,C=0;C<e.length;C++)if(w.type===e[C]){k=!0;break}k||b.push(w)}y.roles.groups=b,a.push(y.roles);for(var j=[],$=0;$<x.length;$++){for(var z=x[$],E=!1,M=0;M<i.length;M++)if(z.uuid===i[M]){E=!0;break}E||j.push(z)}return y.members.groups=j,a.push(y.members),a}}},Om=Im,Bm=Object(T["a"])(Om,Tm,Dm,!1,null,null,null),Hm=Bm.exports,Am={data:function(){return{team:"",issue_type:"",title:"",maps:{create:{permission:"create_tasks",title:"创建#",desc:"允许成员创建#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},view:{permission:"view_tasks",title:"查看#",desc:"允许成员查看#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},update:{permission:"update_tasks",title:"编辑#",desc:"允许成员修改#，以及对#进行其他变更操作",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},delete:{permission:"delete_tasks",title:"删除#",desc:"允许成员删除#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},transit:{permission:"transit_tasks",title:"更新#状态",desc:"允许成员更新#状态",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},role_members:[],loaded:!1,data:{permission_rule:{}},desc:"配置中心下，工作项权限修改，不会同步到已经应用的项目中。"}},created:function(){var t=this;t.team=t.$route.params.team,t.issue_type=t.$route.params.issue_type,t.title=t.$route.params.title,t.project_issue_type_field()},methods:{project_issue_type_field:function(){var t=this;mt.get(t.urls.issue_type_template_get.format(t.team,t.issue_type)).then((function(e){t.title=e.data.name;var a=e.data.default_configs.default_permission;for(var i in t.maps){var s=t.maps[i];s.groups=[]}for(var r in t.maps){for(var n=[],o=t.maps[r],l=0;l<a.length;l++){var c=a[l];if(c.permission===o.permission){var d={uuid:c.uuid,param:c.user_domain_param,type:c.user_domain_type};n.push(d)}}o.groups=n}t.GetTeamRolesAndMembers()}))},GetTeamRolesAndMembers:function(){var t=this;mt.get(t.urls.team_roles_members.format(t.team)).then((function(e){for(var a in t.maps){for(var i=t.maps[a],s=[],r=0;r<e.data.roles.length;r++){var n=e.data.roles[r],o={type:"role",name:n.name,name_pinyin:n.name_pinyin,uuid:n.uuid};s.push(o)}for(var l=[],c=0;c<e.data.members.length;c++){var d=e.data.members[c];d.type="single_user",l.push(d)}i.roles=s,i.members=l}t.loaded=!0}))}},components:{PermissionItem:Hm,Summary:Ls}},Um=Am,Lm=Object(T["a"])(Um,Mm,Pm,!1,null,null,null),Nm=Lm.exports,qm={data:function(){return{currentTabComponent:xm,tagIndex:11}},components:{config:xm,field:wm,flow:Em,permission:Nm},watch:{$route:function(){var t=this.$route.params.type;this.tag_switch(t)}},created:function(){var t=this,e=t.$route.params.type;t.tag_switch(e)},methods:{tag_switch:function(t){var e=this;e.currentTabComponent=t}}},Vm=qm,Fm=Object(T["a"])(Vm,dm,um,!1,null,null,null),Gm=Fm.exports,Rm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"20px","font-size":"18px"},attrs:{id:"master"}},[t._v(" 帮助文档中心 ")])},Wm=[],Ym=(a("6a24"),{}),Jm=Object(T["a"])(Ym,Rm,Wm,!1,null,null,null),Zm=Jm.exports;s["default"].use(J["a"]);var Km=[{path:"/",meta:{title:"爱斯园 - 上善若水，贤贤易色"},name:"Main",component:qe},{path:"/reg",meta:{title:"注册 - 爱斯园"},name:"Reg",component:Ye},{path:"/logout",meta:{title:"退出登录"},name:"Logout",component:Ma},{path:"/team",meta:{title:"我的工作台"},name:"Layout",component:oe,children:[{path:":team/setting/project",meta:{title:"项目配置中心"},name:"ProjectSetting",component:Ms,children:[{path:"manager",meta:{title:"项目配置中心",tagIndex:82},name:"ProjectSettingManager",component:Ys},{path:"field",meta:{title:"项目配置中心",tagIndex:82},name:"ProjectSettingField",component:tr},{path:"status",meta:{title:"项目配置中心",tagIndex:82},name:"ProjectSettingStatus",component:nr},{path:":project/permission",meta:{title:"项目配置中心",tagIndex:82},name:"ProjectPermissionSetting",component:tn}]},{path:":team/setting/issue_type",meta:{title:"项目配置中心"},name:"TeamIssueTypeSetting",component:Ms,children:[{path:"manager",meta:{title:"项目配置中心",tagIndex:82},name:"IssueTypeSettingManager",component:gr},{path:"field",meta:{title:"项目配置中心",tagIndex:82},name:"IssueTypeSettingField",component:kr},{path:"status",meta:{title:"项目配置中心",tagIndex:82},name:"IssueTypeSettingStatus",component:Mr},{path:"priority",meta:{title:"项目配置中心",tagIndex:82},name:"IssueTypeSettingPriority",component:Br},{path:":issue_type/:type",meta:{title:"项目配置中心",tagIndex:82},name:"IssueTypeSetting",component:Gm}]},{path:":team/project_list",meta:{title:"项目管理",tagIndex:21},name:"Projects",component:ns},{path:":team/project_add",meta:{title:"项目管理",tagIndex:21},name:"AddProject",component:ps},{path:":team/project/:project",meta:{title:"项目管理",tagIndex:21},name:"Project",component:gs},{path:":team/wiki",meta:{title:"文档中心",tagIndex:23},name:"Spaces",component:Gc},{path:":team/setting/wiki/:type",meta:{title:"文档配置中心",tagIndex:83},name:"WikiSetting",component:vd},{path:":team/setting/:type",meta:{title:"团队配置中心",tagIndex:26},name:"TeamSetting",component:cm},{path:":team/center/:type",meta:{title:"个人中心"},name:"Center",component:ka},{path:":team/workbench/:type",meta:{title:"我的工作台",tagIndex:1},name:"Workbench",component:qi},{path:":team/project/:project/component/:com",meta:{title:"项目管理",tagIndex:21,tab:"project"},name:"Component",component:$c},{path:":team/project/:project/component/:com/:attr",meta:{title:"项目管理",tagIndex:21,tab:"project"},name:"ComponentDesigner",component:$c},{path:":team/project/:project/component/:com/issue_type/:issue_type/:attr",meta:{title:"项目管理",tagIndex:21,tab:"project"},name:"ComponentIssueTypeDesigner",component:$c},{path:":team/project/:project/component/:com/task/:task",meta:{title:"项目管理",tagIndex:21,tab:"project"},name:"Task",component:$c}]},{path:"/team",meta:{title:"文档"},name:"Wiki",component:Me,children:[{path:":team/space/:space",meta:{title:"文档中心"},name:"Space",component:bd},{path:":team/space/:space/article",meta:{title:"文档中心"},name:"Article",component:Gd,children:[{path:"page/:page",meta:{title:"文档中心"},name:"Page",component:cu},{path:"draft/:draft",meta:{title:"文档中心"},name:"Draft",component:$u}]},{path:":team/space/:space/page/:page/add",meta:{title:"添加页面"},name:"AddPage",component:Uu},{path:":team/space/:space/page/:page/edit",meta:{title:"编辑页面"},name:"EditPage",component:Gu},{path:":team/space/:space/draft/:draft/edit",meta:{title:"编辑页面"},name:"EditDraft",component:Gu},{path:":team/space/:space/settings/:type",meta:{title:"页面组设置",tagIndex:83},name:"SpaceSettings",component:vp}]},{path:"/help",meta:{title:"帮助文档中心"},name:"Help",component:Zm}],Qm=new J["a"]({mode:"history",routes:Km}),Xm=a("5f5b"),tf=a("b1e0"),ef=(a("f9e3"),a("2dd8"),a("7f46"),{team_create:"/api/team",login_url:"/api/login",verify_phone:"/api/verify_phone/{0}",send_phone_code:"/api/send_phone_code/{0}",team_get:"/api/team/{0}",team_update:"/api/team/{0}/update",team_member_list:"/api/team/{0}/get_team_members",team_member_add:"/api/team/{0}/members/add",team_member_delete:"/api/team/{0}/members/delete",team_project_list:"/api/team/{0}/projects",team_roles_members:"/api/team/{0}/team_roles_members",user_get:"/api/team/{0}/user/{1}",upload:ut.upload_url,department_member_list:"/api/team/{0}/department/{1}/list",priority_options_get:"/api/team/{0}/priority_options_get",space_add:"/api/team/{0}/spaces/add",space_get:"/api/team/{0}/space/{1}",space_update:"/api/team/{0}/space/{1}/update",space_user_domain_group:"/api/team/{0}/space/{1}/space_user_domain_group",spaces:"/api/team/{0}/spaces",page_tree_get:"/api/team/{0}/space/{1}/page_tree_get",default_main_page:"/api/team/{0}/space/{1}/default_main_page",page_get:"/api/team/{0}/space/{1}/page/{2}",page_draft_add:"/api/team/{0}/space/{1}/page_draft_add",page_draft_update:"/api/team/{0}/space/{1}/draft/{2}/update",drafts:"/api/team/{0}/space/{1}/drafts",draft_get:"/api/team/{0}/space/{1}/draft/{2}",draft_delete:"/api/team/{0}/space/{1}/draft/{2}/delete",issue_type_get:"/api/team/{0}/issue_type/{1}",issue_type_template_get:"/api/team/{0}/issue_type/{1}/get_issue_type_template",issue_type_field_list:"/api/team/{0}/issue_type_field",issue_type_field_option_list:"/api/team/{0}/issue_type_field_options/{1}",issue_type_field_update:"/api/team/{0}/issue_type_field/update",issue_type_list:"/api/team/{0}/issue_type_list",issue_type_priority:"/api/team/{0}/issue_type_priority",issue_type_status:"/api/team/{0}/issue_type_status",issue_type_task_status_list:"/api/team/{0}/issue_type/{1}/issue_type_task_status_list",project_field:"/api/team/{0}/projects/field",project_list:"/api/team/{0}/projects/list",project_status:"/api/team/{0}/projects/status",project_add:"/api/team/{0}/projects/add",project_update:"/api/team/{0}/project/{1}/update",project_plan_update:"/api/team/{0}/project/{1}/update_plan",project_first_component:"/api/team/{0}/project/{1}/components/first",project_template:"/api/team/{0}/project/{1}/setting/template",project_get:"/api/team/{0}/project/{1}",status_data_list:"/api/team/{0}/project/{1}/status_data_list",project_change_assign:"/api/team/{0}/project/{1}/change_assign",project_role_members:"/api/team/{0}/project/{1}/project_role_members",project_member_add:"/api/team/{0}/project/{1}/members/add",project_change_status:"/api/team/{0}/project/{1}/project_change_status",project_user_domain_group:"/api/team/{0}/project/{1}/project_user_domain_group",project_delete:"/api/team/{0}/project/{1}/delete",role_members:"/api/team/{0}/project/{1}/role_members",project_issue_type_field:"/api/team/{0}/project/{1}/issue_type/{2}/field",project_issue_type_flow:"/api/team/{0}/project/{1}/issue_type/{2}/get_project_issue_type_flow",project_issue_type_flow_submit:"/api/team/{0}/project/{1}/issue_type/{2}/update_project_issue_type_flow",component_get:"/api/team/{0}/project/{1}/component/{2}",component_update:"/api/team/{0}/project/{1}/component/{2}/update",components:"/api/team/{0}/project/{1}/components",next_status_list:"/api/team/{0}/project/{1}/issue_type/{2}/next_status_list/{3}",certificate_add:"/api/ding/login_certificate/add",task_add:"/api/team/{0}/project/{1}/issue_type/{2}/tasks/add",task_update:"/api/team/{0}/project/{1}/issue_type/{2}/task/{3}/update",task_list:"/api/team/{0}/project/{1}/issue_type/{2}/tasks",task_get:"/api/team/{0}/task/{1}",task_change_assign:"/api/team/{0}/task/{1}/change_assign",task_change_status:"/api/team/{0}/task/{1}/change_status",task_change_priority:"/api/team/{0}/task/{1}/change_priority",task_list_by_assign:"/api/team/{0}/tasks_by_assign",task_list_by_owner:"/api/team/{0}/tasks_by_owner",task_list_by_watcher:"/api/team/{0}/tasks_by_watcher",watchers_update:"/api/team/{0}/project/{1}/task/{2}/watchers/{3}",link_tasks:"/api/team/{0}/project/{1}/link_tasks",linked_tasks_add:"/api/team/{0}/task/{1}/linked_tasks_add",linked_tasks:"/api/team/{0}/task/{1}/linked_tasks",linked_source_tasks:"/api/team/{0}/task/{1}/linked_source_tasks",linked_tasks_del:"/api/team/{0}/task/{1}/linked_tasks_delete/{2}",department_tree:"/api/team/{0}/setting/department/tree",permission_rules_add:"/api/team/{0}/permission_rules/add",permission_rule_delete:"/api/team/{0}/permission_rule/{1}/delete",team_permission_rules:"/api/team/{0}/team_permission_rules",issue_type_permission_rules_add:"/api/team/{0}/issue_type/{1}/permission_rules/add",issue_type_permission_rule_delete:"/api/team/{0}/issue_type/{1}/permission_rule/{2}/delete",issue_type_user_domain_group:"/api/team/{0}/project/{1}/issue_type/{2}/issue_type_user_domain_group",field_option_value_list:"/api/team/{0}/project/{1}/issue_type/{2}/field/{3}/list",field_option_update:"/api/team/{0}/project/{1}/issue_type/{2}/update_field_option",logout:"/api/logout"}),af=ef,sf=a("6930"),rf=a.n(sf);Object.keys(i).forEach((function(t){s["default"].filter(t,i[t])})),s["default"].use(r["a"]),s["default"].use(Xm["a"]),s["default"].use(tf["a"]),s["default"].prototype.urls=af,s["default"].prototype.codes=b,s["default"].config.productionTip=!1,s["default"].prototype.bus=new s["default"],s["default"].use(rf.a),Qm.beforeEach((function(t,e,a){t.meta.title&&(document.title=t.meta.title),t.path&&window._hmt&&window._hmt.push(["_trackPageview",t.fullPath]),a(!0)})),new s["default"]({render:function(t){return t(A)},router:Qm,store:Y}).$mount("#app")},"56e1":function(t,e,a){},"58fc":function(t,e,a){},5949:function(t,e,a){"use strict";a("8d78")},"5aa5":function(t,e,a){},"5c50":function(t,e,a){"use strict";a("c87c")},"5de9":function(t,e,a){"use strict";a("4ec0")},"610d":function(t,e,a){},"616e":function(t,e,a){},6270:function(t,e,a){},"63ec":function(t,e,a){"use strict";a("56e1")},6407:function(t,e,a){"use strict";a("f521")},"6a24":function(t,e,a){"use strict";a("58fc")},"6a53":function(t,e,a){},"6ad2":function(t,e,a){"use strict";a("d562")},7214:function(t,e,a){},"72d8":function(t,e,a){"use strict";a("8410")},7575:function(t,e,a){},7807:function(t,e,a){"use strict";a("48a9")},"79cc":function(t,e,a){"use strict";a("610d")},"7a7a":function(t,e,a){"use strict";a("616e")},"7bbc":function(t,e,a){"use strict";a("ad03")},"7ca4":function(t,e,a){"use strict";a("53ab")},"7d4f":function(t,e,a){"use strict";a("2d12")},"7f46":function(t,e,a){a("ac1f"),a("5319"),String.prototype.format=function(){var t=arguments;return this.replace(/\{(\d+)\}/g,(function(e,a){return t[a]}))}},8146:function(t,e,a){},8195:function(t,e,a){"use strict";a("7575")},8253:function(t,e,a){"use strict";a("0c6d")},"833c":function(t,e,a){},8410:function(t,e,a){},"88bd":function(t,e,a){},"8b98":function(t,e,a){"use strict";a("d7a8")},"8d78":function(t,e,a){},"8d7f":function(t,e,a){"use strict";a("cbd0")},"8ea1":function(t,e,a){},"8f1b":function(t,e,a){},"8f7f":function(t,e,a){},"8f83":function(t,e,a){},"947c":function(t,e,a){},9654:function(t,e,a){},9849:function(t,e,a){"use strict";a("b2e5")},"9b9a":function(t,e,a){},"9c06":function(t,e,a){"use strict";a("b10e")},"9c6d":function(t,e,a){"use strict";a("e05f")},"9d1c":function(t,e,a){},"9e57":function(t,e,a){"use strict";a("8f83")},"9e86":function(t,e,a){},a00e:function(t,e,a){"use strict";a("9e86")},a079:function(t,e,a){},a18c:function(t,e,a){},a253:function(t,e,a){"use strict";a("88bd")},a2d1:function(t,e,a){"use strict";a("b946")},a417:function(t,e,a){},a48d:function(t,e,a){"use strict";a("24c3")},a58f:function(t,e,a){},a757:function(t,e,a){},a7de:function(t,e,a){},aa5b:function(t,e,a){"use strict";a("947c")},ad03:function(t,e,a){},ad77:function(t,e,a){"use strict";a("833c")},ade0:function(t,e,a){"use strict";a("4bf5")},aecc:function(t,e,a){},b10e:function(t,e,a){},b2e5:function(t,e,a){},b51b:function(t,e,a){"use strict";a("e5cf")},b946:function(t,e,a){},c05a:function(t,e,a){},c5fa:function(t,e,a){"use strict";a("a757")},c78c:function(t,e,a){"use strict";a("a417")},c87c:function(t,e,a){},c887:function(t,e,a){"use strict";a("9b9a")},cbd0:function(t,e,a){},cd9d:function(t,e,a){"use strict";a("42de")},cfd8:function(t,e,a){},d0f4:function(t,e,a){"use strict";a("e8ec")},d307:function(t,e,a){var i={"./app.js":"d9cd"};function s(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=r,t.exports=s,s.id="d307"},d3ac:function(t,e,a){"use strict";a("7214")},d461:function(t,e,a){"use strict";a("9654")},d4cd:function(t,e,a){"use strict";a("a58f")},d562:function(t,e,a){},d5a4:function(t,e,a){"use strict";a("8f1b")},d5f8:function(t,e,a){"use strict";a("aecc")},d7a8:function(t,e,a){},d9cd:function(t,e,a){"use strict";a.r(e);var i=a("852e"),s=a.n(i),r={sidebar:{opened:!s.a.get("sidebarStatus")||!!+s.a.get("sidebarStatus"),withoutAnimation:!1}},n={TOGGLE_SIDEBAR:function(t){t.sidebar.opened=!t.sidebar.opened,t.sidebar.withoutAnimation=!1,t.sidebar.opened?s.a.set("sidebarStatus",1):s.a.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(t,e){s.a.set("sidebarStatus",0),t.sidebar.opened=!1,t.sidebar.withoutAnimation=e}},o={toggleSideBar:function(t){var e=t.commit;e("TOGGLE_SIDEBAR")},closeSideBar:function(t,e){var a=t.commit,i=e.withoutAnimation;a("CLOSE_SIDEBAR",i)}};e["default"]={namespaced:!0,state:r,mutations:n,actions:o}},da69:function(t,e,a){"use strict";a("a079")},e05f:function(t,e,a){},e370:function(t,e,a){"use strict";a("39cf")},e5cf:function(t,e,a){},e629:function(t,e,a){},e8d9:function(t,e,a){"use strict";a("6270")},e8ec:function(t,e,a){},f521:function(t,e,a){}});
//# sourceMappingURL=app.2f3b6dd6.js.map